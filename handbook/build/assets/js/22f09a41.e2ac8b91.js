"use strict";(self.webpackChunkfurion=self.webpackChunkfurion||[]).push([[6494],{3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return g}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),u=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=u(e.components);return r.createElement(s.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},p=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=u(t),g=a,c=p["".concat(s,".").concat(g)]||p[g]||m[g]||i;return t?r.createElement(c,o(o({ref:n},d),{},{components:t})):r.createElement(c,o({ref:n},d))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=p;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var u=2;u<i;u++)o[u]=t[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"},5162:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(7294),a=t(6010),i="tabItem_Ymn6";function o(e){var n=e.children,t=e.hidden,o=e.className;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(i,o),hidden:t},n)}},5488:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(3117),a=t(7294),i=t(6010),o=t(2389),l=t(7392),s=t(7094),u=t(2466),d="tabList__CuJ",m="tabItem_LNqP";function p(e){var n,t,o=e.lazy,p=e.block,g=e.defaultValue,c=e.values,N=e.groupId,k=e.className,b=a.Children.map(e.children,(function(e){if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=c?c:b.map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes}})),T=(0,l.l)(h,(function(e,n){return e.value===n.value}));if(T.length>0)throw new Error('Docusaurus error: Duplicate values "'+T.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var C=null===g?g:null!=(n=null!=g?g:null==(t=b.find((function(e){return e.props.default})))?void 0:t.props.value)?n:b[0].props.value;if(null!==C&&!h.some((function(e){return e.value===C})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+C+'" but none of its children has the corresponding value. Available values are: '+h.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var y=(0,s.U)(),L=y.tabGroupChoices,S=y.setTabGroupChoices,v=(0,a.useState)(C),J=v[0],f=v[1],A=[],w=(0,u.o5)().blockElementScrollPositionUntilNextRender;if(null!=N){var I=L[N];null!=I&&I!==J&&h.some((function(e){return e.value===I}))&&f(I)}var x=function(e){var n=e.currentTarget,t=A.indexOf(n),r=h[t].value;r!==J&&(w(n),f(r),null!=N&&S(N,String(r)))},E=function(e){var n,t=null;switch(e.key){case"Enter":x(e);break;case"ArrowRight":var r,a=A.indexOf(e.currentTarget)+1;t=null!=(r=A[a])?r:A[0];break;case"ArrowLeft":var i,o=A.indexOf(e.currentTarget)-1;t=null!=(i=A[o])?i:A[A.length-1]}null==(n=t)||n.focus()};return a.createElement("div",{className:(0,i.Z)("tabs-container",d)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":p},k)},h.map((function(e){var n=e.value,t=e.label,o=e.attributes;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:J===n?0:-1,"aria-selected":J===n,key:n,ref:function(e){return A.push(e)},onKeyDown:E,onClick:x},o,{className:(0,i.Z)("tabs__item",m,null==o?void 0:o.className,{"tabs__item--active":J===n})}),null!=t?t:n)}))),o?(0,a.cloneElement)(b.filter((function(e){return e.props.value===J}))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},b.map((function(e,n){return(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==J})}))))}function g(e){var n=(0,o.Z)();return a.createElement(p,(0,r.Z)({key:String(n)},e))}},510:function(e,n,t){t.d(n,{Z:function(){return ie}});var r=t(7294),a=t(102),i=t(3117),o=function(e,n,t){return e?"string"==typeof e?e:e[n]||t:t},l=["size","color","style"],s={display:"block"},u=function(e){var n=e.size,t=e.color,u=e.style,d=(0,a.Z)(e,l),m=u?Object.assign({},s,u):s;return r.createElement("svg",(0,i.Z)({viewBox:"0 0 1024 1024",width:n+"px",height:n+"px",style:m},d),r.createElement("path",{d:"M856.4 292.8c-63.3-63.6-126.6-127.1-190.2-190.3-15.3-15.2-32.7-16.1-48.1-0.8-64.3 63.6-128.1 127.6-191.8 191.9-14 14.2-16.3 31.6-1.7 46 14.8 14.7 31.5 10.6 46.1-2.7 5.1-4.6 9.8-9.7 14.7-14.7 39.2-39.7 78.5-79.5 122.8-124.4 0 170 3 332.2-1.1 494-2.4 96.4-91.2 174.6-187.4 176.6-110.6 2.3-198.6-84.4-199-197.4-0.6-136.3-0.2-272.6-0.1-408.9 0-21.8-7.9-37.4-31.2-39.9-18.9-2-33.2 13.2-33.1 37.5 0 145.8-3.4 291.7 2.4 437.2 6 152.1 160.4 263.5 309.5 230.5C591.8 900 672.8 797.2 673.6 664.6c0.8-144 0.2-288.1 0.2-432.1v-33.3c11.2 10.2 17.6 15.4 23.3 21.3 38.5 38.4 76.7 77 115.3 115.2 14.8 14.6 32.2 19.2 47.8 2.9 13.8-14.8 10.3-31.7-3.8-45.8z",fill:o(t,0,"#333333")}))};u.defaultProps={size:18};var d=u,m=["size","color","style"],p={display:"block"},g=function(e){var n=e.size,t=e.color,l=e.style,s=(0,a.Z)(e,m),u=l?Object.assign({},p,l):p;return r.createElement("svg",(0,i.Z)({viewBox:"0 0 1024 1024",width:n+"px",height:n+"px",style:u},s),r.createElement("path",{d:"M143.872 768a51.2 51.2 0 0 1-15.36-2.56 51.2 51.2 0 0 1-35.328-51.2V283.136a148.992 148.992 0 0 1 141.824-153.6h450.56a148.992 148.992 0 0 1 141.824 153.6V512a148.992 148.992 0 0 1-141.824 153.6H244.224l-60.928 80.896a51.2 51.2 0 0 1-39.424 21.504zM235.008 180.224a97.792 97.792 0 0 0-90.624 102.4v430.592L218.624 614.4h466.944a97.792 97.792 0 0 0 90.624-102.4V283.136a97.792 97.792 0 0 0-90.624-102.4z",fill:o(t,0,"#333333")}),r.createElement("path",{d:"M880.128 875.52a51.2 51.2 0 0 1-39.424-20.48l-60.928-80.896h-243.2a25.6 25.6 0 0 1 0-51.2h268.8l76.288 102.4v-295.936a25.6 25.6 0 0 1 25.6-25.6 25.6 25.6 0 0 1 25.6 25.6v293.888a51.2 51.2 0 0 1-51.2 51.2z",fill:o(t,1,"#333333")}))};g.defaultProps={size:18};var c=g,N=["size","color","style"],k={display:"block"},b=function(e){var n=e.size,t=e.color,l=e.style,s=(0,a.Z)(e,N),u=l?Object.assign({},k,l):k;return r.createElement("svg",(0,i.Z)({viewBox:"0 0 1024 1024",width:n+"px",height:n+"px",style:u},s),r.createElement("path",{d:"M223.425605 449.2744l161.632237 0 0 253.65714c0 16.954137 13.745049 30.699186 30.699186 30.699186 16.95516 0 30.699186-13.745049 30.699186-30.699186l0-284.356326c0-16.95516-13.744026-30.699186-30.699186-30.699186L291.035446 387.876028l217.23665-248.51605L733.039255 387.580293 607.104031 387.580293c-16.954137 0-30.699186 13.745049-30.699186 30.699186l0 284.652062c0 16.954137 13.745049 30.699186 30.699186 30.699186s30.699186-13.745049 30.699186-30.699186L637.803217 448.978664l164.448376 0c12.140505 0 23.140023-7.154957 28.063149-18.251689 4.922103-11.097756 2.841721-24.053835-5.307889-33.05279L530.62315 72.570829c-5.881964-6.495948-14.273075-10.134825-23.024389-10.091846-8.763594 0.076748-17.076934 3.895727-22.844288 10.494005L200.312188 398.371056c-7.92653 9.067516-9.818623 21.931498-4.839215 32.896224S211.383338 449.2744 223.425605 449.2744z",fill:o(t,0,"#333333")}),r.createElement("path",{d:"M222.354204 829.113381l581.732178 0c16.954137 0 30.699186-13.745049 30.699186-30.699186s-13.745049-30.699186-30.699186-30.699186L222.354204 767.715009c-16.954137 0-30.699186 13.745049-30.699186 30.699186S205.400067 829.113381 222.354204 829.113381z",fill:o(t,1,"#333333")}),r.createElement("path",{d:"M804.086381 896.729361 222.354204 896.729361c-16.954137 0-30.699186 13.745049-30.699186 30.699186s13.745049 30.699186 30.699186 30.699186l581.732178 0c16.954137 0 30.699186-13.745049 30.699186-30.699186S821.041542 896.729361 804.086381 896.729361z",fill:o(t,2,"#333333")}))};b.defaultProps={size:18};var h=b,T=["size","color","style"],C={display:"block"},y=function(e){var n=e.size,t=e.color,l=e.style,s=(0,a.Z)(e,T),u=l?Object.assign({},C,l):C;return r.createElement("svg",(0,i.Z)({viewBox:"0 0 1024 1024",width:n+"px",height:n+"px",style:u},s),r.createElement("path",{d:"M380.15463648 874.54223633c0 18.12744166-14.83154297 32.95898463-32.95898463 32.95898463s-32.95898463-14.83154297-32.95898462-32.95898463V228.9152832L172.71078883 370.86962865a33.04467773 33.04467773 0 0 1-46.60400416 0 33.04467773 33.04467773 0 0 1 0-46.6040034l197.55615234-198.14941406A32.76782227 32.76782227 0 0 1 347.0967749 116.52514674c0.03295924 0 0.06591772-0.03295924 0.09887695-0.03295924 1.54907201 0 2.90039088 0.69213867 4.41650366 0.88989258 2.66967773 0.39550781 5.40527318 0.59326172 7.94311548 1.61499049 12.03002904 4.94384766 20.59936549 16.71020508 20.59936549 30.45410156v725.0910642z m320.15698192 23.34155248a32.85351537 32.85351537 0 0 1-23.43383789 9.59106445c-0.03295924 0-0.06591772 0.03295924-0.09887696 0.03295924-1.54907201 0-2.90039088-0.69213867-4.41650365-0.92285182-2.70263697-0.36254857-5.40527318-0.56030248-7.94311549-1.61498972-12.03002904-4.91088842-20.59936549-16.67724584-20.59936473-30.42114309V149.45776367c0-18.12744166 14.83154297-32.95898463 32.95898387-32.95898463s32.95898463 14.83154297 32.95898463 32.95898463v645.60058619l141.52587916-141.92138697c12.81445313-12.82104467 33.81591797-12.82104467 46.63037109 0 12.78808619 12.81445313 12.78808619 33.77636719 0 46.60400416L700.3116184 897.88378881z",fill:o(t,0,"#333333")}))};y.defaultProps={size:18};var L=y,S=["size","color","style"],v={display:"block"},J=function(e){var n=e.size,t=e.color,l=e.style,s=(0,a.Z)(e,S),u=l?Object.assign({},v,l):v;return r.createElement("svg",(0,i.Z)({viewBox:"0 0 1172 1024",width:n+"px",height:n+"px",style:u},s),r.createElement("path",{d:"M870.0416 250.4704a38.4 38.4 0 0 0-8.96 53.5552c13.056 18.2784 24.4224 37.8368 33.7408 58.112a38.4512 38.4512 0 0 0 50.944 18.8928 38.4512 38.4512 0 0 0 18.8416-50.944 436.0192 436.0192 0 0 0-40.96-70.6048 38.3488 38.3488 0 0 0-53.6064-9.0112zM181.4528 566.016a35.9936 35.9936 0 0 0 25.5488-10.5984L351.7952 410.624a36.096 36.096 0 1 0-51.0976-51.0976L217.6 442.5728C250.0096 278.1184 395.264 153.6 569.1392 153.6c50.7904 0 99.8912 10.3936 145.92 30.9248a38.4 38.4 0 1 0 31.232-70.0928 431.36 431.36 0 0 0-177.152-37.632c-214.6816 0-393.1136 156.416-428.4416 361.216L62.1568 359.4752a36.1984 36.1984 0 0 0-51.0976 51.0976l144.8448 144.7936a36.0448 36.0448 0 0 0 25.5488 10.6496zM978.5344 463.104a36.1984 36.1984 0 0 0-51.0976 0l-144.8448 144.7936a36.096 36.096 0 1 0 51.0976 51.0976l88.6272-88.576C894.3104 740.2496 746.8032 870.4 569.1392 870.4a357.7856 357.7856 0 0 1-325.2736-207.7184 38.4 38.4 0 1 0-69.7344 32.3072 434.3808 434.3808 0 0 0 394.9568 252.2112c215.1936 0 393.984-157.184 428.6464-362.7008l74.496 74.496a35.9936 35.9936 0 0 0 51.0976 0 36.096 36.096 0 0 0 0-51.0976l-144.7936-144.7936z",fill:o(t,0,"#333333")}))};J.defaultProps={size:18};var f=J,A=["size","color","style"],w={display:"block"},I=function(e){var n=e.size,t=e.color,l=e.style,s=(0,a.Z)(e,A),u=l?Object.assign({},w,l):w;return r.createElement("svg",(0,i.Z)({viewBox:"0 0 1024 1024",width:n+"px",height:n+"px",style:u},s),r.createElement("path",{d:"M302 332a30 30 0 1 1 0-60h420a30 30 0 0 1 0 60H302zM302 542a30 30 0 0 1 0-60h420a30 30 0 0 1 0 60H302zM302 752a30 30 0 0 1 0-60h120a30 30 0 0 1 0 60H302z",fill:o(t,0,"#333333")}),r.createElement("path",{d:"M789.47 784.1a30 30 0 0 1 39.36 45.3l-144.24 125.25a30 30 0 0 1-19.68 7.35H214.85C163.4 962 122 919.46 122 867.38V156.62C122 104.54 163.4 62 214.85 62h594.3C860.6 62 902 104.54 902 156.62v529.05a30 30 0 1 1-60 0V156.62C842 137.3 827.09 122 809.15 122H214.85C196.91 122 182 137.3 182 156.62v710.76C182 886.7 196.91 902 214.85 902h438.84l135.78-117.9z",fill:o(t,1,"#333333")}),r.createElement("path",{d:"M692 931.19a30 30 0 1 1-60 0v-174.6C632 704.57 673.4 662 724.85 662h147.78a30 30 0 0 1 0 60h-147.78c-17.94 0-32.85 15.3-32.85 34.62v174.6z",fill:o(t,2,"#333333")}))};I.defaultProps={size:18};var x=I,E=["size","color","style"],j={display:"block"},R=function(e){var n=e.size,t=e.color,l=e.style,s=(0,a.Z)(e,E),u=l?Object.assign({},j,l):j;return r.createElement("svg",(0,i.Z)({viewBox:"0 0 1024 1024",width:n+"px",height:n+"px",style:u},s),r.createElement("path",{d:"M512 883.2A371.2 371.2 0 1 0 140.8 512 371.2 371.2 0 0 0 512 883.2z m0 64a435.2 435.2 0 1 1 435.2-435.2 435.2 435.2 0 0 1-435.2 435.2z",fill:o(t,0,"#333333")}),r.createElement("path",{d:"M557.056 512l122.368 122.368a31.744 31.744 0 1 1-45.056 45.056L512 557.056l-122.368 122.368a31.744 31.744 0 1 1-45.056-45.056L466.944 512 344.576 389.632a31.744 31.744 0 1 1 45.056-45.056L512 466.944l122.368-122.368a31.744 31.744 0 1 1 45.056 45.056z",fill:o(t,1,"#333333")}))};R.defaultProps={size:18};var M=R,O=["size","color","style"],_={display:"block"},B=function(e){var n=e.size,t=e.color,l=e.style,s=(0,a.Z)(e,O),u=l?Object.assign({},_,l):_;return r.createElement("svg",(0,i.Z)({viewBox:"0 0 1024 1024",width:n+"px",height:n+"px",style:u},s),r.createElement("path",{d:"M940 512H792V412c76.8 0 139-62.2 139-139 0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 34.8-28.2 63-63 63H232c-34.8 0-63-28.2-63-63 0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 76.8 62.2 139 139 139v100H84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h148v96c0 6.5 0.2 13 0.7 19.3C164.1 728.6 116 796.7 116 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-44.2 23.9-82.9 59.6-103.7 6 17.2 13.6 33.6 22.7 49 24.3 41.5 59 76.2 100.5 100.5S460.5 960 512 960s99.8-13.9 141.3-38.2c41.5-24.3 76.2-59 100.5-100.5 9.1-15.5 16.7-31.9 22.7-49C812.1 793.1 836 831.8 836 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-79.3-48.1-147.4-116.7-176.7 0.4-6.4 0.7-12.8 0.7-19.3v-96h148c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM716 680c0 36.8-9.7 72-27.8 102.9-17.7 30.3-43 55.6-73.3 73.3-20.1 11.8-42 20-64.9 24.3V484c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v396.5c-22.9-4.3-44.8-12.5-64.9-24.3-30.3-17.7-55.6-43-73.3-73.3C317.7 752 308 716.8 308 680V412h408v268z",fill:o(t,0,"#333333")}),r.createElement("path",{d:"M304 280h56c4.4 0 8-3.6 8-8 0-28.3 5.9-53.2 17.1-73.5 10.6-19.4 26-34.8 45.4-45.4C450.9 142 475.7 136 504 136h16c28.3 0 53.2 5.9 73.5 17.1 19.4 10.6 34.8 26 45.4 45.4C650 218.9 656 243.7 656 272c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-40-8.8-76.7-25.9-108.1-17.2-31.5-42.5-56.8-74-74C596.7 72.8 560 64 520 64h-16c-40 0-76.7 8.8-108.1 25.9-31.5 17.2-56.8 42.5-74 74C304.8 195.3 296 232 296 272c0 4.4 3.6 8 8 8z",fill:o(t,1,"#333333")}))};B.defaultProps={size:18};var D=B,U=["size","color","style"],P={display:"block"},F=function(e){var n=e.size,t=e.color,l=e.style,s=(0,a.Z)(e,U),u=l?Object.assign({},P,l):P;return r.createElement("svg",(0,i.Z)({viewBox:"0 0 1024 1024",width:n+"px",height:n+"px",style:u},s),r.createElement("path",{d:"M512 71.68c-242.688 0-440.32 197.632-440.32 440.32s197.632 440.32 440.32 440.32 440.32-197.632 440.32-440.32-197.632-440.32-440.32-440.32z m0 819.2c-208.896 0-378.88-169.984-378.88-378.88s169.984-378.88 378.88-378.88 378.88 169.984 378.88 378.88-169.984 378.88-378.88 378.88z",fill:o(t,0,"#333333")}),r.createElement("path",{d:"M542.72 261.12H481.28v220.16H261.12v61.44h220.16v220.16h61.44v-220.16h220.16V481.28h-220.16z",fill:o(t,1,"#333333")}))};F.defaultProps={size:18};var G=F,Y=["size","color","style"],Q={display:"block"},z=function(e){var n=e.size,t=e.color,l=e.style,s=(0,a.Z)(e,Y),u=l?Object.assign({},Q,l):Q;return r.createElement("svg",(0,i.Z)({viewBox:"0 0 1024 1024",width:n+"px",height:n+"px",style:u},s),r.createElement("path",{d:"M384 896h-64v-70.4c0-15.2-10.4-28-24.8-31.2C159.2 768 64 644.8 64 496v-32h64v32c0 118.4 73.6 215.2 179.2 236 44.8 8.8 76.8 48 76.8 94.4v69.6zM704 896h-64v-70.4c0-45.6 32-85.6 76.8-94.4C822.4 711.2 896 614.4 896 496v-32h64v32c0 148.8-95.2 272-231.2 298.4-14.4 3.2-24.8 16-24.8 31.2v70.4zM512.8 640l-41.6-37.6c-147.2-133.6-244-208-244-316.8 0-88 68.8-156.8 156.8-156.8 49.6 0 97.6 23.2 128.8 60C544 152 592 128.8 641.6 128.8c88 0 156.8 68.8 156.8 156.8 0 108-96.8 183.2-244 316.8L512.8 640z",fill:o(t,0,"#333333")}))};z.defaultProps={size:18};var H=z,Z=["size","color","style"],q={display:"block"},W=function(e){var n=e.size,t=e.color,l=e.style,s=(0,a.Z)(e,Z),u=l?Object.assign({},q,l):q;return r.createElement("svg",(0,i.Z)({viewBox:"0 0 1024 1024",width:n+"px",height:n+"px",style:u},s),r.createElement("path",{d:"M942.4615936 284.62787926c-14.30911886-14.12709945-37.31996786-14.05468217-51.48229632 0.21920654L517.97142983 661.27810333 139.75544149 286.45003606c-14.30911886-14.16232846-37.31996786-14.05468217-51.51948344 0.21920654-14.16232846 14.30911886-14.05468217 37.35519687 0.21920654 51.51948345l401.99014627 398.34974663c0.61847666 0.61847666 1.41897273 0.76526706 2.03940637 1.34655658 0.14483342 0.14483342 0.18201941 0.32685283 0.32685283 0.47364324 7.09877874 7.02636259 16.38375538 10.55911595 25.63154489 10.55911595 9.35739278 0 18.75001458-3.60516949 25.85075143-10.77636551l398.34974663-401.99014628C956.84312974 321.8382427 956.73548345 298.7921647 942.4615936 284.62787926z",fill:o(t,0,"#333333")}))};W.defaultProps={size:18};var V=W,X=["size","color","style"],K={display:"block"},$=function(e){var n=e.size,t=e.color,l=e.style,s=(0,a.Z)(e,X),u=l?Object.assign({},K,l):K;return r.createElement("svg",(0,i.Z)({viewBox:"0 0 1024 1024",width:n+"px",height:n+"px",style:u},s),r.createElement("path",{d:"M81.5384064 739.37212074c14.30911886 14.12709945 37.31996786 14.05468217 51.48229632-0.21920654L506.02857017 362.72189667 884.24455851 737.54996394c14.30911886 14.16232846 37.31996786 14.05468217 51.51948344-0.21920654 14.16232846-14.30911886 14.05468217-37.35519687-0.21920654-51.51948345l-401.99014627-398.34974663c-0.61847666-0.61847666-1.41897273-0.76526706-2.03940637-1.34655658-0.14483342-0.14483342-0.18201941-0.32685283-0.32685282-0.47364324-7.09877874-7.02636259-16.38375538-10.55911595-25.6315449-10.55911595-9.35739278 0-18.75001458 3.60516949-25.85075143 10.77636551l-398.34974663 401.99014628C67.15687026 702.1617573 67.26451655 725.2078353 81.5384064 739.37212074z",fill:o(t,0,"#333333")}))};$.defaultProps={size:18};var ee=$,ne=["name"],te=function(e){var n=e.name,t=(0,a.Z)(e,ne);switch(n){case"youhua":return r.createElement(d,t);case"dayi":return r.createElement(c,t);case"shengji":return r.createElement(h,t);case"tiaozheng":return r.createElement(L,t);case"gengxin":return r.createElement(f,t);case"wendang":return r.createElement(x,t);case"shanchu":return r.createElement(M,t);case"bug":return r.createElement(D,t);case"xinzeng":return r.createElement(G,t);case"fuwu":return r.createElement(H,t);case"down":return r.createElement(V,t);case"up":return r.createElement(ee,t)}return null},re="label_p8vM",ae="icon_knQK";function ie(e){var n=e.children,t={"\u65b0\u589e":{icon:"xinzeng",bgColor:"#39b54a"},"\u4fee\u590d":{icon:"bug",bgColor:"#9c26b0"},"\u6587\u6863":{icon:"wendang",bgColor:"rgb(79, 147, 255)"},"\u66f4\u65b0":{icon:"gengxin",bgColor:"#0081ff"},"\u8c03\u6574":{icon:"tiaozheng",bgColor:"#333"},"\u5347\u7ea7":{icon:"shengji",bgColor:"#e03997"},"\u79fb\u9664":{icon:"shanchu",bgColor:"#666"},"\u7b54\u7591":{icon:"dayi",bgColor:"#bbb"},"\u4f18\u5316":{icon:"youhua",bgColor:"#38e550"}};return r.createElement("label",{className:re,title:n,style:{backgroundColor:t[n].bgColor}},r.createElement(te,{name:t[n].icon,color:"white",size:14,className:ae})," ",n)}},5784:function(e,n,t){t.r(n),t.d(n,{assets:function(){return c},contentTitle:function(){return p},default:function(){return b},frontMatter:function(){return m},metadata:function(){return g},toc:function(){return N}});var r=t(3117),a=t(102),i=(t(7294),t(3905)),o=t(510),l=t(4996),s=t(5488),u=t(5162),d=["components"],m={id:"job",title:"26.1 \u8c03\u5ea6\u4f5c\u4e1a",sidebar_label:"26.1 \u8c03\u5ea6\u4f5c\u4e1a"},p=void 0,g={unversionedId:"job",id:"job",title:"26.1 \u8c03\u5ea6\u4f5c\u4e1a",description:"",source:"@site/docs/job.mdx",sourceDirName:".",slug:"/job",permalink:"/docs/job",draft:!1,editUrl:"https://gitee.com/dotnetchina/Furion/tree/v4/handbook/docs/job.mdx",tags:[],version:"current",lastUpdatedBy:"MonkSoul",lastUpdatedAt:1669790016,formattedLastUpdatedAt:"Nov 30, 2022",frontMatter:{id:"job",title:"26.1 \u8c03\u5ea6\u4f5c\u4e1a",sidebar_label:"26.1 \u8c03\u5ea6\u4f5c\u4e1a"},sidebar:"docs",previous:{title:"25. \u8f85\u52a9\u89d2\u8272\u670d\u52a1 (Worker Service)",permalink:"/docs/process-service"},next:{title:"26.2 Cron \u8868\u8fbe\u5f0f",permalink:"/docs/cron"}},c={},N=[{value:"26.1.1 \u5173\u4e8e\u8c03\u5ea6\u4f5c\u4e1a",id:"2611-\u5173\u4e8e\u8c03\u5ea6\u4f5c\u4e1a",level:2},{value:"26.1.2 \u5feb\u901f\u5165\u95e8",id:"2612-\u5feb\u901f\u5165\u95e8",level:2},{value:"26.1.2.1 \u6307\u5b9a\u4f5c\u4e1a <code>Id</code>",id:"26121-\u6307\u5b9a\u4f5c\u4e1a-id",level:3},{value:"26.1.2.2 \u591a\u4e2a\u4f5c\u4e1a\u89e6\u53d1\u5668",id:"26122-\u591a\u4e2a\u4f5c\u4e1a\u89e6\u53d1\u5668",level:3},{value:"26.1.2.3 <code>\u4e32\u884c</code> \u6267\u884c",id:"26123-\u4e32\u884c-\u6267\u884c",level:3},{value:"26.1.2.4 \u6253\u5370\u4f5c\u4e1a\u5b8c\u6574\u4fe1\u606f",id:"26124-\u6253\u5370\u4f5c\u4e1a\u5b8c\u6574\u4fe1\u606f",level:3},{value:"26.1.2.5 \u8fd0\u884c\u65f6\uff08\u52a8\u6001\uff09\u64cd\u4f5c\u4f5c\u4e1a",id:"26125-\u8fd0\u884c\u65f6\u52a8\u6001\u64cd\u4f5c\u4f5c\u4e1a",level:3},{value:"26.1.2.6 \u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027",id:"26126-\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027",level:3},{value:"26.1.3 \u4f5c\u4e1a\u4fe1\u606f <code>JobDetail</code> \u53ca\u6784\u5efa\u5668",id:"2613-\u4f5c\u4e1a\u4fe1\u606f-jobdetail-\u53ca\u6784\u5efa\u5668",level:2},{value:"26.1.3.1 \u5173\u4e8e\u4f5c\u4e1a\u4fe1\u606f",id:"26131-\u5173\u4e8e\u4f5c\u4e1a\u4fe1\u606f",level:3},{value:"26.1.3.2 \u5173\u4e8e\u4f5c\u4e1a\u4fe1\u606f\u6784\u5efa\u5668",id:"26132-\u5173\u4e8e\u4f5c\u4e1a\u4fe1\u606f\u6784\u5efa\u5668",level:3},{value:"26.1.3.3 \u8bbe\u7f6e\u4f5c\u4e1a\u4fe1\u606f\u6784\u5efa\u5668",id:"26133-\u8bbe\u7f6e\u4f5c\u4e1a\u4fe1\u606f\u6784\u5efa\u5668",level:3},{value:"26.1.3.4 \u4f5c\u4e1a\u4fe1\u606f/\u6784\u5efa\u5668\u989d\u5916\u6570\u636e",id:"26134-\u4f5c\u4e1a\u4fe1\u606f\u6784\u5efa\u5668\u989d\u5916\u6570\u636e",level:3},{value:"26.1.3.5 \u4f5c\u4e1a\u4fe1\u606f\u7279\u6027",id:"26135-\u4f5c\u4e1a\u4fe1\u606f\u7279\u6027",level:3},{value:"26.1.3.6 \u591a\u79cd\u683c\u5f0f\u5b57\u7b26\u4e32\u8f93\u51fa",id:"26136-\u591a\u79cd\u683c\u5f0f\u5b57\u7b26\u4e32\u8f93\u51fa",level:3},{value:"26.1.3.7 \u81ea\u5b9a\u4e49 <code>SQL</code> \u8f93\u51fa\u914d\u7f6e",id:"26137-\u81ea\u5b9a\u4e49-sql-\u8f93\u51fa\u914d\u7f6e",level:3},{value:"26.1.4 \u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f <code>IJob</code>",id:"2614-\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f-ijob",level:2},{value:"26.1.4.1 \u5982\u4f55\u5b9a\u4e49",id:"26141-\u5982\u4f55\u5b9a\u4e49",level:3},{value:"26.1.4.2 \u4f9d\u8d56\u6ce8\u5165",id:"26142-\u4f9d\u8d56\u6ce8\u5165",level:3},{value:"26.1.4.3 <code>JobExecutingContext</code> \u4e0a\u4e0b\u6587",id:"26143-jobexecutingcontext-\u4e0a\u4e0b\u6587",level:3},{value:"26.1.4.4 \u4f5c\u4e1a\u88ab\u53d6\u6d88\u5904\u7406",id:"26144-\u4f5c\u4e1a\u88ab\u53d6\u6d88\u5904\u7406",level:3},{value:"26.1.4.5 \u4f7f\u7528 <code>Roslyn/Natasha</code> \u52a8\u6001\u521b\u5efa",id:"26145-\u4f7f\u7528-roslynnatasha-\u52a8\u6001\u521b\u5efa",level:3},{value:"26.1.5 \u4f5c\u4e1a\u89e6\u53d1\u5668 <code>Trigger</code> \u53ca\u6784\u5efa\u5668",id:"2615-\u4f5c\u4e1a\u89e6\u53d1\u5668-trigger-\u53ca\u6784\u5efa\u5668",level:2},{value:"26.1.5.1 \u5173\u4e8e\u4f5c\u4e1a\u89e6\u53d1\u5668",id:"26151-\u5173\u4e8e\u4f5c\u4e1a\u89e6\u53d1\u5668",level:3},{value:"26.1.5.2 \u4f5c\u4e1a\u89e6\u53d1\u5668\u72b6\u6001",id:"26152-\u4f5c\u4e1a\u89e6\u53d1\u5668\u72b6\u6001",level:3},{value:"26.1.5.3 \u5173\u4e8e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668",id:"26153-\u5173\u4e8e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668",level:3},{value:"26.1.5.4 \u5185\u7f6e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668",id:"26154-\u5185\u7f6e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668",level:3},{value:"26.1.5.5 \u81ea\u5b9a\u4e49\u4f5c\u4e1a\u89e6\u53d1\u5668",id:"26155-\u81ea\u5b9a\u4e49\u4f5c\u4e1a\u89e6\u53d1\u5668",level:3},{value:"26.1.5.6 \u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027",id:"26156-\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027",level:3},{value:"26.1.5.7 \u8bbe\u7f6e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668",id:"26157-\u8bbe\u7f6e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668",level:3},{value:"26.1.5.8 \u591a\u79cd\u683c\u5f0f\u5b57\u7b26\u4e32\u8f93\u51fa",id:"26158-\u591a\u79cd\u683c\u5f0f\u5b57\u7b26\u4e32\u8f93\u51fa",level:3},{value:"26.1.5.9 \u81ea\u5b9a\u4e49 <code>SQL</code> \u8f93\u51fa\u914d\u7f6e",id:"26159-\u81ea\u5b9a\u4e49-sql-\u8f93\u51fa\u914d\u7f6e",level:3},{value:"26.1.6 \u4f5c\u4e1a\u8ba1\u5212 <code>Scheduler</code> \u53ca\u6784\u5efa\u5668",id:"2616-\u4f5c\u4e1a\u8ba1\u5212-scheduler-\u53ca\u6784\u5efa\u5668",level:2},{value:"26.1.6.1 \u5173\u4e8e\u4f5c\u4e1a\u8ba1\u5212",id:"26161-\u5173\u4e8e\u4f5c\u4e1a\u8ba1\u5212",level:3},{value:"26.1.6.2 \u5173\u4e8e\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668",id:"26162-\u5173\u4e8e\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668",level:3},{value:"26.1.6.3 \u8bbe\u7f6e\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668",id:"26163-\u8bbe\u7f6e\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668",level:3},{value:"26.1.6.4 \u591a\u79cd\u683c\u5f0f\u5b57\u7b26\u4e32\u8f93\u51fa",id:"26164-\u591a\u79cd\u683c\u5f0f\u5b57\u7b26\u4e32\u8f93\u51fa",level:3},{value:"26.1.7 \u4f5c\u4e1a\u8c03\u5ea6\u5668 <code>ScheduleOptionsBuilder</code> \u914d\u7f6e\u9009\u9879",id:"2617-\u4f5c\u4e1a\u8c03\u5ea6\u5668-scheduleoptionsbuilder-\u914d\u7f6e\u9009\u9879",level:2},{value:"26.1.7.1 \u5173\u4e8e <code>ScheduleOptionsBuilder</code>",id:"26171-\u5173\u4e8e-scheduleoptionsbuilder",level:3},{value:"26.1.7.2 <code>ScheduleOptionsBuilder</code> \u5185\u7f6e\u5c5e\u6027\u548c\u65b9\u6cd5",id:"26172-scheduleoptionsbuilder-\u5185\u7f6e\u5c5e\u6027\u548c\u65b9\u6cd5",level:3},{value:"26.1.8 \u4f5c\u4e1a\u76d1\u89c6\u5668 <code>IJobMonitor</code>",id:"2618-\u4f5c\u4e1a\u76d1\u89c6\u5668-ijobmonitor",level:2},{value:"26.1.8.1 \u5173\u4e8e\u53c2\u6570 <code>JobExecutionContext</code>",id:"26181-\u5173\u4e8e\u53c2\u6570-jobexecutioncontext",level:3},{value:"26.1.9 \u4f5c\u4e1a\u6267\u884c\u5668 <code>IJobExecutor</code>",id:"2619-\u4f5c\u4e1a\u6267\u884c\u5668-ijobexecutor",level:2},{value:"26.1.10 \u4f5c\u4e1a\u8ba1\u5212\u5de5\u5382 <code>ISchedulerFactory</code>",id:"26110-\u4f5c\u4e1a\u8ba1\u5212\u5de5\u5382-ischedulerfactory",level:2},{value:"26.1.10.1 \u67e5\u627e\u6240\u6709\u4f5c\u4e1a",id:"261101-\u67e5\u627e\u6240\u6709\u4f5c\u4e1a",level:3},{value:"26.1.10.2 \u67e5\u627e\u4e0b\u4e00\u4e2a\u89e6\u53d1\u7684\u4f5c\u4e1a",id:"261102-\u67e5\u627e\u4e0b\u4e00\u4e2a\u89e6\u53d1\u7684\u4f5c\u4e1a",level:3},{value:"26.1.10.3 \u83b7\u53d6\u5355\u4e2a\u4f5c\u4e1a",id:"261103-\u83b7\u53d6\u5355\u4e2a\u4f5c\u4e1a",level:3},{value:"26.1.10.4 \u6dfb\u52a0\u4f5c\u4e1a",id:"261104-\u6dfb\u52a0\u4f5c\u4e1a",level:3},{value:"26.1.10.5 \u66f4\u65b0\u4f5c\u4e1a",id:"261105-\u66f4\u65b0\u4f5c\u4e1a",level:3},{value:"26.1.10.6 \u5220\u9664\u4f5c\u4e1a",id:"261106-\u5220\u9664\u4f5c\u4e1a",level:3},{value:"26.1.10.7 \u68c0\u67e5\u4f5c\u4e1a\u662f\u5426\u5b58\u5728",id:"261107-\u68c0\u67e5\u4f5c\u4e1a\u662f\u5426\u5b58\u5728",level:3},{value:"26.1.10.8 \u542f\u52a8\u6240\u6709\u4f5c\u4e1a",id:"261108-\u542f\u52a8\u6240\u6709\u4f5c\u4e1a",level:3},{value:"26.1.10.9 \u6682\u505c\u6240\u6709\u4f5c\u4e1a",id:"261109-\u6682\u505c\u6240\u6709\u4f5c\u4e1a",level:3},{value:"26.1.10.10 \u5220\u9664\u6240\u6709\u4f5c\u4e1a",id:"2611010-\u5220\u9664\u6240\u6709\u4f5c\u4e1a",level:3},{value:"26.1.10.11 \u5f3a\u5236\u5524\u9192\u4f5c\u4e1a\u8c03\u5ea6\u5668",id:"2611011-\u5f3a\u5236\u5524\u9192\u4f5c\u4e1a\u8c03\u5ea6\u5668",level:3},{value:"26.1.10.12 \u5f3a\u5236\u89e6\u53d1\u6240\u6709\u4f5c\u4e1a\u6301\u4e45\u5316",id:"2611012-\u5f3a\u5236\u89e6\u53d1\u6240\u6709\u4f5c\u4e1a\u6301\u4e45\u5316",level:3},{value:"26.1.10.13 \u6821\u5bf9\u6240\u6709\u4f5c\u4e1a",id:"2611013-\u6821\u5bf9\u6240\u6709\u4f5c\u4e1a",level:3},{value:"26.1.11 \u4f5c\u4e1a\u8ba1\u5212 <code>IScheduler</code>",id:"26111-\u4f5c\u4e1a\u8ba1\u5212-ischeduler",level:2},{value:"26.1.11.1 \u83b7\u53d6 <code>IScheduler</code> \u5b9e\u4f8b",id:"261111-\u83b7\u53d6-ischeduler-\u5b9e\u4f8b",level:3},{value:"26.1.11.2 \u83b7\u53d6 <code>SchedulerModel</code> \u5b9e\u4f8b",id:"261112-\u83b7\u53d6-schedulermodel-\u5b9e\u4f8b",level:3},{value:"26.1.11.3 \u83b7\u53d6 <code>SchedulerBuilder</code>",id:"261113-\u83b7\u53d6-schedulerbuilder",level:3},{value:"26.1.11.4 \u83b7\u53d6 <code>JobBuilder</code>",id:"261114-\u83b7\u53d6-jobbuilder",level:3},{value:"26.1.11.5 \u83b7\u53d6 <code>TriggerBuilders</code>",id:"261115-\u83b7\u53d6-triggerbuilders",level:3},{value:"26.1.11.6 \u83b7\u53d6\u5355\u4e2a <code>TriggerBuilder</code>",id:"261116-\u83b7\u53d6\u5355\u4e2a-triggerbuilder",level:3},{value:"26.1.11.7 \u542f\u52a8\u5f53\u524d\u4f5c\u4e1a",id:"261117-\u542f\u52a8\u5f53\u524d\u4f5c\u4e1a",level:3},{value:"26.1.11.8 \u6682\u505c\u5f53\u524d\u4f5c\u4e1a",id:"261118-\u6682\u505c\u5f53\u524d\u4f5c\u4e1a",level:3},{value:"26.1.11.9 \u542f\u52a8\u4f5c\u4e1a\u7279\u5b9a\u89e6\u53d1\u5668",id:"261119-\u542f\u52a8\u4f5c\u4e1a\u7279\u5b9a\u89e6\u53d1\u5668",level:3},{value:"26.1.11.10 \u6682\u505c\u4f5c\u4e1a\u7279\u5b9a\u89e6\u53d1\u5668",id:"2611110-\u6682\u505c\u4f5c\u4e1a\u7279\u5b9a\u89e6\u53d1\u5668",level:3},{value:"26.1.11.11 \u66f4\u65b0\u4f5c\u4e1a\u4fe1\u606f",id:"2611111-\u66f4\u65b0\u4f5c\u4e1a\u4fe1\u606f",level:3},{value:"26.1.11.12 \u83b7\u53d6\u4f5c\u4e1a\u5355\u4e2a\u89e6\u53d1\u5668",id:"2611112-\u83b7\u53d6\u4f5c\u4e1a\u5355\u4e2a\u89e6\u53d1\u5668",level:3},{value:"26.1.11.13 \u6dfb\u52a0\u4f5c\u4e1a\u5355\u4e2a\u89e6\u53d1\u5668",id:"2611113-\u6dfb\u52a0\u4f5c\u4e1a\u5355\u4e2a\u89e6\u53d1\u5668",level:3},{value:"26.1.11.14 \u5220\u9664\u4f5c\u4e1a\u5355\u4e2a\u89e6\u53d1\u5668",id:"2611114-\u5220\u9664\u4f5c\u4e1a\u5355\u4e2a\u89e6\u53d1\u5668",level:3},{value:"26.1.11.15 \u5224\u65ad\u4f5c\u4e1a\u662f\u5426\u5305\u542b\u7279\u5b9a\u89e6\u53d1\u5668",id:"2611115-\u5224\u65ad\u4f5c\u4e1a\u662f\u5426\u5305\u542b\u7279\u5b9a\u89e6\u53d1\u5668",level:3},{value:"26.1.11.16 \u5220\u9664\u5f53\u524d\u4f5c\u4e1a",id:"2611116-\u5220\u9664\u5f53\u524d\u4f5c\u4e1a",level:3},{value:"26.1.11.17 \u5f3a\u5236\u89e6\u53d1\u6240\u6709\u4f5c\u4e1a\u6301\u4e45\u5316",id:"2611117-\u5f3a\u5236\u89e6\u53d1\u6240\u6709\u4f5c\u4e1a\u6301\u4e45\u5316",level:3},{value:"26.1.11.18 \u8f93\u51fa <code>JSON</code> \u5b57\u7b26\u4e32",id:"2611118-\u8f93\u51fa-json-\u5b57\u7b26\u4e32",level:3},{value:"26.1.11.19 \u6821\u5bf9\u4f5c\u4e1a",id:"2611119-\u6821\u5bf9\u4f5c\u4e1a",level:3},{value:"26.1.12 \u4f5c\u4e1a\u6301\u4e45\u5316\u5668 <code>IJobPersistence</code>",id:"26112-\u4f5c\u4e1a\u6301\u4e45\u5316\u5668-ijobpersistence",level:2},{value:"26.1.12.1 \u5173\u4e8e\u4f5c\u4e1a\u6301\u4e45\u5316\u5668",id:"261121-\u5173\u4e8e\u4f5c\u4e1a\u6301\u4e45\u5316\u5668",level:3},{value:"26.1.12.2 \u5b9e\u73b0\u4f5c\u4e1a\u6301\u4e45\u5316\u5668",id:"261122-\u5b9e\u73b0\u4f5c\u4e1a\u6301\u4e45\u5316\u5668",level:3},{value:"26.1.12.3 <code>IJobPersistence</code> \u8be6\u7ec6\u8bf4\u660e",id:"261123-ijobpersistence-\u8be6\u7ec6\u8bf4\u660e",level:3},{value:"26.1.12.4 \u5404\u7c7b\u6570\u636e\u5e93\u521b\u5efa\u4f5c\u4e1a\u6301\u4e45\u5316\u8868\u8bed\u53e5",id:"261124-\u5404\u7c7b\u6570\u636e\u5e93\u521b\u5efa\u4f5c\u4e1a\u6301\u4e45\u5316\u8868\u8bed\u53e5",level:3},{value:"26.1.13 \u4f5c\u4e1a\u96c6\u7fa4\u63a7\u5236",id:"26113-\u4f5c\u4e1a\u96c6\u7fa4\u63a7\u5236",level:2},{value:"26.1.13.1 \u5b9e\u73b0\u96c6\u7fa4\u6545\u969c\u8f6c\u79fb",id:"261131-\u5b9e\u73b0\u96c6\u7fa4\u6545\u969c\u8f6c\u79fb",level:3},{value:"26.1.13.2 \u4f5c\u4e1a\u96c6\u7fa4\u6570\u636e\u5e93\u8868\u8bbe\u8ba1",id:"261132-\u4f5c\u4e1a\u96c6\u7fa4\u6570\u636e\u5e93\u8868\u8bbe\u8ba1",level:3},{value:"26.1.13.3 \u5982\u4f55\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861",id:"261133-\u5982\u4f55\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861",level:3},{value:"26.1.14 <code>ScheduleServe</code> \u9759\u6001\u7c7b",id:"26114-scheduleserve-\u9759\u6001\u7c7b",level:2},{value:"26.1.15 \u5982\u4f55\u90e8\u7f72",id:"26115-\u5982\u4f55\u90e8\u7f72",level:2},{value:"26.1.16 \u5e38\u89c1\u95ee\u9898",id:"26116-\u5e38\u89c1\u95ee\u9898",level:2},{value:"26.1.16.1 \u4f5c\u4e1a\u89e6\u53d1\u65f6\u95f4\u5b58\u5728\u504f\u5dee",id:"261161-\u4f5c\u4e1a\u89e6\u53d1\u65f6\u95f4\u5b58\u5728\u504f\u5dee",level:3},{value:"26.1.17 \u53cd\u9988\u4e0e\u5efa\u8bae",id:"26117-\u53cd\u9988\u4e0e\u5efa\u8bae",level:2}],k={toc:N};function b(e){var n=e.components,t=(0,a.Z)(e,d);return(0,i.kt)("wrapper",(0,r.Z)({},k,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("details",null,(0,i.kt)("summary",null,"\ud83d\udcdd \u6a21\u5757\u66f4\u65b0\u65e5\u5fd7"),(0,i.kt)("div",null,(0,i.kt)("div",null,(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"\u65b0\u7279\u6027")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u65b0\u589e")," \u5b9a\u65f6\u4efb\u52a1\u5de5\u4f5c\u65e5\u4f5c\u4e1a\u89e6\u53d1\u5668 ",(0,i.kt)("inlineCode",{parentName:"li"},"Triggers.Workday()")," \u548c ",(0,i.kt)("inlineCode",{parentName:"li"},"[Workday]")," \u7279\u6027 ",(0,i.kt)("sup",null,"4.8.2.6")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.30")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/commit/28b2d20b3f6034a4cdf5827576c34412315fbb15"},"28b2d20")),(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u65b0\u589e")," \u5b9a\u65f6\u4efb\u52a1\u4f5c\u4e1a\u6821\u5bf9\u529f\u80fd\uff0c\u53ef\u5bf9\u8bef\u5dee\u8fdb\u884c\u6821\u6b63 ",(0,i.kt)("sup",null,"4.8.2.6")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.30")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/commit/f725a252e6a89f9dea6489d4e54452077b1935e5"},"f725a25")),(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u65b0\u589e")," ",(0,i.kt)("strong",{parentName:"li"},"\u5b9a\u65f6\u4efb\u52a1 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Triggers")," \u6240\u6709\u5e26 ",(0,i.kt)("inlineCode",{parentName:"strong"},"At")," \u7684 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Cron")," \u8868\u8fbe\u5f0f\u89e6\u53d1\u5668\u6784\u5efa\u5668\u53ca\u7279\u6027")," ",(0,i.kt)("sup",null,"4.8.2.5")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.29")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Sundial/issues/I63PLR"},"#I63PLR")),(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u65b0\u589e")," \u5b9a\u65f6\u4efb\u52a1\u6279\u91cf\u6dfb\u52a0 ",(0,i.kt)("inlineCode",{parentName:"li"},"SchedulerBuilder")," \u4f5c\u4e1a\u529f\u80fd ",(0,i.kt)("sup",null,"4.8.2.4")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.29")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/commit/5faa67b7817459cb0ee0add86a6e53c17ff51a05"},"5faa67b")),(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u65b0\u589e")," \u5b9a\u65f6\u4efb\u52a1 ",(0,i.kt)("inlineCode",{parentName:"li"},"BuildSqlType")," \u914d\u7f6e\uff0c\u53ef\u8bbe\u7f6e\u751f\u6210\u4e0d\u540c\u6570\u636e\u5e93\u7c7b\u578b\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"SQL")," \u8bed\u53e5 ",(0,i.kt)("sup",null,"4.8.2.3")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.29")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/commit/293f9bce34fc4f70eacae1043ed697d31da88409"},"293f9bc")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/pulls/675"},"!675")),(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u65b0\u589e")," ",(0,i.kt)("inlineCode",{parentName:"li"},"JobDetail")," \u548c ",(0,i.kt)("inlineCode",{parentName:"li"},"Trigger")," \u81ea\u5b9a\u4e49 ",(0,i.kt)("inlineCode",{parentName:"li"},"ConvertToSQL")," \u8f93\u51fa ",(0,i.kt)("inlineCode",{parentName:"li"},"SQL")," \u914d\u7f6e ",(0,i.kt)("sup",null,"4.8.2")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.27")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/commit/0bb9d8f1f3606af145b44c2984b87fdc020f02e1"},"0bb9d8f")),(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u65b0\u589e")," ",(0,i.kt)("strong",{parentName:"li"},"\u4f5c\u4e1a\u89e6\u53d1\u5668 ",(0,i.kt)("inlineCode",{parentName:"strong"},"ResetOnlyOnce")," \u5c5e\u6027\uff0c\u652f\u6301\u53ea\u8fd0\u884c\u4e00\u6b21\u7684\u4f5c\u4e1a\u91cd\u65b0\u542f\u52a8\u670d\u52a1\u91cd\u590d\u6267\u884c")," ",(0,i.kt)("sup",null,"4.8.1.5")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.25")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/commit/a8be728eac986ebc5f44718b08c67aaee8b89dc6"},"a8be728")),(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u65b0\u589e")," \u52a8\u6001\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\u59d4\u6258\u652f\u6301 ",(0,i.kt)("sup",null,"4.8.1.8")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.27")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/commit/e02266c44187dbc2b416abe1ca4112ce13c89180"},"e02266c")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"\u95ee\u9898\u4fee\u590d")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u4fee\u590d")," \u4f5c\u4e1a\u89e6\u53d1\u5668\u4e0d\u7b26\u5408\u4e0b\u4e00\u6b21\u6267\u884c\u89c4\u5f8b\u4f46 ",(0,i.kt)("inlineCode",{parentName:"li"},"NextRunTime")," \u4e0d\u4e3a ",(0,i.kt)("inlineCode",{parentName:"li"},"null")," \u60c5\u51b5 ",(0,i.kt)("sup",null,"4.8.1.5")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.25")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/commit/a8be728eac986ebc5f44718b08c67aaee8b89dc6"},"a8be728")),(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u4fee\u590d")," \u8fd0\u884c\u65f6\u542f\u52a8/\u6682\u505c\u4f5c\u4e1a\u65e0\u6548\u95ee\u9898 ",(0,i.kt)("sup",null,"4.8.1.6")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.25")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/issues/I6368M"},"#I6368M")),(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u4fee\u590d")," \u5b9a\u65f6\u4efb\u52a1\u751f\u6210\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"SQL")," \u8bed\u53e5\u4e0d\u652f\u6301 ",(0,i.kt)("inlineCode",{parentName:"li"},"MySQL")," \u95ee\u9898 ",(0,i.kt)("sup",null,"4.8.1.7")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.26")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/issues/I638ZC"},"#I638ZC")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"\u5176\u4ed6\u66f4\u6539")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u8c03\u6574")," \u5b9a\u65f6\u4efb\u52a1\u4f5c\u4e1a\u8ba1\u5212\u5de5\u5382 ",(0,i.kt)("inlineCode",{parentName:"li"},"GetNextRunJobs()")," \u65b9\u6cd5\u903b\u8f91 ",(0,i.kt)("sup",null,"4.8.2.7")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.30")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/issues/I63VS2"},"#I63VS2")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"\u6587\u6863")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u65b0\u589e")," \u4f5c\u4e1a\u89e6\u53d1\u5668 ",(0,i.kt)("inlineCode",{parentName:"li"},"ResetOnlyOnce")," \u6587\u6863 ",(0,i.kt)("sup",null,"4.8.1.5")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.25")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/commit/a8be728eac986ebc5f44718b08c67aaee8b89dc6"},"a8be728")),(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u65b0\u589e")," ",(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Roslyn")," \u52a8\u6001\u7f16\u8bd1\u4ee3\u7801\u521b\u5efa ",(0,i.kt)("inlineCode",{parentName:"strong"},"IJob")," \u7c7b\u578b\u6587\u6863")," ",(0,i.kt)("sup",null,"4.8.1.5")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.25")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/commit/2c5e5befc7a335d6ef0e75eea0061aee1e4dd061"},"2c5e5be")),(0,i.kt)("li",{parentName:"ul"},"\xa0",(0,i.kt)(o.Z,{mdxType:"Tag"},"\u65b0\u589e")," \u81ea\u5b9a\u4e49 ",(0,i.kt)("inlineCode",{parentName:"li"},"JobDetail")," \u548c ",(0,i.kt)("inlineCode",{parentName:"li"},"Trigger")," \u8f93\u51fa ",(0,i.kt)("inlineCode",{parentName:"li"},"SQL")," \u6587\u6863 ",(0,i.kt)("sup",null,"4.8.2")," ",(0,i.kt)("sup",null,"\u23f1\ufe0f2022.11.27")," ",(0,i.kt)("a",{parentName:"li",href:"https://gitee.com/dotnetchina/Furion/commit/0bb9d8f1f3606af145b44c2984b87fdc020f02e1"},"0bb9d8f")))))))),(0,i.kt)("admonition",{title:"4.8.0 \u4ee5\u4e0b\u7248\u672c\u8bf4\u660e",type:"warning"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"\u5728 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Furion 4.8.0+")," \u7248\u672c\u91c7\u7528 ",(0,i.kt)("a",{parentName:"strong",href:"https://gitee.com/dotnetchina/Sundial"},"Sundial")," \u5b9a\u65f6\u4efb\u52a1\u66ff\u6362\u539f\u6709\u7684 ",(0,i.kt)("inlineCode",{parentName:"strong"},"TaskScheduler")),"\uff0c",(0,i.kt)("a",{parentName:"p",href:"/docs/job-old"},"\u67e5\u770b\u65e7\u6587\u6863"))),(0,i.kt)("admonition",{title:"\u7248\u672c\u8bf4\u660e",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u4ee5\u4e0b\u5185\u5bb9\u4ec5\u9650 ",(0,i.kt)("inlineCode",{parentName:"p"},"Furion 4.8.0 +")," \u7248\u672c\u4f7f\u7528\u3002")),(0,i.kt)("h2",{id:"2611-\u5173\u4e8e\u8c03\u5ea6\u4f5c\u4e1a"},"26.1.1 \u5173\u4e8e\u8c03\u5ea6\u4f5c\u4e1a"),(0,i.kt)("p",null,"\u8c03\u5ea6\u4f5c\u4e1a\u53c8\u79f0\u5b9a\u65f6\u4efb\u52a1\uff0c\u987e\u540d\u601d\u4e49\uff0c\u5b9a\u65f6\u4efb\u52a1\u5c31\u662f\u5728\u7279\u5b9a\u7684\u65f6\u95f4\u6216\u7b26\u5408\u67d0\u79cd\u65f6\u95f4\u89c4\u5f8b\u81ea\u52a8\u89e6\u53d1\u5e76\u6267\u884c\u4efb\u52a1\u3002"),(0,i.kt)("img",{src:(0,l.Z)("img/scdr.png")}),(0,i.kt)("h2",{id:"2612-\u5feb\u901f\u5165\u95e8"},"26.1.2 \u5feb\u901f\u5165\u95e8"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u5b9a\u4e49\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f ",(0,i.kt)("inlineCode",{parentName:"li"},"MyJob"),"\uff1a")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,9}",showLineNumbers:!0,"{1,9}":!0},'public class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        _logger.LogInformation($"{context.JobId} {context.TriggerId} {context.OccurrenceTime} {context.Trigger}");\n        await Task.CompletedTask;\n    }\n}\n')),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"\u5728 ",(0,i.kt)("inlineCode",{parentName:"li"},"Startup.cs")," \u6ce8\u518c ",(0,i.kt)("inlineCode",{parentName:"li"},"Schedule")," \u670d\u52a1\uff1a")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,3-4}",showLineNumbers:!0,"{1,3-4}":!0},"services.AddSchedule(options =>\n{\n    // \u6ce8\u518c\u4f5c\u4e1a\uff0c\u5e76\u914d\u7f6e\u4f5c\u4e1a\u89e6\u53d1\u5668\n    options.AddJob<MyJob>(Triggers.Secondly()); // \u8868\u793a\u6bcf\u79d2\u6267\u884c\n});\n")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u7ed3\u679c")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4,6,8,10,12}",showLineNumbers:!0,"{2,4,6,8,10,12}":!0},"info: 2022-11-17 16:23:56.0166669 +08:00 \u661f\u671f\u56db L MyJob[0] #16\n      job1 job1_trigger1 2022/11/17 16:23:56  * * * * * *\ninfo: 2022-11-17 16:23:57.0125960 +08:00 \u661f\u671f\u56db L MyJob[0] #17\n      job1 job1_trigger1 2022/11/17 16:23:57  * * * * * *\ninfo: 2022-11-17 16:23:58.0120379 +08:00 \u661f\u671f\u56db L MyJob[0] #16\n      job1 job1_trigger1 2022/11/17 16:23:58  * * * * * *\ninfo: 2022-11-17 16:23:59.0071986 +08:00 \u661f\u671f\u56db L MyJob[0] #5\n      job1 job1_trigger1 2022/11/17 16:23:59  * * * * * *\ninfo: 2022-11-17 16:24:00.0196813 +08:00 \u661f\u671f\u56db L MyJob[0] #16\n      job1 job1_trigger1 2022/11/17 16:24:00  * * * * * *\ninfo: 2022-11-17 16:24:01.0305799 +08:00 \u661f\u671f\u56db L MyJob[0] #17\n      job1 job1_trigger1 2022/11/17 16:24:01  * * * * * *\n")),(0,i.kt)("h3",{id:"26121-\u6307\u5b9a\u4f5c\u4e1a-id"},"26.1.2.1 \u6307\u5b9a\u4f5c\u4e1a ",(0,i.kt)("inlineCode",{parentName:"h3"},"Id")),(0,i.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e0d\u6307\u5b9a\u4f5c\u4e1a ",(0,i.kt)("inlineCode",{parentName:"p"},"Id")," \u4f1a\u81ea\u52a8\u751f\u6210 ",(0,i.kt)("inlineCode",{parentName:"p"},"job[\u7f16\u53f7]"),"\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3}",showLineNumbers:!0,"{3}":!0},'services.AddSchedule(options =>\n{\n    options.AddJob<MyJob>("myjob", Triggers.Secondly());\n});\n')),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers  {2,4,6,8,10,12}",showLineNumbers:!0,"":!0,"{2,4,6,8,10,12}":!0},"info: 2022-11-17 16:25:44.0339177 +08:00 \u661f\u671f\u56db L MyJob[0] #3\n      myjob myjob_trigger1 2022/11/17 16:25:44  * * * * * *\ninfo: 2022-11-17 16:25:45.0064838 +08:00 \u661f\u671f\u56db L MyJob[0] #14\n      myjob myjob_trigger1 2022/11/17 16:25:45  * * * * * *\ninfo: 2022-11-17 16:25:46.0186243 +08:00 \u661f\u671f\u56db L MyJob[0] #15\n      myjob myjob_trigger1 2022/11/17 16:25:46  * * * * * *\ninfo: 2022-11-17 16:25:47.0175115 +08:00 \u661f\u671f\u56db L MyJob[0] #16\n      myjob myjob_trigger1 2022/11/17 16:25:47  * * * * * *\ninfo: 2022-11-17 16:25:48.0304982 +08:00 \u661f\u671f\u56db L MyJob[0] #15\n      myjob myjob_trigger1 2022/11/17 16:25:48  * * * * * *\ninfo: 2022-11-17 16:25:49.0070855 +08:00 \u661f\u671f\u56db L MyJob[0] #16\n      myjob myjob_trigger1 2022/11/17 16:25:49  * * * * * *\n")),(0,i.kt)("h3",{id:"26122-\u591a\u4e2a\u4f5c\u4e1a\u89e6\u53d1\u5668"},"26.1.2.2 \u591a\u4e2a\u4f5c\u4e1a\u89e6\u53d1\u5668"),(0,i.kt)("p",null,"\u6709\u65f6\u5019\uff0c\u4e00\u4e2a\u4f5c\u4e1a\u652f\u6301\u591a\u79cd\u89e6\u53d1\u65f6\u95f4\uff0c\u6bd4\u5982 ",(0,i.kt)("inlineCode",{parentName:"p"},"\u6bcf\u5206\u949f")," \u6267\u884c\u4e00\u6b21\uff0c\u6bcf ",(0,i.kt)("inlineCode",{parentName:"p"},"5\u79d2")," \u6267\u884c\u4e00\u6b21\uff0c\u6bcf\u5206\u949f\u7b2c ",(0,i.kt)("inlineCode",{parentName:"p"},"3/7/8\u79d2")," \u6267\u884c\u4e00\u6b21\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3-5}",showLineNumbers:!0,"{3-5}":!0},'services.AddSchedule(options =>\n{\n    options.AddJob<MyJob>(Triggers.Minutely()   // \u6bcf\u5206\u949f\u5f00\u59cb\n     , Triggers.Period(5000)   // \u6bcf 5 \u79d2\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 Triggers.PeriodSeconds(5)\n     , Triggers.Cron("3,7,8 * * * * ?", CronStringFormat.WithSeconds));  // \u6bcf\u5206\u949f\u7b2c 3/7/8 \u79d2\n});\n')),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,10,14,18,20}",showLineNumbers:!0,"{2,10,14,18,20}":!0},"info: 2022-11-17 16:45:40.5258191 +08:00 \u661f\u671f\u56db L MyJob[0] #14\n      job1 job1_trigger2 2022/11/17 16:45:40  5000ms\ninfo: 2022-11-17 16:45:45.5281473 +08:00 \u661f\u671f\u56db L MyJob[0] #3\n      job1 job1_trigger2 2022/11/17 16:45:45  5000ms\ninfo: 2022-11-17 16:45:50.5378417 +08:00 \u661f\u671f\u56db L MyJob[0] #8\n      job1 job1_trigger2 2022/11/17 16:45:50  5000ms\ninfo: 2022-11-17 16:45:55.5436499 +08:00 \u661f\u671f\u56db L MyJob[0] #3\n      job1 job1_trigger2 2022/11/17 16:45:55  5000ms\ninfo: 2022-11-17 16:46:00.0253985 +08:00 \u661f\u671f\u56db L MyJob[0] #14\n      job1 job1_trigger1 2022/11/17 16:46:00  * * * * *\ninfo: 2022-11-17 16:46:00.5494676 +08:00 \u661f\u671f\u56db L MyJob[0] #16\n      job1 job1_trigger2 2022/11/17 16:46:00  5000ms\ninfo: 2022-11-17 16:46:03.0238143 +08:00 \u661f\u671f\u56db L MyJob[0] #15\n      job1 job1_trigger3 2022/11/17 16:46:03  3,7,8 * * * * ?\ninfo: 2022-11-17 16:46:05.5629293 +08:00 \u661f\u671f\u56db L MyJob[0] #14\n      job1 job1_trigger2 2022/11/17 16:46:05  5000ms\ninfo: 2022-11-17 16:46:07.0169836 +08:00 \u661f\u671f\u56db L MyJob[0] #15\n      job1 job1_trigger3 2022/11/17 16:46:07  3,7,8 * * * * ?\ninfo: 2022-11-17 16:46:08.0128756 +08:00 \u661f\u671f\u56db L MyJob[0] #14\n      job1 job1_trigger3 2022/11/17 16:46:08  3,7,8 * * * * ?\ninfo: 2022-11-17 16:46:10.5731138 +08:00 \u661f\u671f\u56db L MyJob[0] #8\n      job1 job1_trigger2 2022/11/17 16:46:10  5000ms\ninfo: 2022-11-17 16:46:15.5841547 +08:00 \u661f\u671f\u56db L MyJob[0] #15\n      job1 job1_trigger2 2022/11/17 16:46:15  5000ms\ninfo: 2022-11-17 16:46:20.5866898 +08:00 \u661f\u671f\u56db L MyJob[0] #8\n      job1 job1_trigger2 2022/11/17 16:46:20  5000ms\n")),(0,i.kt)("h3",{id:"26123-\u4e32\u884c-\u6267\u884c"},"26.1.2.3 ",(0,i.kt)("inlineCode",{parentName:"h3"},"\u4e32\u884c")," \u6267\u884c"),(0,i.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f5c\u4e1a\u91c7\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"\u5e76\u884c")," \u6267\u884c\u65b9\u5f0f\uff0c\u4e5f\u5c31\u662f\u4e0d\u4f1a\u7b49\u5f85\u4e0a\u4e00\u6b21\u4f5c\u4e1a\u6267\u884c\u5b8c\u6210\uff0c\u53ea\u8981\u89e6\u53d1\u65f6\u95f4\u5230\u4e86\u5c31\u81ea\u52a8\u6267\u884c\uff0c\u4f46\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u80fd\u5e0c\u671b\u7b49\u5f85\u4e0a\u4e00\u6b21\u4f5c\u4e1a\u5b8c\u6210\u518d\u6267\u884c\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3}",showLineNumbers:!0,"{3}":!0},"services.AddSchedule(options =>\n{\n    options.AddJob<MyJob>(concurrent: false, Triggers.Secondly()); // \u4e32\u884c\uff0c\u6bcf\u79d2\u6267\u884c\n});\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {12}",showLineNumbers:!0,"{12}":!0},'public class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        _logger.LogInformation($"{context.JobId} {context.TriggerId} {context.OccurrenceTime} {context.Trigger}");\n        await Task.Delay(2000, stoppingToken); // \u8fd9\u91cc\u6a21\u62df\u8017\u65f6\u64cd\u4f5c\uff0c\u6bd4\u5982\u8017\u65f62\u79d2\n    }\n}\n')),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,8,14,20}",showLineNumbers:!0,"{2,8,14,20}":!0},"info: 2022-11-17 16:57:49.0898900 +08:00 \u661f\u671f\u56db L MyJob[0] #8\n      job1 job1_trigger1 2022/11/17 16:57:49  * * * * * *\nwarn: 2022-11-17 16:57:50.0322409 +08:00 \u661f\u671f\u56db L System.Logging.ScheduleService[0] #8\n      11/17/2022 16:57:50: The <job1_trigger1> trigger of job <job1> failed to execute as scheduled due to blocking.\nwarn: 2022-11-17 16:57:51.0099629 +08:00 \u661f\u671f\u56db L System.Logging.ScheduleService[0] #8\n      11/17/2022 16:57:51: The <job1_trigger1> trigger of job <job1> failed to execute as scheduled due to blocking.\ninfo: 2022-11-17 16:57:52.0192847 +08:00 \u661f\u671f\u56db L MyJob[0] #8\n      job1 job1_trigger1 2022/11/17 16:57:52  * * * * * *\nwarn: 2022-11-17 16:57:53.0159256 +08:00 \u661f\u671f\u56db L System.Logging.ScheduleService[0] #8\n      11/17/2022 16:57:53: The <job1_trigger1> trigger of job <job1> failed to execute as scheduled due to blocking.\nwarn: 2022-11-17 16:57:54.0101172 +08:00 \u661f\u671f\u56db L System.Logging.ScheduleService[0] #8\n      11/17/2022 16:57:54: The <job1_trigger1> trigger of job <job1> failed to execute as scheduled due to blocking.\ninfo: 2022-11-17 16:57:55.0038536 +08:00 \u661f\u671f\u56db L MyJob[0] #13\n      job1 job1_trigger1 2022/11/17 16:57:55  * * * * * *\nwarn: 2022-11-17 16:57:56.0158085 +08:00 \u661f\u671f\u56db L System.Logging.ScheduleService[0] #16\n      11/17/2022 16:57:56: The <job1_trigger1> trigger of job <job1> failed to execute as scheduled due to blocking.\nwarn: 2022-11-17 16:57:57.0276842 +08:00 \u661f\u671f\u56db L System.Logging.ScheduleService[0] #16\n      11/17/2022 16:57:57: The <job1_trigger1> trigger of job <job1> failed to execute as scheduled due to blocking.\ninfo: 2022-11-17 16:57:58.0100972 +08:00 \u661f\u671f\u56db L MyJob[0] #13\n      job1 job1_trigger1 2022/11/17 16:57:58  * * * * * *\nwarn: 2022-11-17 16:57:59.0149137 +08:00 \u661f\u671f\u56db L System.Logging.ScheduleService[0] #13\n      11/17/2022 16:57:59: The <job1_trigger1> trigger of job <job1> failed to execute as scheduled due to blocking.\n")),(0,i.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"\u4e32\u884c")," \u6267\u884c\u4f46\u56e0\u4e3a\u8017\u65f6\u5bfc\u81f4",(0,i.kt)("strong",{parentName:"p"},"\u89e6\u53d1\u65f6\u95f4\u5230\u4e86\u4f46\u5b9e\u9645\u672a\u80fd\u6267\u884c"),"\u4f1a\u9ed8\u8ba4\u8f93\u51fa ",(0,i.kt)("inlineCode",{parentName:"p"},"warn")," \u8b66\u544a\u65e5\u5fd7\uff0c\u5982\u9700\u5173\u95ed\u53ea\u9700\u8981\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3}",showLineNumbers:!0,"{3}":!0},"services.AddSchedule(options =>\n{\n    options.LogEnabled = false;\n    options.AddJob<MyJob>(concurrent: false, Triggers.Secondly()); // \u6bcf\u79d2\u6267\u884c\n});\n")),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4,6,8,10}",showLineNumbers:!0,"{2,4,6,8,10}":!0},"info: 2022-11-17 17:02:28.0559602 +08:00 \u661f\u671f\u56db L MyJob[0] #5\n      job1 job1_trigger1 2022/11/17 17:02:28  * * * * * *\ninfo: 2022-11-17 17:02:31.0183238 +08:00 \u661f\u671f\u56db L MyJob[0] #8\n      job1 job1_trigger1 2022/11/17 17:02:31  * * * * * *\ninfo: 2022-11-17 17:02:34.0130555 +08:00 \u661f\u671f\u56db L MyJob[0] #13\n      job1 job1_trigger1 2022/11/17 17:02:34  * * * * * *\ninfo: 2022-11-17 17:02:37.0040306 +08:00 \u661f\u671f\u56db L MyJob[0] #15\n      job1 job1_trigger1 2022/11/17 17:02:37  * * * * * *\ninfo: 2022-11-17 17:02:39.0142346 +08:00 \u661f\u671f\u56db L MyJob[0] #15\n      job1 job1_trigger1 2022/11/17 17:02:39  * * * * * *\n")),(0,i.kt)("h3",{id:"26124-\u6253\u5370\u4f5c\u4e1a\u5b8c\u6574\u4fe1\u606f"},"26.1.2.4 \u6253\u5370\u4f5c\u4e1a\u5b8c\u6574\u4fe1\u606f"),(0,i.kt)("p",null,"\u6846\u67b6\u63d0\u4f9b\u4e86\u56db\u79cd\u65b9\u5f0f\u6253\u5370\u4f5c\u4e1a\u5b8c\u6574\u4fe1\u606f\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u7b2c\u4e00\u79cd\uff1a\u8f93\u51fa\u5b8c\u6574\u7684\u4f5c\u4e1a ",(0,i.kt)("inlineCode",{parentName:"strong"},"JSON")," \u4fe1\u606f\uff1a",(0,i.kt)("inlineCode",{parentName:"strong"},"context.ConvertToJSON()")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {11}",showLineNumbers:!0,"{11}":!0},"public class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        _logger.LogInformation(context.ConvertToJSON());\n        await Task.CompletedTask;\n    }\n}\n")),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6253\u5370\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:"showLineNumbers {3,14}",showLineNumbers:!0,"{3,14}":!0},'info: 2022-11-17 17:13:41.0480946 +08:00 \u661f\u671f\u56db L MyJob[0] #5\n      {\n        "jobDetail": {\n        "jobId": "job1",\n        "groupName": null,\n        "jobType": "MyJob",\n        "assemblyName": "ConsoleApp32",\n        "description": null,\n        "concurrent": false,\n        "includeAnnotations": false,\n        "properties": "{}",\n        "updatedTime": "2022-11-17T17:13:41.0247430+08:00"\n      },\n        "trigger": {\n        "triggerId": "job1_trigger1",\n        "jobId": "job1",\n        "triggerType": "Furion.Schedule.CronTrigger",\n        "assemblyName": "Furion",\n        "args": "[\\"@secondly\\",0]",\n        "description": null,\n        "status": 2,\n        "startTime": null,\n        "endTime": null,\n        "lastRunTime": "2022-11-17T17:13:41.0000000",\n        "nextRunTime": "2022-11-17T17:13:42.0000000",\n        "numberOfRuns": 1,\n        "maxNumberOfRuns": 0,\n        "numberOfErrors": 0,\n        "maxNumberOfErrors": 0,\n        "numRetries": 0,\n        "retryTimeout": 1000,\n        "startNow": true,\n        "runOnStart": false,\n        "resetOnlyOnce": true,\n        "updatedTime": "2022-11-17T17:13:41.0250214+08:00"\n      }\n      }\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u7b2c\u4e8c\u79cd\uff1a\u8f93\u51fa\u5355\u72ec\u7684\u4f5c\u4e1a ",(0,i.kt)("inlineCode",{parentName:"strong"},"JSON")," \u4fe1\u606f\uff1a",(0,i.kt)("inlineCode",{parentName:"strong"},"jobDetail.ConvertToJSON()")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"strong"},"trigger.ConvertToJSON()")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {11-12,14-15}",showLineNumbers:!0,"{11-12,14-15}":!0},"public class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        var jobDetail = context.JobDetail;\n        var trigger = context.Trigger;\n\n        _logger.LogInformation(jobDetail.ConvertToJSON());\n        _logger.LogInformation(trigger.ConvertToJSON(NamingConventions.UnderScoreCase));    // \u652f\u6301\u4e09\u79cd\u5c5e\u6027\u540d\u8f93\u51fa\u89c4\u5219\n\n        await Task.CompletedTask;\n    }\n}\n")),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6253\u5370\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:"showLineNumbers {2-12,14-35}",showLineNumbers:!0,"{2-12,14-35}":!0},'info: 2022-11-17 17:17:15.0441407 +08:00 \u661f\u671f\u56db L MyJob[0] #3\n      {\n        "jobId": "job1",\n        "groupName": null,\n        "jobType": "MyJob",\n        "assemblyName": "ConsoleApp32",\n        "description": null,\n        "concurrent": false,\n        "includeAnnotations": false,\n        "properties": "{}",\n        "updatedTime": "2022-11-17T17:17:15.0103913+08:00"\n      }\ninfo: 2022-11-17 17:17:15.0503546 +08:00 \u661f\u671f\u56db L MyJob[0] #3\n      {\n        "trigger_id": "job1_trigger1",\n        "job_id": "job1",\n        "trigger_type": "Furion.Schedule.CronTrigger",\n        "assembly_name": "Furion",\n        "args": "[\\"@secondly\\",0]",\n        "description": null,\n        "status": 2,\n        "start_time": null,\n        "end_time": null,\n        "last_run_time": "2022-11-17T17:17:15.0000000",\n        "next_run_time": "2022-11-17T17:17:16.0000000",\n        "number_of_runs": 1,\n        "max_number_of_runs": 0,\n        "number_of_errors": 0,\n        "max_number_of_errors": 0,\n        "num_retries": 0,\n        "retry_timeout": 1000,\n        "start_now": true,\n        "run_on_start": false,\n        "reset_only_once": true,\n        "updated_time": "2022-11-17T17:17:15.0109612+08:00"\n      }\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u7b2c\u4e09\u79cd\uff1a\u8f93\u51fa\u5355\u72ec\u7684\u4f5c\u4e1a ",(0,i.kt)("inlineCode",{parentName:"strong"},"SQL")," \u4fe1\u606f\uff1a",(0,i.kt)("inlineCode",{parentName:"strong"},"jobDetail.ConvertToSQL()")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"strong"},"trigger.ConvertToSQL()")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {11-12,14-16}",showLineNumbers:!0,"{11-12,14-16}":!0},'public class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        var jobDetail = context.JobDetail;\n        var trigger = context.Trigger;\n\n        _logger.LogInformation(jobDetail.ConvertToSQL("\u4f5c\u4e1a\u4fe1\u606f\u8868\u540d", PersistenceBehavior.Appended));  // \u8f93\u51fa\u65b0\u589e\u8bed\u53e5\n        _logger.LogInformation(trigger.ConvertToSQL("\u4f5c\u4e1a\u89e6\u53d1\u5668\u8868\u540d", PersistenceBehavior.Removed, NamingConventions.Pascal));    // \u8f93\u51fa\u5220\u9664\u8bed\u53e5\n        _logger.LogInformation(trigger.ConvertToSQL("\u4f5c\u4e1a\u89e6\u53d1\u5668\u8868\u540d", PersistenceBehavior.Updated, NamingConventions.UnderScoreCase));    // \u8f93\u51fa\u66f4\u65b0\u8bed\u53e5\n\n        await Task.CompletedTask;\n    }\n}\n')),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6253\u5370\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:"showLineNumbers {2,25,28}",showLineNumbers:!0,"{2,25,28}":!0},"info: 2022-11-17 17:35:11.1085426 +08:00 \u661f\u671f\u56db L MyJob[0] #9\n      INSERT INTO \u4f5c\u4e1a\u4fe1\u606f\u8868\u540d(\n            [jobId],\n            [groupName],\n            [jobType],\n            [assemblyName],\n            [description],\n            [concurrent],\n            [includeAnnotations],\n            [properties],\n            [updatedTime]\n      )\n      VALUES(\n            'job1',\n            NULL,\n            'MyJob',\n            'ConsoleApp32',\n            NULL,\n            0,\n            0,\n            '{}',\n            '2022/11/17 17:35:11'\n      );\ninfo: 2022-11-17 17:35:11.1150444 +08:00 \u661f\u671f\u56db L MyJob[0] #9\n      DELETE FROM \u4f5c\u4e1a\u89e6\u53d1\u5668\u8868\u540d\n      WHERE [TriggerId] = 'job1_trigger1' AND [JobId] = 'job1';\ninfo: 2022-11-17 17:35:11.1190961 +08:00 \u661f\u671f\u56db L MyJob[0] #9\n      UPDATE \u4f5c\u4e1a\u89e6\u53d1\u5668\u8868\u540d\n      SET\n            [trigger_id] = 'job1_trigger1',\n            [job_id] = 'job1',\n            [trigger_type] = 'Furion.Schedule.CronTrigger',\n            [assembly_name] = 'Furion',\n            [args] = '[\"@secondly\",0]',\n            [description] = NULL,\n            [status] = 2,\n            [start_time] = NULL,\n            [end_time] = NULL,\n            [last_run_time] = '2022/11/17 17:35:11',\n            [next_run_time] = '2022/11/17 17:35:12',\n            [number_of_runs] = 1,\n            [max_number_of_runs] = 0,\n            [number_of_errors] = 0,\n            [max_number_of_errors] = 0,\n            [num_retries] = 0,\n            [retry_timeout] = 1000,\n            [start_now] = 1,\n            [run_on_start] = 0,\n            [reset_only_once] = 1,\n            [updated_time] = '2022/11/17 17:35:11'\n      WHERE [trigger_id] = 'job1_trigger1' AND [job_id] = 'job1';\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u7b2c\u56db\u79cd\uff1a\u8f93\u51fa\u5355\u72ec\u7684\u4f5c\u4e1a ",(0,i.kt)("inlineCode",{parentName:"strong"},"Monitor")," \u4fe1\u606f\uff1a",(0,i.kt)("inlineCode",{parentName:"strong"},"jobDetail.ConvertToMonitor()")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"strong"},"trigger.ConvertToMonitor()")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {11-12,14-15}",showLineNumbers:!0,"{11-12,14-15}":!0},"public class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        var jobDetail = context.JobDetail;\n        var trigger = context.Trigger;\n\n        _logger.LogInformation(jobDetail.ConvertToMonitor());\n        _logger.LogInformation(trigger.ConvertToMonitor());\n\n        await Task.CompletedTask;\n    }\n}\n")),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6253\u5370\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,16}",showLineNumbers:!0,"{2,16}":!0},'info: 2022-11-17 17:39:09.1086517 +08:00 \u661f\u671f\u56db L MyJob[0] #3\n      \u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  JobDetail \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n      \u2523 MyJob\n      \u2523\n      \u2523 JobId\uff1a                     job1\n      \u2523 GroupName\uff1a\n      \u2523 JobType\uff1a                   MyJob\n      \u2523 AssemblyName\uff1a              ConsoleApp32\n      \u2523 Description\uff1a\n      \u2523 Concurrent\uff1a                False\n      \u2523 IncludeAnnotations\uff1a        False\n      \u2523 Properties\uff1a                {}\n      \u2523 UpdatedTime\uff1a               2022/11/17 17:39:09\n      \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  JobDetail \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\ninfo: 2022-11-17 17:39:09.1133162 +08:00 \u661f\u671f\u56db L MyJob[0] #3\n      \u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  Trigger \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n      \u2523 Furion.Schedule.CronTrigger\n      \u2523\n      \u2523 TriggerId\uff1a                job1_trigger1\n      \u2523 JobId\uff1a                    job1\n      \u2523 TriggerType\uff1a              Furion.Schedule.CronTrigger\n      \u2523 AssemblyName\uff1a             Furion\n      \u2523 Args\uff1a                     ["@secondly",0]\n      \u2523 Description\uff1a\n      \u2523 Status\uff1a                   Running\n      \u2523 StartTime\uff1a\n      \u2523 EndTime\uff1a\n      \u2523 LastRunTime\uff1a              2022/11/17 17:39:09\n      \u2523 NextRunTime\uff1a              2022/11/17 17:39:10\n      \u2523 NumberOfRuns\uff1a             1\n      \u2523 MaxNumberOfRuns\uff1a          0\n      \u2523 NumberOfErrors\uff1a           0\n      \u2523 MaxNumberOfErrors\uff1a        0\n      \u2523 NumRetries\uff1a               0\n      \u2523 RetryTimeout\uff1a             1000\n      \u2523 StartNow\uff1a                 True\n      \u2523 RunOnStart\uff1a               False\n      \u2523 ResetOnlyOnce\uff1a            True\n      \u2523 UpdatedTime\uff1a              2022/11/17 17:39:09\n      \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  Trigger \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n')),(0,i.kt)("h3",{id:"26125-\u8fd0\u884c\u65f6\u52a8\u6001\u64cd\u4f5c\u4f5c\u4e1a"},"26.1.2.5 \u8fd0\u884c\u65f6\uff08\u52a8\u6001\uff09\u64cd\u4f5c\u4f5c\u4e1a"),(0,i.kt)("p",null,"\u6709\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u5728\u8fd0\u884c\u65f6\u5bf9\u4f5c\u4e1a\u52a8\u6001\u7684\u589e\u52a0\uff0c\u66f4\u65b0\uff0c\u5220\u9664\u7b49\u64cd\u4f5c\uff0c\u5982\u52a8\u6001\u6dfb\u52a0\u4f5c\u4e1a\uff1a"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u6ce8\u518c ",(0,i.kt)("inlineCode",{parentName:"li"},"services.AddSchedule()")," \u670d\u52a1")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5}",showLineNumbers:!0,"{2,5}":!0},"// \u53ef\u4ee5\u5b8c\u5168\u52a8\u6001\u64cd\u4f5c\uff0c\u53ea\u9700\u8981\u6ce8\u518c\u670d\u52a1\u5373\u53ef\nservices.AddSchedule();\n\n// \u4e5f\u53ef\u4ee5\u90e8\u5206\u9759\u6001\uff0c\u90e8\u5206\u52a8\u6001\u6ce8\u518c\nservices.AddSchedule(options =>\n{\n    options.AddJob<MyJob>(concurrent: false, Triggers.PeriodSeconds(5));\n});\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"\u6ce8\u5165 ",(0,i.kt)("inlineCode",{parentName:"li"},"ISchedulerFactory")," \u670d\u52a1")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {4,11}",showLineNumbers:!0,"{4,11}":!0},'public class YourService: IYourService\n{\n    private readonly ISchedulerFactory _schedulerFactory;\n    public YourService(ISchedulerFactory schedulerFactory)\n    {\n        _schedulerFactory = schedulerFactory;\n    }\n\n    public void AddJob()\n    {\n        _schedulerFactory.AddJob<MyJob>("\u52a8\u6001\u4f5c\u4e1a Id", Triggers.Secondly());\n    }\n}\n')),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u7ed3\u679c")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4,6,8,10,20}",showLineNumbers:!0,"{2,4,6,8,10,20}":!0},"warn: 2022-11-17 17:54:35.2654513 +08:00 \u661f\u671f\u56db L System.Logging.ScheduleService[0] #5\n      Schedule Hosted Service cancels hibernation.\ninfo: 2022-11-17 17:54:35.2670018 +08:00 \u661f\u671f\u56db L System.Logging.ScheduleService[0] #5\n      The Scheduler of <\u52a8\u6001\u4f5c\u4e1a Id> successfully added to the schedule.\ninfo: 2022-11-17 17:54:36.0834925 +08:00 \u661f\u671f\u56db L MyJob[0] #5\n      job1 job1_trigger1 2022/11/17 17:54:36  5000ms\ninfo: 2022-11-17 17:54:36.0911692 +08:00 \u661f\u671f\u56db L MyJob[0] #3\n      \u52a8\u6001\u4f5c\u4e1a Id \u52a8\u6001\u4f5c\u4e1a Id_trigger1 2022/11/17 17:54:36  * * * * * *\ninfo: 2022-11-17 17:54:37.0146251 +08:00 \u661f\u671f\u56db L MyJob[0] #18\n      \u52a8\u6001\u4f5c\u4e1a Id \u52a8\u6001\u4f5c\u4e1a Id_trigger1 2022/11/17 17:54:37  * * * * * *\ninfo: 2022-11-17 17:54:38.0071504 +08:00 \u661f\u671f\u56db L MyJob[0] #16\n      \u52a8\u6001\u4f5c\u4e1a Id \u52a8\u6001\u4f5c\u4e1a Id_trigger1 2022/11/17 17:54:38  * * * * * *\ninfo: 2022-11-17 17:54:39.0140840 +08:00 \u661f\u671f\u56db L MyJob[0] #17\n      \u52a8\u6001\u4f5c\u4e1a Id \u52a8\u6001\u4f5c\u4e1a Id_trigger1 2022/11/17 17:54:39  * * * * * *\ninfo: 2022-11-17 17:54:40.0173240 +08:00 \u661f\u671f\u56db L MyJob[0] #16\n      \u52a8\u6001\u4f5c\u4e1a Id \u52a8\u6001\u4f5c\u4e1a Id_trigger1 2022/11/17 17:54:40  * * * * * *\ninfo: 2022-11-17 17:54:41.0249043 +08:00 \u661f\u671f\u56db L MyJob[0] #16\n      \u52a8\u6001\u4f5c\u4e1a Id \u52a8\u6001\u4f5c\u4e1a Id_trigger1 2022/11/17 17:54:41  * * * * * *\ninfo: 2022-11-17 17:54:41.0550205 +08:00 \u661f\u671f\u56db L MyJob[0] #15\n      job1 job1_trigger1 2022/11/17 17:54:41  5000ms\ninfo: 2022-11-17 17:54:42.0171271 +08:00 \u661f\u671f\u56db L MyJob[0] #15\n      \u52a8\u6001\u4f5c\u4e1a Id \u52a8\u6001\u4f5c\u4e1a Id_trigger1 2022/11/17 17:54:42  * * * * * *\ninfo: 2022-11-17 17:54:43.0288486 +08:00 \u661f\u671f\u56db L MyJob[0] #18\n      \u52a8\u6001\u4f5c\u4e1a Id \u52a8\u6001\u4f5c\u4e1a Id_trigger1 2022/11/17 17:54:43  * * * * * *\ninfo: 2022-11-17 17:54:44.0092455 +08:00 \u661f\u671f\u56db L MyJob[0] #15\n      \u52a8\u6001\u4f5c\u4e1a Id \u52a8\u6001\u4f5c\u4e1a Id_trigger1 2022/11/17 17:54:44  * * * * * *\n")),(0,i.kt)("h3",{id:"26126-\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"},"26.1.2.6 \u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6846\u67b6\u4e0d\u4f1a\u626b\u63cf ",(0,i.kt)("inlineCode",{parentName:"p"},"IJob")," \u5b9e\u73b0\u7c7b\u7684\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027\uff0c\u4f46\u53ef\u4ee5\u8bbe\u7f6e\u4f5c\u4e1a\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"IncludeAnnotations")," \u8fdb\u884c\u542f\u7528\u3002"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u542f\u7528 ",(0,i.kt)("inlineCode",{parentName:"li"},"IncludeAnnotations")," \u626b\u63cf")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3,7,10}",showLineNumbers:!0,"{3,7,10}":!0},"services.AddSchedule(options =>\n{\n    options.AddJob(JobBuilder.Create<MyJob>().SetIncludeAnnotations(true)\n        , Triggers.PeriodSeconds(5));     // \u8fd9\u91cc\u53ef\u4f20\u53ef\u4e0d\u4f20\uff0c\u4f20\u4e86\u5219\u4f1a\u81ea\u52a8\u8f7d\u5165\u7279\u6027\u548c\u8fd9\u91cc\u914d\u7f6e\u7684\u4f5c\u4e1a\u89e6\u53d1\u5668\n\n    // \u8fd8\u53ef\u4ee5\u66f4\u7b80\u5355~~\n    options.AddJob(typeof(MyJob).ScanToBuilder());\n\n    // \u8fd8\u53ef\u4ee5\u6279\u91cf\u65b0\u589e Furion 4.8.2.4+\n    options.AddJob(App.EffectiveTypes.ScanToBuilders().ToArray())\n});\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"\u5728 ",(0,i.kt)("inlineCode",{parentName:"li"},"MyJob")," \u4e2d\u6dfb\u52a0\u591a\u4e2a\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1-2}",showLineNumbers:!0,"{1-2}":!0},'[Minutely]\n[Cron("3,7,8 * * * * ?", CronStringFormat.WithSeconds)]\npublic class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        _logger.LogInformation($"{context.JobId} {context.TriggerId} {context.OccurrenceTime} {context.Trigger}");\n\n        await Task.CompletedTask;\n    }\n}\n')),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u7ed3\u679c")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4,6,8,10,12,14,16,18}",showLineNumbers:!0,"{2,4,6,8,10,12,14,16,18}":!0},"info: 2022-11-18 10:28:56.3382585 +08:00 \u661f\u671f\u4e94 L MyJob[0] #14\n      job1 job1_trigger1 2022/11/18 10:28:56  5000ms\ninfo: 2022-11-18 10:29:00.0219493 +08:00 \u661f\u671f\u4e94 L MyJob[0] #5\n      job1 job1_trigger2 2022/11/18 10:29:00  * * * * *\ninfo: 2022-11-18 10:29:01.3318716 +08:00 \u661f\u671f\u4e94 L MyJob[0] #14\n      job1 job1_trigger1 2022/11/18 10:29:01  5000ms\ninfo: 2022-11-18 10:29:03.0127992 +08:00 \u661f\u671f\u4e94 L MyJob[0] #16\n      job1 job1_trigger3 2022/11/18 10:29:03  3,7,8 * * * * ?\ninfo: 2022-11-18 10:29:06.3457728 +08:00 \u661f\u671f\u4e94 L MyJob[0] #16\n      job1 job1_trigger1 2022/11/18 10:29:06  5000ms\ninfo: 2022-11-18 10:29:07.0318919 +08:00 \u661f\u671f\u4e94 L MyJob[0] #14\n      job1 job1_trigger3 2022/11/18 10:29:07  3,7,8 * * * * ?\ninfo: 2022-11-18 10:29:08.0141479 +08:00 \u661f\u671f\u4e94 L MyJob[0] #8\n      job1 job1_trigger3 2022/11/18 10:29:08  3,7,8 * * * * ?\ninfo: 2022-11-18 10:29:11.3468100 +08:00 \u661f\u671f\u4e94 L MyJob[0] #16\n      job1 job1_trigger1 2022/11/18 10:29:11  5000ms\ninfo: 2022-11-18 10:29:16.3504029 +08:00 \u661f\u671f\u4e94 L MyJob[0] #14\n      job1 job1_trigger1 2022/11/18 10:29:16  5000ms\n")),(0,i.kt)("h2",{id:"2613-\u4f5c\u4e1a\u4fe1\u606f-jobdetail-\u53ca\u6784\u5efa\u5668"},"26.1.3 \u4f5c\u4e1a\u4fe1\u606f ",(0,i.kt)("inlineCode",{parentName:"h2"},"JobDetail")," \u53ca\u6784\u5efa\u5668"),(0,i.kt)("h3",{id:"26131-\u5173\u4e8e\u4f5c\u4e1a\u4fe1\u606f"},"26.1.3.1 \u5173\u4e8e\u4f5c\u4e1a\u4fe1\u606f"),(0,i.kt)("p",null,"\u6846\u67b6\u63d0\u4f9b\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"JobDetail")," \u7c7b\u578b\u6765\u63cf\u8ff0\u4f5c\u4e1a\u4fe1\u606f\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"JobDetail")," \u7c7b\u578b\u63d0\u4f9b\u4ee5\u4e0b",(0,i.kt)("strong",{parentName:"p"},"\u53ea\u8bfb\u5c5e\u6027"),"\uff1a"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027\u540d"),(0,i.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027\u7c7b\u578b"),(0,i.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,i.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"JobId")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a ",(0,i.kt)("inlineCode",{parentName:"td"},"Id"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"GroupName")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a\u7ec4\u540d\u79f0")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"JobType")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\u7c7b\u578b\uff0c\u5b58\u50a8\u7684\u662f\u7c7b\u578b\u7684 ",(0,i.kt)("inlineCode",{parentName:"td"},"FullName"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"AssemblyName")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\u7c7b\u578b\u6240\u5728\u7a0b\u5e8f\u96c6\uff0c\u5b58\u50a8\u7684\u662f\u7a0b\u5e8f\u96c6 ",(0,i.kt)("inlineCode",{parentName:"td"},"Name"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Description")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u63cf\u8ff0\u4fe1\u606f")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Concurrent")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"bool")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a\u6267\u884c\u65b9\u5f0f\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3a ",(0,i.kt)("inlineCode",{parentName:"td"},"false"),"\uff0c\u90a3\u4e48\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"td"},"\u4e32\u884c")," \u6267\u884c\uff0c\u5426\u5219 ",(0,i.kt)("inlineCode",{parentName:"td"},"\u5e76\u884c")," \u6267\u884c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"IncludeAnnotations")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"bool")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u626b\u63cf ",(0,i.kt)("inlineCode",{parentName:"td"},"IJob")," \u5b9e\u73b0\u7c7b ",(0,i.kt)("inlineCode",{parentName:"td"},"[Trigger]")," \u7279\u6027\u89e6\u53d1\u5668")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Properties")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"{}"')),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a\u4fe1\u606f\u989d\u5916\u6570\u636e\uff0c\u7531 ",(0,i.kt)("inlineCode",{parentName:"td"},"Dictionary<string, object>")," \u5e8f\u5217\u5316\u6210\u5b57\u7b26\u4e32\u5b58\u50a8")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"UpdatedTime")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"DateTime?")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a\u66f4\u65b0\u65f6\u95f4")))),(0,i.kt)("h3",{id:"26132-\u5173\u4e8e\u4f5c\u4e1a\u4fe1\u606f\u6784\u5efa\u5668"},"26.1.3.2 \u5173\u4e8e\u4f5c\u4e1a\u4fe1\u606f\u6784\u5efa\u5668"),(0,i.kt)("p",null,"\u4f5c\u4e1a\u4fe1\u606f ",(0,i.kt)("inlineCode",{parentName:"p"},"JobDetail")," \u662f\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u63d0\u4f9b\u8fd0\u884c\u65f6\u7684",(0,i.kt)("strong",{parentName:"p"},"\u53ea\u8bfb\u7c7b\u578b"),"\uff0c\u90a3\u4e48\u6211\u4eec\u8be5\u5982\u4f55\u521b\u5efa\u6216\u53d8\u66f4 ",(0,i.kt)("inlineCode",{parentName:"p"},"JobDetail")," \u5bf9\u8c61\u5462\uff1f"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"JobBuilder")," \u662f\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u63d0\u4f9b\u53ef\u7528\u6765\u751f\u6210\u8fd0\u884c\u65f6 ",(0,i.kt)("inlineCode",{parentName:"p"},"JobDetail")," \u7684\u7c7b\u578b\uff0c\u8fd9\u6837\u505a\u7684\u597d\u5904\u53ef\u907f\u514d\u5916\u90e8\u76f4\u63a5\u4fee\u6539\u8fd0\u884c\u65f6 ",(0,i.kt)("inlineCode",{parentName:"p"},"JobDetail")," \u6570\u636e\uff0c\u8fd8\u80fd\u5b9e\u73b0\u4efb\u4f55\u4fee\u6539\u52a8\u4f5c\u76d1\u542c\uff0c\u4e5f\u80fd\u907f\u514d\u591a\u7ebf\u7a0b\u62a2\u5360\u60c5\u51b5\u3002"),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u63d0\u4f9b\u4e86\u591a\u79cd\u65b9\u5f0f\u7528\u6765\u521b\u5efa ",(0,i.kt)("inlineCode",{parentName:"p"},"JobBuilder")," \u5bf9\u8c61\u3002"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Create")," \u9759\u6001\u65b9\u6cd5\u521b\u5efa"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5,8,11}",showLineNumbers:!0,"{2,5,8,11}":!0},'// \u6839\u636e IJob \u5b9e\u73b0\u7c7b\u7c7b\u578b\u521b\u5efa\nvar jobBuilder = JobBuilder.Create<MyJob>();\n\n// \u6839\u636e Type \u7c7b\u578b\u521b\u5efa\nvar jobBuilder = JobBuilder.Create(typeof(MyJob));\n\n// \u6839\u636e\u7a0b\u5e8f\u96c6\u540d\u79f0\u548c\u7c7b\u578b\u5b8c\u5168\u9650\u5b9a\u540d\uff08FullName\uff09\u521b\u5efa\nvar jobBuilder = JobBuilder.Create("YourProject", "YourProject.MyJob");\n\n// \u901a\u8fc7\u59d4\u6258\u521b\u9020\u52a8\u6001\u4f5c\u4e1a\nvar jobBuilder = JoBuilder.Create((s, c, t) =>\n{\n      // ....\n});\n')),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"JobDetail")," \u7c7b\u578b\u521b\u5efa"))),(0,i.kt)("p",null,"\u8fd9\u79cd\u65b9\u5f0f\u5e38\u7528\u4e8e\u5728\u8fd0\u884c\u65f6\u66f4\u65b0\u4f5c\u4e1a\u4fe1\u606f\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var jobBuilder = JobBuilder.From(jobDetail);\n\n//\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\nvar jobBuilder = jobDetail.GetBuilder();\n")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"JSON")," \u5b57\u7b26\u4e32\u521b\u5efa"))),(0,i.kt)("p",null,"\u8be5\u65b9\u5f0f\u975e\u5e38\u7075\u6d3b\uff0c\u53ef\u4ece\u914d\u7f6e\u6587\u4ef6\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"JSON")," \u5b57\u7b26\u4e32\uff0c\u6216\u5176\u4ed6\u80fd\u591f\u8fd4\u56de ",(0,i.kt)("inlineCode",{parentName:"p"},"JSON")," \u5b57\u7b26\u4e32\u7684\u5730\u65b9\u521b\u5efa\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2-12}",showLineNumbers:!0,"{2-12}":!0},'var jobBuilder = JobBuilder.From(@"\n{\n    ""jobId"": ""job1"",\n    ""groupName"": null,\n    ""jobType"": ""Furion.Application.MyJob"",\n    ""assemblyName"": ""Furion.Application"",\n    ""description"": null,\n    ""concurrent"": true,\n    ""includeAnnotations"": false,\n    ""properties"": ""{}"",\n    ""updatedTime"": ""2022-11-17T09:25:47.0471107+08:00""\n}");\n')),(0,i.kt)("p",null,"\u5982\u679c\u4f7f\u7528\u7684\u662f ",(0,i.kt)("inlineCode",{parentName:"p"},".NET7"),"\uff0c\u53ef\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},'"""')," \u907f\u514d\u8f6c\u4e49\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2-12}",showLineNumbers:!0,"{2-12}":!0},'var jobBuilder = JobBuilder.From("""\n{\n    "jobId": "job1",\n    "groupName": null,\n    "jobType": "Furion.Application.MyJob",\n    "assemblyName": "Furion.Application",\n    "description": null,\n    "concurrent": true,\n    "includeAnnotations": false,\n    "properties": "{}",\n    "updatedTime": "2022-11-17T09:25:47.0471107+08:00"\n}\n""");\n')),(0,i.kt)("admonition",{title:"\u5173\u4e8e\u5c5e\u6027\u540d\u5339\u914d\u89c4\u5219",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u652f\u6301 ",(0,i.kt)("inlineCode",{parentName:"p"},"CamelCase\uff08\u9a7c\u5cf0\u547d\u540d\u6cd5\uff09"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Pascal\uff08\u5e15\u65af\u5361\u547d\u540d\u6cd5\uff09")," \u547d\u540d\u65b9\u5f0f\u3002"),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"\u4e0d\u652f\u6301 ",(0,i.kt)("inlineCode",{parentName:"strong"},"UnderScoreCase\uff08\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5\uff09"))," \uff0c\u5982 ",(0,i.kt)("inlineCode",{parentName:"p"},'"include_annotations": true'))),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u8fd8\u53ef\u4ee5\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Clone")," \u9759\u6001\u65b9\u6cd5\u4ece\u4e00\u4e2a ",(0,i.kt)("inlineCode",{parentName:"strong"},"JobBuilder")," \u521b\u5efa"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var jobBuilder = JobBuilder.Clone(fromJobBuilder);\n")),(0,i.kt)("admonition",{title:"\u514b\u9686\u8bf4\u660e",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u514b\u9686\u64cd\u4f5c\u53ea\u4f1a\u514b\u9686 ",(0,i.kt)("inlineCode",{parentName:"p"},"AssemblyName"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"JobType"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"GroupName"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Description"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Concurrent"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"IncludeAnnotations"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Properties"),"\u3002"),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"\u4e0d\u4f1a\u514b\u9686 ",(0,i.kt)("inlineCode",{parentName:"strong"},"JobId"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"strong"},"UpdatedTime"),"\u3002"))),(0,i.kt)("ol",{start:5},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u8fd8\u53ef\u4ee5\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"LoadFrom")," \u5b9e\u4f8b\u65b9\u6cd5\u586b\u5145\u5f53\u524d\u7684 ",(0,i.kt)("inlineCode",{parentName:"strong"},"JobBuilder")))),(0,i.kt)("p",null,"\u6bd4\u5982\u53ef\u4ee5\u4f20\u9012\u533f\u540d\u7c7b\u578b\uff0c\u7c7b\u7c7b\u578b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,9,14}",showLineNumbers:!0,"{2,9,14}":!0},'// \u4f1a\u8986\u76d6\u6240\u6709\u76f8\u540c\u7684\u503c\njobBuilder.LoadFrom(new\n{\n      Description = "\u6211\u662f\u63cf\u8ff0",\n      Concurrent = false\n});\n\n// \u652f\u6301\u591a\u4e2a\u586b\u5145\uff0c\u8fd8\u53ef\u4ee5\u914d\u7f6e\u8df3\u8fc7 null \u503c\u8986\u76d6\njobBuilder.LoadFrom(new\n{\n      Description = "\u6211\u662f\u53e6\u5916\u4e00\u4e2a\u63cf\u8ff0",\n      Concurrent = false,\n      IncludeAnnotations = default(object)      // \u4f1a\u8df3\u8fc7\u8d4b\u503c\n}, ignoreNullValue: true);\n')),(0,i.kt)("admonition",{title:"\u5173\u4e8e\u5c5e\u6027\u540d\u5339\u914d\u89c4\u5219",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u652f\u6301 ",(0,i.kt)("inlineCode",{parentName:"p"},"CamelCase\uff08\u9a7c\u5cf0\u547d\u540d\u6cd5\uff09"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Pascal\uff08\u5e15\u65af\u5361\u547d\u540d\u6cd5\uff09")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"UnderScoreCase\uff08\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5\uff09")," \u547d\u540d\u65b9\u5f0f\u3002")),(0,i.kt)("h3",{id:"26133-\u8bbe\u7f6e\u4f5c\u4e1a\u4fe1\u606f\u6784\u5efa\u5668"},"26.1.3.3 \u8bbe\u7f6e\u4f5c\u4e1a\u4fe1\u606f\u6784\u5efa\u5668"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"JobBuilder")," \u63d0\u4f9b\u4e86\u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"JobDetail")," \u5b8c\u5168\u5339\u914d\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"Set[\u5c5e\u6027\u540d]")," \u65b9\u6cd5\u6765\u914d\u7f6e\u4f5c\u4e1a\u4fe1\u606f\u5404\u4e2a\u5c5e\u6027\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3,20}",showLineNumbers:!0,"{3,20}":!0},'services.AddSchedule(options =>\n{\n    var jobBuilder = JobBuilder.Create<MyJob>()\n        .SetJobId("job1")   // \u4f5c\u4e1a Id\n        .SetGroupName("group1") // \u4f5c\u4e1a\u7ec4\u540d\u79f0\n        .SetJobType("Furion.Application", "Furion.Application.MyJob") // \u4f5c\u4e1a\u7c7b\u578b\uff0c\u652f\u6301\u591a\u4e2a\u91cd\u8f7d\n        .SetJobType<MyJob>()    // \u4f5c\u4e1a\u7c7b\u578b\uff0c\u652f\u6301\u591a\u4e2a\u91cd\u8f7d\n        .SetJobType(typeof(MyJob))  // \u4f5c\u4e1a\u7c7b\u578b\uff0c\u652f\u6301\u591a\u4e2a\u91cd\u8f7d\n        .SetDescription("\u8fd9\u662f\u4e00\u6bb5\u63cf\u8ff0")   // \u4f5c\u4e1a\u63cf\u8ff0\n        .SetConcurrent(false)   // \u5e76\u884c\u8fd8\u662f\u4e32\u884c\u65b9\u5f0f\uff0cfalse \u4e3a \u4e32\u884c\n        .SetIncludeAnnotations(true)    // \u662f\u5426\u626b\u63cf IJob \u7c7b\u578b\u7684\u89e6\u53d1\u5668\u7279\u6027\uff0ctrue \u4e3a \u626b\u63cf\n        .SetProperties("{}")    // \u4f5c\u4e1a\u989d\u5916\u6570\u636e Dictionary<string, object> \u7c7b\u578b\u5e8f\u5217\u5316\uff0c\u652f\u6301\u591a\u4e2a\u91cd\u8f7d\n        .SetProperties(new Dictionary<string, object> { { "name", "Furion" } })  // \u4f5c\u4e1a\u7c7b\u578b\u989d\u5916\u6570\u636e\uff0c\u652f\u6301\u591a\u4e2a\u91cd\u8f7d\uff0c\u63a8\u8350\uff01\uff01\uff01\n        .SetDynamicHandler((s, c, t) => {\n            s.Logger().LogInformation($"{c}");\n            return Task.CompletedTask;\n        })  // \u52a8\u6001\u59d4\u6258\u5904\u7406\u7a0b\u5e8f\n        ;\n\n    options.AddJob(jobBuilder, Triggers.PeriodSeconds(5));\n});\n')),(0,i.kt)("h3",{id:"26134-\u4f5c\u4e1a\u4fe1\u606f\u6784\u5efa\u5668\u989d\u5916\u6570\u636e"},"26.1.3.4 \u4f5c\u4e1a\u4fe1\u606f/\u6784\u5efa\u5668\u989d\u5916\u6570\u636e"),(0,i.kt)("p",null,"\u6709\u65f6\u5019\u6211\u4eec\u9700\u8981\u5728\u4f5c\u4e1a\u8fd0\u884c\u7684\u65f6\u5019\u6dfb\u52a0\u4e00\u4e9b\u989d\u5916\u6570\u636e\uff0c\u6216\u8005\u5b9e\u73b0\u591a\u4e2a\u89e6\u53d1\u5668\u5171\u4eab\u6570\u636e\uff0c\u7ecf\u5e38\u7528\u4e8e ",(0,i.kt)("inlineCode",{parentName:"p"},"\u4e32\u884c")," \u6267\u884c\u4e2d\uff0c\u540e\u9762\u4e00\u4e2a\u89e6\u53d1\u5668\u9700\u7b49\u5f85\u524d\u4e00\u4e2a\u89e6\u53d1\u5668\u5b8c\u6210\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {13-14,16}",showLineNumbers:!0,"{13-14,16}":!0},'public class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        var jobDetail = context.JobDetail;\n\n        var count = jobDetail.GetProperty<int>("count");\n        jobDetail.AddOrUpdateProperty("count", count + 1);  // \u9012\u589e count\n\n        _logger.LogInformation($"{context.JobId} {context.TriggerId} {context.OccurrenceTime} {context.Trigger} {count}");\n\n        await Task.CompletedTask;\n    }\n}\n')),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u8fd0\u884c\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4,6,8,10}",showLineNumbers:!0,"{2,4,6,8,10}":!0},"info: 2022-11-18 16:48:35.8308170 +08:00 \u661f\u671f\u4e94 L ConsoleApp32.MyJob[0] #5\n      job1 job1_trigger1 2022/11/18 16:48:35  5000ms 0\ninfo: 2022-11-18 16:48:40.8437231 +08:00 \u661f\u671f\u4e94 L ConsoleApp32.MyJob[0] #8\n      job1 job1_trigger1 2022/11/18 16:48:40  5000ms 1\ninfo: 2022-11-18 16:48:45.8471287 +08:00 \u661f\u671f\u4e94 L ConsoleApp32.MyJob[0] #15\n      job1 job1_trigger1 2022/11/18 16:48:45  5000ms 2\ninfo: 2022-11-18 16:48:50.8607141 +08:00 \u661f\u671f\u4e94 L ConsoleApp32.MyJob[0] #15\n      job1 job1_trigger1 2022/11/18 16:48:50  5000ms 3\ninfo: 2022-11-18 16:48:55.8645520 +08:00 \u661f\u671f\u4e94 L ConsoleApp32.MyJob[0] #14\n      job1 job1_trigger1 2022/11/18 16:48:55  5000ms 4\n")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"JobDetail")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"JobBuilder")," \u63d0\u4f9b\u4e86\u591a\u4e2a\u65b9\u6cd5\u64cd\u4f5c\u989d\u5916\u6570\u636e\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5,8,11,14,17,20}",showLineNumbers:!0,"{2,5,8,11,14,17,20}":!0},'// \u67e5\u770b\u6240\u6709\u989d\u5916\u6570\u636e\nvar properties = jobDetail.GetProperties();\n\n// \u67e5\u770b\u5355\u4e2a\u989d\u5916\u6570\u636e\uff0c\u8fd4\u56de object\nvar value = jobBuilder.GetProperty("key");\n\n// \u67e5\u770b\u5355\u4e2a\u989d\u5916\u6570\u636e\u6cdb\u578b\nvar value = jobDetail.GetProperty<int>("key");\n\n// \u6dfb\u52a0\u65b0\u7684\u989d\u5916\u6570\u636e\uff0c\u652f\u6301\u94fe\u5f0f\u64cd\u4f5c\uff0c\u5982\u679c\u952e\u5df2\u5b58\u5728\uff0c\u5219\u8df3\u8fc7\njobDetail.AddProperty("key", "Furion").AddProperty("key1", 2);\n\n// \u6dfb\u52a0\u6216\u66f4\u65b0\u989d\u5916\u6570\u636e\uff0c\u652f\u6301\u94fe\u5f0f\u64cd\u4f5c\uff0c\u4e0d\u5b58\u5728\u5219\u65b0\u589e\uff0c\u5b58\u5728\u5219\u66ff\u6362\uff0c\u63a8\u8350\njobDetail.AddOrUpdateProperty("key", "Furion").AddOrUpdateProperty("key1", 2);\n\n// \u5220\u9664\u67d0\u4e2a\u989d\u5916\u6570\u636e\uff0c\u652f\u6301\u94fe\u5f0f\u64cd\u4f5c\uff0c\u5982\u679c key \u4e0d\u5b58\u5728\u5219\u8df3\u8fc7\njobDetail.RemoveProperty("key").RemoveProperty("key1");\n\n// \u6e05\u7a7a\u6240\u6709\u989d\u5916\u6570\u636e\njobDetail.ClearProperties();\n')),(0,i.kt)("admonition",{title:"\u4f5c\u4e1a\u989d\u5916\u6570\u636e\u7c7b\u578b\u652f\u6301",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u4f5c\u4e1a\u989d\u5916\u6570\u636e\u6bcf\u4e00\u9879\u7684\u503c\u53ea\u652f\u6301 ",(0,i.kt)("inlineCode",{parentName:"p"},"int32"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"string"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"bool"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"null")," \u6216\u5b83\u4eec\u7ec4\u6210\u7684\u6570\u7ec4\u7c7b\u578b\u3002")),(0,i.kt)("h3",{id:"26135-\u4f5c\u4e1a\u4fe1\u606f\u7279\u6027"},"26.1.3.5 \u4f5c\u4e1a\u4fe1\u606f\u7279\u6027"),(0,i.kt)("p",null,"\u4f5c\u4e1a\u4fe1\u606f\u7279\u6027 ",(0,i.kt)("inlineCode",{parentName:"p"},"[JobDetail]")," \u662f\u4e3a\u4e86\u65b9\u4fbf\u8fd0\u884c\u65f6\u6216\u542f\u52a8\u65f6\u5feb\u901f\u521b\u5efa\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668\u800c\u63d0\u4f9b\u7684\uff0c\u53ef\u5728\u542f\u52a8\u65f6\u6216\u8fd0\u884c\u65f6\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u521b\u5efa\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1}",showLineNumbers:!0,"{1}":!0},'[JobDetail("job1")]\n[PeriodSeconds(5, TriggerId = "trigger1")]\npublic class MyJob : IJob\n{\n}\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u624b\u52a8\u626b\u63cf\u5e76\u521b\u5efa\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var schedulerBuilder = typeof(MyJob).ScanToBuilder();\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7\u7a0b\u5e8f\u96c6\u7c7b\u578b\u626b\u63cf\u6279\u91cf\u521b\u5efa\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668"))),(0,i.kt)("p",null,"\u4e5f\u53ef\u4ee5\u7528\u4e8e\u4f5c\u4e1a\u6301\u4e45\u5316 ",(0,i.kt)("inlineCode",{parentName:"p"},"Preload")," \u521d\u59cb\u5316\u65f6\u4f7f\u7528\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,4-5,8}",showLineNumbers:!0,"{1,4-5,8}":!0},"public IEnumerable<SchedulerBuilder> Preload()\n{\n      // \u626b\u63cf\u6240\u6709\u7c7b\u578b\u5e76\u521b\u5efa\n      return App.EffectiveTypes.Where(t => t.IsJobType())\n                              .Select(t => t.ScanToBuilder());\n\n      // \u8fd8\u53ef\u4ee5\u66f4\u7b80\u5355~~\n      return App.EffectiveTypes.ScanToBuilders();\n}\n")),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u4f5c\u4e1a\u4fe1\u606f\u7279\u6027\u8fd8\u63d0\u4f9b\u4e86\u591a\u4e2a\u5c5e\u6027\u914d\u7f6e"),"\uff0c\u5982\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"JobId"),"\uff1a\u4f5c\u4e1a\u4fe1\u606f Id\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"string")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"GroupName"),"\uff1a\u4f5c\u4e1a\u7ec4\u540d\u79f0\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"string")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Description"),"\uff1a\u63cf\u8ff0\u4fe1\u606f\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"string")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Concurrent"),"\uff1a\u662f\u5426\u91c7\u7528\u5e76\u884c\u6267\u884c\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"bool")," \u7c7b\u578b\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3a ",(0,i.kt)("inlineCode",{parentName:"li"},"false"),"\uff0c\u90a3\u4e48\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"li"},"\u4e32\u884c")," \u6267\u884c")),(0,i.kt)("p",null,"\u4f7f\u7528\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1}",showLineNumbers:!0,"{1}":!0},'[JobDetail("jobId", Concurrent = false, Description = "\u8fd9\u662f\u4e00\u6bb5\u63cf\u8ff0")]\npublic class MyJob : IJob\n{\n')),(0,i.kt)("h3",{id:"26136-\u591a\u79cd\u683c\u5f0f\u5b57\u7b26\u4e32\u8f93\u51fa"},"26.1.3.6 \u591a\u79cd\u683c\u5f0f\u5b57\u7b26\u4e32\u8f93\u51fa"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"JobDetail")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"JobBuilder")," \u90fd\u63d0\u4f9b\u4e86\u591a\u79cd\u5c06\u81ea\u8eab\u8f6c\u6362\u6210\u7279\u5b9a\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u3002"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"strong"},"JSON")," \u5b57\u7b26\u4e32"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var json = jobDetail.ConvertToJSON();\n")),(0,i.kt)("p",null,"\u5b57\u7b26\u4e32\u6253\u5370\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:"showLineNumbers",showLineNumbers:!0},'{\n  "jobId": "job1",\n  "groupName": null,\n  "jobType": "Furion.Application.MyJob",\n  "assemblyName": "Furion.Application",\n  "description": null,\n  "concurrent": true,\n  "includeAnnotations": false,\n  "properties": "{}",\n  "updatedTime": "2022-11-18T22:56:47.4149299+08:00"\n}\n')),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"strong"},"SQL")," \u5b57\u7b26\u4e32"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,6,9,13,16,20}",showLineNumbers:!0,"{2,6,9,13,16,20}":!0},'// \u8f93\u51fa\u65b0\u589e SQL\uff0c\u4f7f\u7528 CamelCase \u5c5e\u6027\u547d\u540d\nvar insertSql = jobDetail.ConvertToSQL("tbName"\n      , PersistenceBehavior.Appended\n      , NamingConventions.CamelCase);\n// \u66f4\u4fbf\u6377\u62d3\u5c55\nvar insertSql = jobDetail.ConvertToInsertSQL("tbName", NamingConventions.CamelCase);\n\n// \u8f93\u51fa\u5220\u9664 SQL\uff0c\u4f7f\u7528 Pascal \u5c5e\u6027\u547d\u540d\nvar deleteSql = jobDetail.ConvertToSQL("tbName"\n      , PersistenceBehavior.Removed\n      , NamingConventions.Pascal);\n// \u66f4\u4fbf\u6377\u62d3\u5c55\nvar deleteSql = jobDetail.ConvertToDeleteSQL("tbName", NamingConventions.Pascal);\n\n// \u8f93\u51fa\u66f4\u65b0 SQL\uff0c\u4f7f\u7528 UnderScoreCase \u5c5e\u6027\u547d\u540d\nvar updateSql = jobDetail.ConvertToSQL("tbName"\n      , PersistenceBehavior.Updated\n      , NamingConventions.UnderScoreCase);\n// \u66f4\u4fbf\u6377\u62d3\u5c55\nvar updateSql = jobDetail.ConvertToUpdateSQL("tbName", NamingConventions.UnderScoreCase);\n')),(0,i.kt)("p",null,"\u5b57\u7b26\u4e32\u6253\u5370\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:"showLineNumbers {2,26,30}",showLineNumbers:!0,"{2,26,30}":!0},"-- \u65b0\u589e\u8bed\u53e5\nINSERT INTO tbName(\n      [jobId],\n      [groupName],\n      [jobType],\n      [assemblyName],\n      [description],\n      [concurrent],\n      [includeAnnotations],\n      [properties],\n      [updatedTime]\n)\nVALUES(\n      'job1',\n      NULL,\n      'ConsoleApp13.MyJob',\n      'ConsoleApp13',\n      NULL,\n      1,\n      0,\n      '{}',\n      '2022/11/18 23:16:18'\n);\n\n-- \u5220\u9664\u8bed\u53e5\nDELETE FROM tbName\nWHERE [JobId] = 'job1';\n\n-- \u66f4\u65b0\u8bed\u53e5\nUPDATE tbName\nSET\n      [job_id] = 'job1',\n      [group_name] = NULL,\n      [job_type] = 'ConsoleApp13.MyJob',\n      [assembly_name] = 'ConsoleApp13',\n      [description] = NULL,\n      [concurrent] = 1,\n      [include_annotations] = 0,\n      [properties] = '{}',\n      [updated_time] = '2022/11/18 23:16:18'\nWHERE [job_id] = 'job1';\n")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Monitor")," \u5b57\u7b26\u4e32"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var monitor = jobDetail.ConvertToMonitor();\n")),(0,i.kt)("p",null,"\u5b57\u7b26\u4e32\u6253\u5370\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers",showLineNumbers:!0},"\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  JobDetail \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\u2523 ConsoleApp13.MyJob\n\u2523\n\u2523 jobId\uff1a                     job1\n\u2523 groupName\uff1a\n\u2523 jobType\uff1a                   Furion.Application.MyJob\n\u2523 assemblyName\uff1a              Furion.Application\n\u2523 description\uff1a\n\u2523 concurrent\uff1a                True\n\u2523 includeAnnotations\uff1a        False\n\u2523 properties\uff1a                {}\n\u2523 updatedTime\uff1a               2022/11/18 23:26:47\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  JobDetail \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n")),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u7b80\u8981\u5b57\u7b26\u4e32\u8f93\u51fa"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var str = jobDetail.ToString();\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers",showLineNumbers:!0},"<job1> \u8fd9\u662f\u4e00\u6bb5\u63cf\u8ff0\n")),(0,i.kt)("h3",{id:"26137-\u81ea\u5b9a\u4e49-sql-\u8f93\u51fa\u914d\u7f6e"},"26.1.3.7 \u81ea\u5b9a\u4e49 ",(0,i.kt)("inlineCode",{parentName:"h3"},"SQL")," \u8f93\u51fa\u914d\u7f6e"),(0,i.kt)("admonition",{title:"\u7248\u672c\u8bf4\u660e",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u4ee5\u4e0b\u5185\u5bb9\u4ec5\u9650 ",(0,i.kt)("inlineCode",{parentName:"p"},"Furion 4.8.2 +")," \u7248\u672c\u4f7f\u7528\u3002")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,3,8,13,18}",showLineNumbers:!0,"{1,3,8,13,18}":!0},"services.AddSchedule(options =>\n{\n    options.JobDetail.ConvertToSQL = (tableName, columnNames, jobDetail, behavior, naming) =>\n    {\n      // \u751f\u6210\u65b0\u589e SQL\n      if (behavior == PersistenceBehavior.Appended)\n      {\n            return jobDetail.ConvertToInsertSQL(tableName, naming);\n      }\n      // \u751f\u6210\u66f4\u65b0 SQL\n      else if (behavior == PersistenceBehavior.Updated)\n      {\n            return jobDetail.ConvertToUpdateSQL(tableName, naming);\n      }\n      // \u751f\u6210\u5220\u9664 SQL\n      else if (behavior == PersistenceBehavior.Removed)\n      {\n            return jobDetail.ConvertToDeleteSQL(tableName, naming);\n      }\n\n      return string.Empty;\n    };\n});\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ConvertToSQL")," \u59d4\u6258\u53c2\u6570\u8bf4\u660e",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"tableName"),"\uff1a\u6570\u636e\u5e93\u8868\u540d\u79f0\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"string")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"columnNames"),"\uff1a\u6570\u636e\u5e93\u5217\u540d\uff1a",(0,i.kt)("inlineCode",{parentName:"li"},"string[]")," \u7c7b\u578b\uff0c\u53ea\u80fd\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"li"},"\u7d22\u5f15")," \u83b7\u53d6"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"jobDetail"),"\uff1a\u4f5c\u4e1a\u4fe1\u606f ",(0,i.kt)("inlineCode",{parentName:"li"},"JobDetail")," \u5bf9\u8c61"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"behavior"),"\uff1a\u6301\u4e45\u5316 ",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceBehavior")," \u7c7b\u578b\uff0c\u7528\u4e8e\u6807\u8bb0\u65b0\u589e\uff0c\u66f4\u65b0\u8fd8\u662f\u5220\u9664\u64cd\u4f5c"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"naming"),"\uff1a\u547d\u540d\u6cd5 ",(0,i.kt)("inlineCode",{parentName:"li"},"NamingConventions")," \u7c7b\u578b\uff0c\u5305\u542b ",(0,i.kt)("inlineCode",{parentName:"li"},"CamelCase\uff08\u9a7c\u5cf0\u547d\u540d\u6cd5\uff09"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"Pascal\uff08\u5e15\u65af\u5361\u547d\u540d\u6cd5\uff09")," \u548c ",(0,i.kt)("inlineCode",{parentName:"li"},"UnderScoreCase\uff08\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5\uff09"))))),(0,i.kt)("admonition",{title:"\u6ce8\u610f\u4e8b\u9879",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u5982\u679c\u5728\u8be5\u59d4\u6258\u65b9\u6cd5\u4e2d\u8c03\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"jobDetail.ConvertToSQL(..)")," \u65b9\u6cd5\u4f1a\u5bfc\u81f4\u6b7b\u5faa\u73af\u3002")),(0,i.kt)("h2",{id:"2614-\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f-ijob"},"26.1.4 \u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f ",(0,i.kt)("inlineCode",{parentName:"h2"},"IJob")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\u662f\u4f5c\u4e1a\u5177\u4f53\u6267\u884c\u7684\u4e1a\u52a1\u903b\u8f91\u4ee3\u7801\uff0c\u901a\u5e38\u7531\u7a0b\u5e8f\u5458\u7f16\u5199\uff0c\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\u5fc5\u987b\u5b9e\u73b0 ",(0,i.kt)("inlineCode",{parentName:"p"},"IJob")," \u63a5\u53e3\u3002"),(0,i.kt)("h3",{id:"26141-\u5982\u4f55\u5b9a\u4e49"},"26.1.4.1 \u5982\u4f55\u5b9a\u4e49"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,3,5}",showLineNumbers:!0,"{1,3,5}":!0},"public class MyJob : IJob\n{\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        // your code...\n    }\n}\n")),(0,i.kt)("h3",{id:"26142-\u4f9d\u8d56\u6ce8\u5165"},"26.1.4.2 \u4f9d\u8d56\u6ce8\u5165"),(0,i.kt)("p",null,"\u5b9e\u73b0 ",(0,i.kt)("inlineCode",{parentName:"p"},"IJob")," \u7684\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\u7c7b\u578b\u9ed8\u8ba4\u6ce8\u518c\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"\u5355\u4f8b"),"\uff0c",(0,i.kt)("strong",{parentName:"p"},"\u90a3\u4e48\u53ea\u8981\u662f\u5355\u4f8b\u7684\u670d\u52a1\uff0c\u7686\u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u51fd\u6570\u6ce8\u5165"),"\uff0c\u5982\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"ILogger<>"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"IConfiguration"),"\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3-4,6-7}",showLineNumbers:!0,"{3-4,6-7}":!0},'public class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    private readonly IConfiguration _configuration;\n\n    public MyJob(ILogger<MyJob> logger\n        , IConfiguration configuration)\n    {\n        _logger = logger;\n        _configuration = configuration;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        _logger.LogInformation($"{context.JobId} {context.TriggerId} {context.OccurrenceTime} {context.Trigger} {count}");\n\n        await Task.CompletedTask;\n    }\n}\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u5982\u679c\u662f\u975e\u5355\u4f8b\u7684\u63a5\u53e3\uff0c\u5982\u77ac\u65f6\u6216\u8303\u56f4\u670d\u52a1\uff0c\u53ef\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"IServiceProvder")," \u521b\u5efa"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {5,9,18-19}",showLineNumbers:!0,"{5,9,18-19}":!0},'public class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    private readonly IConfiguration _configuration;\n    private readonly IServiceProvider _serviceProvider;\n\n    public MyJob(ILogger<MyJob> logger\n        , IConfiguration configuration\n        , IServiceProvider serviceProvider)\n    {\n        _logger = logger;\n        _configuration = configuration;\n        _serviceProvider = serviceProvider;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        using var serviceScope = _serviceProvider.CreateScope();\n        var repository = serviceScope.ServiceProvider.GetService<IRepository<User>>();\n\n        _logger.LogInformation($"{context.JobId} {context.TriggerId} {context.OccurrenceTime} {context.Trigger}");\n\n        await Task.CompletedTask;\n    }\n}\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u9488\u5bf9\u9ad8\u9891\u5b9a\u65f6\u4efb\u52a1\uff0c\u6bd4\u5982\u6bcf\u79d2\u6267\u884c\u4e00\u6b21\uff0c\u6216\u8005\u66f4\u9891\u7e41\u7684\u4efb\u52a1"))),(0,i.kt)("p",null,"\u4e3a\u4e86\u907f\u514d\u9891\u7e41\u521b\u5efa\u4f5c\u7528\u57df\u548c\u9500\u6bc1\u4f5c\u7528\u57df\uff0c\u53ef\u521b\u5efa\u957f\u8303\u56f4\u7684\u4f5c\u7528\u57df\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,5,13,18,25,27}",showLineNumbers:!0,"{1,5,13,18,25,27}":!0},'public class MyJob : IJob, IDisposable\n{\n    private readonly ILogger<MyJob> _logger;\n    private readonly IConfiguration _configuration;\n    private readonly IServiceScope _serviceScope;\n\n    public MyJob(ILogger<MyJob> logger\n        , IConfiguration configuration\n        , IServiceProvider serviceProvider)\n    {\n        _logger = logger;\n        _configuration = configuration;\n        _serviceScope = serviceProvider.CreateScope();\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        var repository = _serviceScope.ServiceProvider.GetService<IRepository<User>>();\n\n        _logger.LogInformation($"{context.JobId} {context.TriggerId} {context.OccurrenceTime} {context.Trigger}");\n\n        await Task.CompletedTask;\n    }\n\n    public void Dispose()\n    {\n        _serviceScope?.Dispose();\n    }\n}\n')),(0,i.kt)("h3",{id:"26143-jobexecutingcontext-\u4e0a\u4e0b\u6587"},"26.1.4.3 ",(0,i.kt)("inlineCode",{parentName:"h3"},"JobExecutingContext")," \u4e0a\u4e0b\u6587"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"JobExecutingContext")," \u4e0a\u4e0b\u6587\u4f5c\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"ExecuteAsync")," \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u8fd0\u884c\u65f6\u4fe1\u606f\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"JobExecutingContext")," \u5c5e\u6027\u5217\u8868"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"JobId"),"\uff1a\u4f5c\u4e1a ",(0,i.kt)("inlineCode",{parentName:"li"},"Id")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"TriggerId"),"\uff1a\u5f53\u524d\u89e6\u53d1\u5668 ",(0,i.kt)("inlineCode",{parentName:"li"},"Id")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"JobDetail"),"\uff1a\u4f5c\u4e1a\u4fe1\u606f"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Trigger"),"\uff1a\u4f5c\u4e1a\u89e6\u53d1\u5668"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"OccurrenceTime"),"\uff1a\u8c03\u5ea6\u5668\u68c0\u67e5\u65f6\u95f4\uff0c\u6700\u51c6\u786e\u7684\u8bb0\u5f55\u65f6\u95f4"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ExecutingTime"),"\uff1a\u5b9e\u9645\u6267\u884c\u65f6\u95f4\uff08\u53ef\u80fd\u5b58\u5728\u8bef\u5dee\uff09"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"JobExecutingContext")," \u65b9\u6cd5\u5217\u8868"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},".ConvertToJSON(naming)"),"\uff1a\u5c06\u4f5c\u4e1a\u8ba1\u5212\u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"li"},"JSON")," \u5b57\u7b26\u4e32"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},".ToString()"),"\uff1a\u8f93\u51fa\u4e3a\u5b57\u7b26\u4e32")))),(0,i.kt)("h3",{id:"26144-\u4f5c\u4e1a\u88ab\u53d6\u6d88\u5904\u7406"},"26.1.4.4 \u4f5c\u4e1a\u88ab\u53d6\u6d88\u5904\u7406"),(0,i.kt)("p",null,"\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u4f5c\u4e1a\u88ab\u4e34\u65f6\u6682\u505c\u6216\u53d6\u6d88\uff0c\u4f46\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\u8fd8\u672a\u5904\u7406\u5b8c\u6210\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u53d6\u6d88\u8fd8\u662f\u7ee7\u7eed\u6267\u884c\uff0c\u5982\u679c\u9009\u62e9\u540c\u6b65\u53d6\u6d88\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,13,18}",showLineNumbers:!0,"{1,13,18}":!0},'public class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n       // \u521b\u5efa\u4efb\u52a1\u5173\u8054\u53d6\u6d88 Token\n        using var cancellationTokenSource = CancellationTokenSource.CreateLinkedTokenSource(stoppingToken);\n\n        try\n        {\n            // \u4f20\u9012\u7ed9\u5f02\u6b65\u670d\u52a1\n            await todo.SomeMethodAsync(cancellationTokenSource.Token);\n        }\n        catch (Exception ex)\n        {\n            // ...\n        }\n\n        _logger.LogInformation($"{context.JobId} {context.TriggerId} {context.OccurrenceTime} {context.Trigger}");\n    }\n}\n')),(0,i.kt)("p",null,"\u8fd9\u6837\u5f53\u4f5c\u4e1a\u88ab\u53d6\u6d88\u65f6\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"SomeMethodAsync")," \u4e5f\u4f1a\u540c\u6b65\u53d6\u6d88\u3002"),(0,i.kt)("h3",{id:"26145-\u4f7f\u7528-roslynnatasha-\u52a8\u6001\u521b\u5efa"},"26.1.4.5 \u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"h3"},"Roslyn/Natasha")," \u52a8\u6001\u521b\u5efa"),(0,i.kt)("p",null,"\u6309\u7167\u7a0b\u5e8f\u5f00\u53d1\u7684\u6b63\u5e38\u601d\u7ef4\uff0c\u7406\u5e94\u5148\u5728\u4ee3\u7801\u4e2d\u521b\u5efa\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\u7c7b\u578b\uff0c\u4f46\u6211\u4eec\u53ef\u4ee5\u501f\u52a9 ",(0,i.kt)("inlineCode",{parentName:"p"},"Roslyn")," \u52a8\u6001\u7f16\u8bd1 ",(0,i.kt)("inlineCode",{parentName:"p"},"C#")," \u4ee3\u7801\u3002"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u7f16\u8f91\u542f\u52a8\u9879\u76ee ",(0,i.kt)("inlineCode",{parentName:"strong"},".csproj")," \u6587\u4ef6\uff0c\u6dfb\u52a0 ",(0,i.kt)("inlineCode",{parentName:"strong"},"<PreserveCompilationContext>true</PreserveCompilationContext>")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml",metastring:"showLineNumbers {3}",showLineNumbers:!0,"{3}":!0},"<PropertyGroup>\n      <TargetFramework>net7.0</TargetFramework>\n      <PreserveCompilationContext>true</PreserveCompilationContext>\n</PropertyGroup>\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u5b89\u88c5 ",(0,i.kt)("inlineCode",{parentName:"strong"},"DotNetCore.Natasha.CSharp")," \u62d3\u5c55\u5305"))),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/dotnetcore/Natasha"},"DotNetCore.Natasha.CSharp")," \u662f\u56fd\u4eba\u57fa\u4e8e ",(0,i.kt)("inlineCode",{parentName:"p"},"Roslyn")," \u5f00\u53d1\u7684\u975e\u5e38\u5f3a\u5927\u7684\u52a8\u6001\u7f16\u8bd1 ",(0,i.kt)("inlineCode",{parentName:"p"},"C#")," \u5e93\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers",showLineNumbers:!0},"dotnet add package DotNetCore.Natasha.CSharp\n")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u6839\u636e\u5b57\u7b26\u4e32\u521b\u5efa ",(0,i.kt)("inlineCode",{parentName:"strong"},"IJob")," \u7c7b\u578b"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,4,9-31,35}",showLineNumbers:!0,"{2,4,9-31,35}":!0},'// \u521d\u59cb\u5316\nNatashaInitializer.Preheating();\n// \u521b\u5efa\u7a0b\u5e8f\u96c6\uff08\u53ef\u81ea\u5b9a\u4e49\u7f16\u5199\u7a0b\u5e8f\u96c6\u540d\u79f0\uff09\nvar oop = new AssemblyCSharpBuilder("JobAssembly");\noop.Domain = DomainManagement.Random();\n\n// \u6dfb\u52a0\u4ee3\u7801\noop.Add(@"\nusing Furion.Schedule;\nusing Microsoft.Extensions.Logging;\nusing System;\nusing System.Threading;\nusing System.Threading.Tasks;\n\nnamespace YourProject;\n\npublic class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        _logger.LogInformation($""{context.JobDetail} {context.Trigger} {context.OccurrenceTime} {context.JobDetail.AssemblyName} {context.JobDetail.JobType}"");\n        await Task.CompletedTask;\n    }\n}\n");\n\n// \u751f\u6210\u8fd0\u884c\u65f6 MyJob \u7c7b\u578b\nvar jobType = oop.GetTypeFromShortName("MyJob");\n')),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u6ce8\u518c\u4f5c\u4e1a"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {4,9}",showLineNumbers:!0,"{4,9}":!0},"// \u53ef\u4ee5\u5728\u542f\u52a8\u7684\u65f6\u5019\u6dfb\u52a0\nservices.AddSchedule(options =>\n{\n      options.AddJob(JobBuilder.Create(jobType)\n            , Triggers.PeriodSeconds(5));\n});\n\n// \u4e5f\u53ef\u4ee5\u5b8c\u5168\u5728\u8fd0\u884c\u65f6\u6dfb\u52a0\uff08\u5e38\u7528\uff09\n_schedulerFactory.AddJob(JobBuilder.Create(jobType)\n            , Triggers.PeriodSeconds(5));\n")),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {12,14,16,18}",showLineNumbers:!0,"{12,14,16,18}":!0},"info: 2022-11-25 13:45:49.0150463 +08:00 \u661f\u671f\u4e94 L System.Logging.ScheduleService[0] #1\n      Schedule Hosted Service is running.\ninfo: 2022-11-25 13:45:49.0208313 +08:00 \u661f\u671f\u4e94 L System.Logging.ScheduleService[0] #1\n      Schedule Hosted Service is preloading.\ninfo: 2022-11-25 13:45:49.0406977 +08:00 \u661f\u671f\u4e94 L System.Logging.ScheduleService[0] #1\n      The Scheduler of <job1> successfully added to the schedule.\nwarn: 2022-11-25 13:45:49.0803822 +08:00 \u661f\u671f\u4e94 L System.Logging.ScheduleService[0] #1\n      Schedule Hosted Service cancels hibernation and GC.Collect().\ninfo: 2022-11-25 13:45:49.0969060 +08:00 \u661f\u671f\u4e94 L System.Logging.ScheduleService[0] #1\n      Schedule Hosted Service preload completed, and a total of <1> schedulers are added.\ninfo: 2022-11-25 13:45:54.0695285 +08:00 \u661f\u671f\u4e94 L YourProject.MyJob[0] #13\n      <job1>  <job1 job1_trigger1>  5000ms 2022/11/25 13:45:54 JobAssembly YourProject.MyJob\ninfo: 2022-11-25 13:45:59.0700268 +08:00 \u661f\u671f\u4e94 L YourProject.MyJob[0] #12\n      <job1>  <job1 job1_trigger1>  5000ms 2022/11/25 13:45:59 JobAssembly YourProject.MyJob\ninfo: 2022-11-25 13:46:04.0854646 +08:00 \u661f\u671f\u4e94 L YourProject.MyJob[0] #11\n      <job1>  <job1 job1_trigger1>  5000ms 2022/11/25 13:46:04 JobAssembly YourProject.MyJob\ninfo: 2022-11-25 13:46:09.0924123 +08:00 \u661f\u671f\u4e94 L YourProject.MyJob[0] #9\n      <job1>  <job1 job1_trigger1>  5000ms 2022/11/25 13:46:09 JobAssembly YourProject.MyJob\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u60ca\u4e0d\u60ca\u559c\uff0c\u610f\u5916\u610f\u5916~"),"\u3002"),(0,i.kt)("admonition",{title:"\u5c0f\u77e5\u8bc6",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"Roslyn")," \u7684\u65b9\u5f0f\u652f\u6301\u521b\u5efa ",(0,i.kt)("inlineCode",{parentName:"p"},"IJob"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"JobDetail"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Trigger"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Scheduler")," \u54e6\uff0c\u81ea\u884c\u6d4b\u8bd5\u3002\ud83d\ude0a")),(0,i.kt)("h2",{id:"2615-\u4f5c\u4e1a\u89e6\u53d1\u5668-trigger-\u53ca\u6784\u5efa\u5668"},"26.1.5 \u4f5c\u4e1a\u89e6\u53d1\u5668 ",(0,i.kt)("inlineCode",{parentName:"h2"},"Trigger")," \u53ca\u6784\u5efa\u5668"),(0,i.kt)("h3",{id:"26151-\u5173\u4e8e\u4f5c\u4e1a\u89e6\u53d1\u5668"},"26.1.5.1 \u5173\u4e8e\u4f5c\u4e1a\u89e6\u53d1\u5668"),(0,i.kt)("p",null,"\u6846\u67b6\u63d0\u4f9b\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"Trigger")," \u7c7b\u578b\u6765\u63cf\u8ff0\u4f5c\u4e1a\u5177\u4f53\u7684\u89e6\u53d1\u65f6\u95f4\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Trigger")," \u7c7b\u578b\u63d0\u4f9b\u4ee5\u4e0b",(0,i.kt)("strong",{parentName:"p"},"\u53ea\u8bfb\u5c5e\u6027"),"\uff1a"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027\u540d"),(0,i.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027\u7c7b\u578b"),(0,i.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,i.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"TriggerId")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a\u89e6\u53d1\u5668 ",(0,i.kt)("inlineCode",{parentName:"td"},"Id"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"JobId")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a ",(0,i.kt)("inlineCode",{parentName:"td"},"Id"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"TriggerType")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a\u89e6\u53d1\u5668\u7c7b\u578b\uff0c\u5b58\u50a8\u7684\u662f\u7c7b\u578b\u7684 ",(0,i.kt)("inlineCode",{parentName:"td"},"FullName"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"AssemblyName")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a\u89e6\u53d1\u5668\u7c7b\u578b\u6240\u5728\u7a0b\u5e8f\u96c6\uff0c\u5b58\u50a8\u7684\u662f\u7a0b\u5e8f\u96c6 ",(0,i.kt)("inlineCode",{parentName:"td"},"Name"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Args")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a\u89e6\u53d1\u5668\u53c2\u6570\uff0c\u8fd0\u884c\u65f6\u5c06\u53cd\u5e8f\u5217\u5316\u4e3a ",(0,i.kt)("inlineCode",{parentName:"td"},"object[]")," \u7c7b\u578b\u5e76\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u53c2\u6570")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Description")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u63cf\u8ff0\u4fe1\u606f")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Status")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"TriggerStatus")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Ready")),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a\u89e6\u53d1\u5668\u72b6\u6001")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"StartTime")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"DateTime?")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u8d77\u59cb\u65f6\u95f4")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"EndTime")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"DateTime?")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u7ed3\u675f\u65f6\u95f4")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"LastRunTime")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"DateTime?")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u6700\u8fd1\u8fd0\u884c\u65f6\u95f4")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"NextRunTime")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"DateTime?")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u4e0b\u4e00\u6b21\u8fd0\u884c\u65f6\u95f4")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"NumberOfRuns")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"long")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"0")),(0,i.kt)("td",{parentName:"tr",align:null},"\u89e6\u53d1\u6b21\u6570")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"MaxNumberOfRuns")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"long")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"0")),(0,i.kt)("td",{parentName:"tr",align:null},"\u6700\u5927\u89e6\u53d1\u6b21\u6570\uff0c",(0,i.kt)("inlineCode",{parentName:"td"},"0"),"\uff1a\u4e0d\u9650\u5236\uff0c",(0,i.kt)("inlineCode",{parentName:"td"},"n"),"\uff1aN \u6b21")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"NumberOfErrors")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"long")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"0")),(0,i.kt)("td",{parentName:"tr",align:null},"\u51fa\u9519\u6b21\u6570")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"MaxNumberOfErrors")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"long")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"0")),(0,i.kt)("td",{parentName:"tr",align:null},"\u6700\u5927\u51fa\u9519\u6b21\u6570\uff0c",(0,i.kt)("inlineCode",{parentName:"td"},"0"),"\uff1a\u4e0d\u9650\u5236\uff0c",(0,i.kt)("inlineCode",{parentName:"td"},"n"),"\uff1aN \u6b21")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"NumRetries")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"int")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"0")),(0,i.kt)("td",{parentName:"tr",align:null},"\u91cd\u8bd5\u6b21\u6570")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"RetryTimeout")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"int")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"1000")),(0,i.kt)("td",{parentName:"tr",align:null},"\u91cd\u8bd5\u95f4\u9694\u65f6\u95f4\uff0c\u6beb\u79d2\u5355\u4f4d")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"StartNow")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"bool")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")),(0,i.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u7acb\u5373\u542f\u52a8")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"RunOnStart")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"bool")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u542f\u52a8\u65f6\u6267\u884c\u4e00\u6b21")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"ResetOnlyOnce")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"bool")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")),(0,i.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u5728\u542f\u52a8\u65f6\u91cd\u7f6e\u6700\u5927\u89e6\u53d1\u6b21\u6570\u7b49\u4e8e\u4e00\u6b21\u7684\u4f5c\u4e1a")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"UpdatedTime")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"DateTime?")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u4e1a\u89e6\u53d1\u5668\u66f4\u65b0\u65f6\u95f4")))),(0,i.kt)("h3",{id:"26152-\u4f5c\u4e1a\u89e6\u53d1\u5668\u72b6\u6001"},"26.1.5.2 \u4f5c\u4e1a\u89e6\u53d1\u5668\u72b6\u6001"),(0,i.kt)("p",null,"\u4f5c\u4e1a\u89e6\u53d1\u5668\u72b6\u6001\u6307\u793a\u4e86\u5f53\u524d\u4f5c\u4e1a\u89e6\u53d1\u5668\u7684\u72b6\u6001\uff0c\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"TriggerStatus")," \u679a\u4e3e\u7c7b\u578b\uff08",(0,i.kt)("inlineCode",{parentName:"p"},"uint"),"\uff09\uff0c\u8be5\u7c7b\u578b\u5305\u542b\u4ee5\u4e0b\u679a\u4e3e\u6210\u5458\u3002"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"\u679a\u4e3e\u540d"),(0,i.kt)("th",{parentName:"tr",align:null},"\u679a\u4e3e\u503c"),(0,i.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Backlog")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"0")),(0,i.kt)("td",{parentName:"tr",align:null},"\u79ef\u538b\uff0c\u8d77\u59cb\u65f6\u95f4\u5927\u4e8e\u5f53\u524d\u65f6\u95f4")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Ready")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"1")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5c31\u7eea")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Running")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"2")),(0,i.kt)("td",{parentName:"tr",align:null},"\u6b63\u5728\u8fd0\u884c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Pause")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"3")),(0,i.kt)("td",{parentName:"tr",align:null},"\u6682\u505c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Blocked")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"4")),(0,i.kt)("td",{parentName:"tr",align:null},"\u963b\u585e\uff0c\u672c\u8be5\u6267\u884c\u4f46\u662f\u6ca1\u6709\u6267\u884c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"ErrorToReady")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"5")),(0,i.kt)("td",{parentName:"tr",align:null},"\u7531\u5931\u8d25\u8fdb\u5165\u5c31\u7eea\uff0c\u8fd0\u884c\u9519\u8bef\u5f53\u5e76\u672a\u8d85\u51fa\u6700\u5927\u9519\u8bef\u6570\uff0c\u8fdb\u5165\u4e0b\u4e00\u8f6e\u5c31\u7eea")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Archived")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"6")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5f52\u6863\uff0c\u7ed3\u675f\u65f6\u95f4\u5c0f\u4e8e\u5f53\u524d\u65f6\u95f4")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Panic")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"7")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5d29\u6e83\uff0c\u9519\u8bef\u6b21\u6570\u8d85\u51fa\u4e86\u6700\u5927\u9519\u8bef\u6570")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Overrun")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"8")),(0,i.kt)("td",{parentName:"tr",align:null},"\u8d85\u9650\uff0c\u8fd0\u884c\u6b21\u6570\u8d85\u51fa\u4e86\u6700\u5927\u9650\u5236")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Unoccupied")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"9")),(0,i.kt)("td",{parentName:"tr",align:null},"\u65e0\u89e6\u53d1\u65f6\u95f4\uff0c\u4e0b\u4e00\u6b21\u6267\u884c\u65f6\u95f4\u4e3a ",(0,i.kt)("inlineCode",{parentName:"td"},"null"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"NotStart")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"10")),(0,i.kt)("td",{parentName:"tr",align:null},"\u672a\u542f\u52a8")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Unknown")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"11")),(0,i.kt)("td",{parentName:"tr",align:null},"\u672a\u77e5\u4f5c\u4e1a\u89e6\u53d1\u5668\uff0c\u4f5c\u4e1a\u89e6\u53d1\u5668\u8fd0\u884c\u65f6\u7c7b\u578b\u4e3a ",(0,i.kt)("inlineCode",{parentName:"td"},"null"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Unhandled")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"12")),(0,i.kt)("td",{parentName:"tr",align:null},"\u672a\u77e5\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\uff0c\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\u7c7b\u578b\u8fd0\u884c\u65f6\u7c7b\u578b\u4e3a ",(0,i.kt)("inlineCode",{parentName:"td"},"null"))))),(0,i.kt)("h3",{id:"26153-\u5173\u4e8e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668"},"26.1.5.3 \u5173\u4e8e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668"),(0,i.kt)("p",null,"\u4f5c\u4e1a\u89e6\u53d1\u5668 ",(0,i.kt)("inlineCode",{parentName:"p"},"Trigger")," \u662f\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u63d0\u4f9b\u8fd0\u884c\u65f6\u7684",(0,i.kt)("strong",{parentName:"p"},"\u53ea\u8bfb\u7c7b\u578b"),"\uff0c\u90a3\u4e48\u6211\u4eec\u8be5\u5982\u4f55\u521b\u5efa\u6216\u53d8\u66f4 ",(0,i.kt)("inlineCode",{parentName:"p"},"Trigger")," \u5bf9\u8c61\u5462\uff1f"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"TriggerBuilder")," \u662f\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u63d0\u4f9b\u53ef\u7528\u6765\u751f\u6210\u8fd0\u884c\u65f6 ",(0,i.kt)("inlineCode",{parentName:"p"},"Trigger")," \u7684\u7c7b\u578b\uff0c\u8fd9\u6837\u505a\u7684\u597d\u5904\u53ef\u907f\u514d\u5916\u90e8\u76f4\u63a5\u4fee\u6539\u8fd0\u884c\u65f6 ",(0,i.kt)("inlineCode",{parentName:"p"},"Trigger")," \u6570\u636e\uff0c\u8fd8\u80fd\u5b9e\u73b0\u4efb\u4f55\u4fee\u6539\u52a8\u4f5c\u76d1\u542c\uff0c\u4e5f\u80fd\u907f\u514d\u591a\u7ebf\u7a0b\u62a2\u5360\u60c5\u51b5\u3002"),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u63d0\u4f9b\u4e86\u591a\u79cd\u65b9\u5f0f\u7528\u6765\u521b\u5efa ",(0,i.kt)("inlineCode",{parentName:"p"},"TriggerBuilder")," \u5bf9\u8c61\u3002"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Create")," \u9759\u6001\u65b9\u6cd5\u521b\u5efa"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5,8}",showLineNumbers:!0,"{2,5,8}":!0},'// \u6839\u636e Trigger \u6d3e\u751f\u7c7b\u7c7b\u578b\u521b\u5efa\nvar triggerBuilder = TriggerBuilder.Create<PeriodTrigger>();\n\n// \u6839\u636e Type \u7c7b\u578b\u521b\u5efa\nvar triggerBuilder = TriggerBuilder.Create(typeof(PeriodTrigger));\n\n// \u6839\u636e\u7a0b\u5e8f\u96c6\u540d\u79f0\u548c\u7c7b\u578b\u5b8c\u5168\u9650\u5b9a\u540d\uff08FullName\uff09\u521b\u5efa\nvar triggerBuilder = TriggerBuilder.Create("Furion", "Furion.Schedule.PeriodTrigger");\n')),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Trigger")," \u7c7b\u578b\u521b\u5efa"))),(0,i.kt)("p",null,"\u8fd9\u79cd\u65b9\u5f0f\u5e38\u7528\u4e8e\u5728\u8fd0\u884c\u65f6\u66f4\u65b0\u4f5c\u4e1a\u89e6\u53d1\u5668\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var triggerBuilder = TriggerBuilder.From(trigger);\n\n//\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\nvar triggerBuilder = trigger.GetBuilder();\n")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"JSON")," \u5b57\u7b26\u4e32\u521b\u5efa"))),(0,i.kt)("p",null,"\u8be5\u65b9\u5f0f\u975e\u5e38\u7075\u6d3b\uff0c\u53ef\u4ece\u914d\u7f6e\u6587\u4ef6\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"JSON")," \u5b57\u7b26\u4e32\uff0c\u6216\u5176\u4ed6\u80fd\u591f\u8fd4\u56de ",(0,i.kt)("inlineCode",{parentName:"p"},"JSON")," \u5b57\u7b26\u4e32\u7684\u5730\u65b9\u521b\u5efa\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2-24}",showLineNumbers:!0,"{2-24}":!0},'var triggerBuilder = TriggerBuilder.From(@"\n{\n    ""triggerId"": ""job1_trigger1"",\n    ""triggerType"": ""Furion.Schedule.PeriodSecondsTrigger"",\n    ""assemblyName"": ""Furion"",\n    ""args"": ""[5]"",\n    ""description"": null,\n    ""status"": 2,\n    ""startTime"": null,\n    ""endTime"": null,\n    ""lastRunTime"": ""2022-11-20T18:31:56.6859410+08:00"",\n    ""nextRunTime"": ""2022-11-20T18:32:01.7233546+08:00"",\n    ""numberOfRuns"": 1,\n    ""maxNumberOfRuns"": 0,\n    ""numberOfErrors"": 0,\n    ""maxNumberOfErrors"": 0,\n    ""numRetries"": 0,\n    ""retryTimeout"": 1000,\n    ""startNow"": true,\n    ""runOnStart"": false,\n    ""resetOnlyOnce"": true,\n    ""updatedTime"": ""2022-11-20T18:31:56.7233630+08:00""\n}");\n')),(0,i.kt)("p",null,"\u5982\u679c\u4f7f\u7528\u7684\u662f ",(0,i.kt)("inlineCode",{parentName:"p"},".NET7"),"\uff0c\u53ef\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},'"""')," \u907f\u514d\u8f6c\u4e49\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2-24}",showLineNumbers:!0,"{2-24}":!0},'var triggerBuilder = TriggerBuilder.From("""\n{\n    "triggerId": "job1_trigger1",\n    "triggerType": "Furion.Schedule.PeriodSecondsTrigger",\n    "assemblyName": "Furion",\n    "args": "[5]",\n    "description": null,\n    "status": 2,\n    "startTime": null,\n    "endTime": null,\n    "lastRunTime": "2022-11-20T18:31:56.6859410+08:00",\n    "nextRunTime": "2022-11-20T18:32:01.7233546+08:00",\n    "numberOfRuns": 1,\n    "maxNumberOfRuns": 0,\n    "numberOfErrors": 0,\n    "maxNumberOfErrors": 0,\n    "numRetries": 0,\n    "retryTimeout": 1000,\n    "startNow": true,\n    "runOnStart": false,\n    "resetOnlyOnce": true,\n    "updatedTime": "2022-11-20T18:31:56.7233630+08:00"\n}\n""");\n')),(0,i.kt)("admonition",{title:"\u5173\u4e8e\u5c5e\u6027\u540d\u5339\u914d\u89c4\u5219",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u652f\u6301 ",(0,i.kt)("inlineCode",{parentName:"p"},"CamelCase\uff08\u9a7c\u5cf0\u547d\u540d\u6cd5\uff09"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Pascal\uff08\u5e15\u65af\u5361\u547d\u540d\u6cd5\uff09")," \u547d\u540d\u65b9\u5f0f\u3002"),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"\u4e0d\u652f\u6301 ",(0,i.kt)("inlineCode",{parentName:"strong"},"UnderScoreCase\uff08\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5\uff09"))," \uff0c\u5982 ",(0,i.kt)("inlineCode",{parentName:"p"},'"include_annotations": true'))),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u8fd8\u53ef\u4ee5\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Clone")," \u9759\u6001\u65b9\u6cd5\u4ece\u4e00\u4e2a ",(0,i.kt)("inlineCode",{parentName:"strong"},"TriggerBuilder")," \u521b\u5efa"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var triggerBuilder = TriggerBuilder.Clone(fromTriggerBuilder);\n")),(0,i.kt)("admonition",{title:"\u514b\u9686\u8bf4\u660e",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u514b\u9686\u64cd\u4f5c\u53ea\u4f1a\u514b\u9686 ",(0,i.kt)("inlineCode",{parentName:"p"},"AssemblyName"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"TriggerType"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Args"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Description"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"StartTime"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"EndTime"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"MaxNumberOfRuns"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"MaxNumberOfErrors"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"NumRetries"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"RetryTimeout"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"StartNow"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"RunOnStart"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"ResetOnlyOnce"),"\u3002"),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"\u4e0d\u4f1a\u514b\u9686 ",(0,i.kt)("inlineCode",{parentName:"strong"},"TriggerId"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"strong"},"JobId"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"strong"},"Status"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"strong"},"LastRunTime"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"strong"},"NextRunTime"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"strong"},"NumberOfRuns"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"strong"},"NumberOfErrors"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"strong"},"UpdatedTime"),"\u3002"))),(0,i.kt)("ol",{start:5},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u8fd8\u53ef\u4ee5\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"LoadFrom")," \u5b9e\u4f8b\u65b9\u6cd5\u586b\u5145\u5f53\u524d\u7684 ",(0,i.kt)("inlineCode",{parentName:"strong"},"TriggerBuilder")))),(0,i.kt)("p",null,"\u6bd4\u5982\u53ef\u4ee5\u4f20\u9012\u533f\u540d\u7c7b\u578b\uff0c\u7c7b\u7c7b\u578b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,9,14}",showLineNumbers:!0,"{2,9,14}":!0},'// \u4f1a\u8986\u76d6\u6240\u6709\u76f8\u540c\u7684\u503c\ntriggerBuilder.LoadFrom(new\n{\n      Description = "\u6211\u662f\u63cf\u8ff0",\n      StartTime = DateTime.Now\n});\n\n// \u652f\u6301\u591a\u4e2a\u586b\u5145\uff0c\u8fd8\u53ef\u4ee5\u914d\u7f6e\u8df3\u8fc7 null \u503c\u8986\u76d6\ntriggerBuilder.LoadFrom(new\n{\n      Description = "\u6211\u662f\u53e6\u5916\u4e00\u4e2a\u63cf\u8ff0",\n      StartTime = DateTime.Now,\n      LastRunTime = default(DateTime?)      // \u4f1a\u8df3\u8fc7\u8d4b\u503c\n}, ignoreNullValue: true);\n')),(0,i.kt)("admonition",{title:"\u5173\u4e8e\u5c5e\u6027\u540d\u5339\u914d\u89c4\u5219",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u652f\u6301 ",(0,i.kt)("inlineCode",{parentName:"p"},"CamelCase\uff08\u9a7c\u5cf0\u547d\u540d\u6cd5\uff09"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Pascal\uff08\u5e15\u65af\u5361\u547d\u540d\u6cd5\uff09")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"UnderScoreCase\uff08\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5\uff09")," \u547d\u540d\u65b9\u5f0f\u3002")),(0,i.kt)("h3",{id:"26154-\u5185\u7f6e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668"},"26.1.5.4 \u5185\u7f6e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668"),(0,i.kt)("p",null,"\u4e3a\u4e86\u65b9\u4fbf\u5feb\u901f\u5b9e\u73b0\u4f5c\u4e1a\u89e6\u53d1\u5668\uff0c\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u5185\u7f6e\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"Period\uff08\u95f4\u9694\uff09")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"Cron\uff08\u8868\u8fbe\u5f0f\uff09")," \u4f5c\u4e1a\u89e6\u53d1\u5668\uff0c\u53ef\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"TriggerBuilder")," \u7c7b\u578b\u6216 ",(0,i.kt)("inlineCode",{parentName:"p"},"Triggers")," \u9759\u6001\u7c7b\u521b\u5efa\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"TriggerBuilder")," \u65b9\u5f0f"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-c",metastring:"showLineNumbers {2,5,8}",showLineNumbers:!0,"{2,5,8}":!0},'// \u521b\u5efa\u6beb\u79d2\u5468\u671f\uff08\u95f4\u9694\uff09\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = TriggerBuilder.Period(5000);\n\n// \u521b\u5efa\u79d2\u5468\u671f\uff08\u95f4\u9694\uff09\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = TriggerBuilder.PeriodSeconds(5);\n\n// \u521b\u5efa Cron \u8868\u8fbe\u5f0f\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = TriggerBuilder.Cron("* * * * *", CronStringFormat.Default);\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"Triggers")," \u65b9\u5f0f\uff0c\u63a8\u8350"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Triggers")," \u5177\u5907 ",(0,i.kt)("inlineCode",{parentName:"p"},"TriggerBuilder")," \u6240\u6709\u7684\u9759\u6001\u65b9\u6cd5\uff0c\u53e6\u5916\u8fd8\u6dfb\u52a0\u4e86\u4e0d\u5c11\u66f4\u52a0\u4fbf\u6377\u7684\u9759\u6001\u65b9\u6cd5\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1-22,24-67}",showLineNumbers:!0,"{1-22,24-67}":!0},'// \u521b\u5efa\u6beb\u79d2\u5468\u671f\uff08\u95f4\u9694\uff09\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = Triggers.Period(5000);\n// \u521b\u5efa\u79d2\u5468\u671f\uff08\u95f4\u9694\uff09\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = Triggers.PeriodSeconds(5);\n// \u521b\u5efa Cron \u8868\u8fbe\u5f0f\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = Triggers.Cron("* * * * *", CronStringFormat.Default);\n// \u521b\u5efa\u6bcf\u79d2\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = Triggers.Secondly();\n// \u521b\u5efa\u6bcf\u5206\u949f\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = Triggers.Minutely();\n// \u521b\u5efa\u6bcf\u5c0f\u65f6\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = Triggers.Hourly();\n// \u521b\u5efa\u6bcf\u5929\uff08\u5348\u591c\uff09\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = Triggers.Daily();\n// \u521b\u5efa\u6bcf\u67081\u53f7\uff08\u5348\u591c\uff09\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = Triggers.Monthly();\n// \u521b\u5efa\u6bcf\u5468\u65e5\uff08\u5348\u591c\uff09\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = Triggers.Weekly();\n// \u521b\u5efa\u6bcf\u5e741\u67081\u53f7\uff08\u5348\u591c\uff09\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = Triggers.Yearly();\n// \u521b\u5efa\u6bcf\u5468\u4e00\u81f3\u5468\u4e94\uff08\u5348\u591c\uff09\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = Triggers.Workday();\n\n// Furion 4.8.2.5+ \u66f4\u591a Macro At\n// \u6bcf\u7b2c 3 \u79d2\nvar triggerBuilder = Triggers.SecondlyAt(3);\n// \u6bcf\u7b2c 3\uff0c5\uff0c6 \u79d2\nvar triggerBuilder = Triggers.SecondlyAt(3, 5, 6);\n\n// \u6bcf\u5206\u949f\u7b2c 3 \u79d2\nvar triggerBuilder = Triggers.MinutelyAt(3);\n// \u6bcf\u5206\u949f\u7b2c 3\uff0c5\uff0c6 \u79d2\nvar triggerBuilder = Triggers.MinutelyAt(3, 5, 6);\n\n// \u6bcf\u5c0f\u65f6\u7b2c 3 \u5206\u949f\nvar triggerBuilder = Triggers.HourlyAt(3);\n// \u6bcf\u5c0f\u65f6\u7b2c 3\uff0c5\uff0c6 \u5206\u949f\nvar triggerBuilder = Triggers.HourlyAt(3, 5, 6);\n\n// \u6bcf\u5929\u7b2c 3 \u5c0f\u65f6\u6b63\uff08\u70b9\uff09\nvar triggerBuilder = Triggers.DailyAt(3);\n// \u6bcf\u5929\u7b2c 3\uff0c5\uff0c6 \u5c0f\u65f6\u6b63\uff08\u70b9\uff09\nvar triggerBuilder = Triggers.DailyAt(3, 5, 6);\n\n// \u6bcf\u6708\u7b2c 3 \u5929\u96f6\u70b9\u6b63\nvar triggerBuilder = Triggers.MonthlyAt(3);\n// \u6bcf\u6708\u7b2c 3\uff0c5\uff0c6 \u5929\u96f6\u70b9\u6b63\nvar triggerBuilder = Triggers.MonthlyAt(3, 5, 6);\n\n// \u6bcf\u5468\u661f\u671f 3 \u96f6\u70b9\u6b63\nvar triggerBuilder = Triggers.WeeklyAt(3);\nvar triggerBuilder = Triggers.WeeklyAt("WED");  // SUN\uff08\u661f\u671f\u5929\uff09\uff0cMON\uff0cTUE\uff0cWED\uff0cTHU\uff0cFRI\uff0cSAT\n// \u6bcf\u5468\u661f\u671f 3\uff0c5\uff0c6 \u96f6\u70b9\u6b63\nvar triggerBuilder = Triggers.WeeklyAt(3, 5, 6);\nvar triggerBuilder = Triggers.WeeklyAt("WED", "FRI", "SAT");\n// \u8fd8\u652f\u6301\u6df7\u5408\nvar triggerBuilder = Triggers.WeeklyAt(3, "FRI", 6);\n\n// \u6bcf\u5e74\u7b2c 3 \u6708 1 \u65e5\u96f6\u70b9\u6b63\nvar triggerBuilder = Triggers.YearlyAt(3);\nvar triggerBuilder = Triggers.YearlyAt("MAR");  // JAN\uff08\u4e00\u6708\uff09\uff0cFEB\uff0cMAR\uff0cAPR\uff0cMAY\uff0cJUN\uff0cJUL\uff0cAUG\uff0cSEP\uff0cOCT\uff0cNOV\uff0cDEC\n// \u6bcf\u5e74\u7b2c 3\uff0c5\uff0c6 \u6708 1 \u65e5\u96f6\u70b9\u6b63\nvar triggerBuilder = Triggers.YearlyAt(3);\nvar triggerBuilder = Triggers.YearlyAt(3, 5, 6);\nvar triggerBuilder = Triggers.YearlyAt("MAR", "MAY", "JUN");\n// \u8fd8\u652f\u6301\u6df7\u5408\nvar triggerBuilder = Triggers.YearlyAt(3, "MAY", 6);\n')),(0,i.kt)("h3",{id:"26155-\u81ea\u5b9a\u4e49\u4f5c\u4e1a\u89e6\u53d1\u5668"},"26.1.5.5 \u81ea\u5b9a\u4e49\u4f5c\u4e1a\u89e6\u53d1\u5668"),(0,i.kt)("p",null,"\u9664\u4e86\u4f7f\u7528\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u63d0\u4f9b\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"PeriodTrigger")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"CronTrigger")," \u4ee5\u5916\uff0c\u53ef\u81ea\u5b9a\u4e49\u4f5c\u4e1a\u89e6\u53d1\u5668\uff0c\u53ea\u9700\u8981\u7ee7\u627f ",(0,i.kt)("inlineCode",{parentName:"p"},"Trigger")," \u5e76\u91cd\u5199 ",(0,i.kt)("inlineCode",{parentName:"p"},"GetNextOccurrence")," \u65b9\u6cd5\u5373\u53ef\uff0c\u5982\u5b9e\u73b0\u4e00\u4e2a\u95f4\u9694\u4e24\u79d2\u7684\u4f5c\u4e1a\u89e6\u53d1\u5668\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,3,5}",showLineNumbers:!0,"{1,3,5}":!0},"public class TwiceSecondTrigger : Trigger\n{\n    public override DateTime GetNextOccurrence(DateTime startAt)\n    {\n        return startAt.AddSeconds(2);\n    }\n}\n")),(0,i.kt)("p",null,"\u4e4b\u540e\u53ef\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"Triggers.Create")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"p"},"Triggers.Create")," \u521b\u5efa\u5373\u53ef\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3}",showLineNumbers:!0,"{3}":!0},"services.AddSchedule(options =>\n{\n    options.AddJob<MyJob>(Triggers.Create<TwiceSecondTrigger>());\n});\n")),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4,6,8,10,12}",showLineNumbers:!0,"{2,4,6,8,10,12}":!0},"info: 2022-11-20 21:13:02.4726416 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #9\n      job1 job1_trigger1 2022/11/20 21:13:02 ConsoleApp13.TwiceSecondTrigger\ninfo: 2022-11-20 21:13:04.4591328 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #6\n      job1 job1_trigger1 2022/11/20 21:13:04 ConsoleApp13.TwiceSecondTrigger\ninfo: 2022-11-20 21:13:06.4677716 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #4\n      job1 job1_trigger1 2022/11/20 21:13:06 ConsoleApp13.TwiceSecondTrigger\ninfo: 2022-11-20 21:13:08.4726987 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #14\n      job1 job1_trigger1 2022/11/20 21:13:08 ConsoleApp13.TwiceSecondTrigger\ninfo: 2022-11-20 21:13:10.4827028 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #9\n      job1 job1_trigger1 2022/11/20 21:13:10 ConsoleApp13.TwiceSecondTrigger\ninfo: 2022-11-20 21:13:12.4936247 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #14\n      job1 job1_trigger1 2022/11/20 21:13:12 ConsoleApp13.TwiceSecondTrigger\n")),(0,i.kt)("p",null,"\u53e6\u5916\uff0c\u81ea\u5b9a\u4e49\u4f5c\u4e1a\u89e6\u53d1\u5668\u8fd8\u652f\u6301\u4f20\u9012\u53c2\u6570\uff1a"),(0,i.kt)("admonition",{title:"\u53c2\u6570\u7279\u522b\u8bf4\u660e",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u5982\u679c\u81ea\u5b9a\u4e49\u4f5c\u4e1a\u89e6\u53d1\u5668\u5305\u542b\u53c2\u6570\uff0c\u90a3\u4e48",(0,i.kt)("strong",{parentName:"p"},"\u5fc5\u987b\u6ee1\u8db3\u4ee5\u4e0b\u4e24\u4e2a\u6761\u4ef6"),"\uff1a"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u53c2\u6570\u5fc5\u987b\u901a\u8fc7\u552f\u4e00\u7684\u6784\u9020\u51fd\u6570\u4f20\u5165\uff0c\u6709\u4e14\u6700\u591a\u53ea\u80fd\u62e5\u6709\u4e00\u4e2a\u6784\u9020\u51fd\u6570")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u53c2\u6570\u7684\u7c7b\u578b\u53ea\u80fd\u662f ",(0,i.kt)("inlineCode",{parentName:"strong"},"int"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"strong"},"string"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"strong"},"bool"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"strong"},"null")," \u6216\u7531\u5b83\u4eec\u7ec4\u6210\u7684\u6570\u7ec4\u7c7b\u578b")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,3,5,8,12}",showLineNumbers:!0,"{1,3,5,8,12}":!0},"public class SomeSecondTrigger : Trigger\n{\n    public SomeSecondTrigger(int seconds) // \u652f\u6301\u591a\u4e2a\u53c2\u6570\n    {\n        Seconds = seconds;\n    }\n\n    private int Seconds { get; }\n\n    public override DateTime GetNextOccurrence(DateTime startAt)\n    {\n        return startAt.AddSeconds(Seconds);\n    }\n}\n")),(0,i.kt)("p",null,"\u4e4b\u540e\u53ef\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"Triggers.Create")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"p"},"Triggers.Create")," \u521b\u5efa\u5e76\u4f20\u5165\u53c2\u6570\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3}",showLineNumbers:!0,"{3}":!0},"services.AddSchedule(options =>\n{\n    options.AddJob<MyJob>(Triggers.Create<SomeSecondTrigger>(3)); // 3 \u79d2\u6267\u884c\u4e00\u6b21\n});\n")),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4,6,8,10,12}",showLineNumbers:!0,"{2,4,6,8,10,12}":!0},"info: 2022-11-20 21:33:46.3074692 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #4\n      job1 job1_trigger1 2022/11/20 21:33:46 ConsoleApp13.SomeSecondTrigger\ninfo: 2022-11-20 21:33:49.3101667 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #6\n      job1 job1_trigger1 2022/11/20 21:33:49 ConsoleApp13.SomeSecondTrigger\ninfo: 2022-11-20 21:33:52.3222046 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #8\n      job1 job1_trigger1 2022/11/20 21:33:52 ConsoleApp13.SomeSecondTrigger\ninfo: 2022-11-20 21:33:55.3270737 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #4\n      job1 job1_trigger1 2022/11/20 21:33:55 ConsoleApp13.SomeSecondTrigger\ninfo: 2022-11-20 21:33:58.3293727 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #6\n      job1 job1_trigger1 2022/11/20 21:33:58 ConsoleApp13.SomeSecondTrigger\ninfo: 2022-11-20 21:34:01.3472296 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #4\n      job1 job1_trigger1 2022/11/20 21:34:01 ConsoleApp13.SomeSecondTrigger\n")),(0,i.kt)("p",null,"\u81ea\u5b9a\u4e49\u4f5c\u4e1a\u89e6\u53d1\u5668\u9664\u4e86\u53ef\u91cd\u5199 ",(0,i.kt)("inlineCode",{parentName:"p"},"GetNextOccurrence")," \u65b9\u6cd5\u4e4b\u540e\uff0c\u8fd8\u63d0\u4f9b\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"ShouldRun")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"ToString")," \u65b9\u6cd5\u53ef\u91cd\u5199\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {15,22,24}",showLineNumbers:!0,"{15,22,24}":!0},'public class SomeSecondTrigger : Trigger\n{\n    public SomeSecondTrigger(int seconds)\n    {\n        Seconds = seconds;\n    }\n\n    private int Seconds { get; }\n\n    public override DateTime GetNextOccurrence(DateTime startAt)\n    {\n        return startAt.AddSeconds(Seconds);\n    }\n\n    public override bool ShouldRun(JobDetail jobDetail, DateTime startAt)\n    {\n        // \u5728\u8fd9\u91cc\u8fdb\u4e00\u6b65\u63a7\u5236\uff0c\u5982\u679c\u8fd4\u56de false\uff0c\u5219\u4f5c\u4e1a\u89e6\u53d1\u5668\u8df3\u8fc7\u6267\u884c\n\n        return base.ShouldRun(jobDetail, startAt);\n    }\n\n    public override string ToString()\n    {\n        return $"\u81ea\u5b9a\u4e49\u9012\u589e {Seconds}s \u89e6\u53d1\u5668";\n    }\n}\n')),(0,i.kt)("p",null,"\u63a8\u8350\u91cd\u5199 ",(0,i.kt)("inlineCode",{parentName:"p"},"GetNextRunTime")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"ToString")," \u65b9\u6cd5\u5373\u53ef\uff0c\u5982\u679c\u91cd\u5199\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"ToString")," \u65b9\u6cd5\uff0c\u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7 $",(0,i.kt)("inlineCode",{parentName:"p"},"{trigger}")," \u8f93\u51fa\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {11}",showLineNumbers:!0,"{11}":!0},'public class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        _logger.LogInformation($"{context.JobId} {context.TriggerId} {context.OccurrenceTime} {context.Trigger}");\n        await Task.CompletedTask;\n    }\n}\n')),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4}",showLineNumbers:!0,"{2,4}":!0},"info: 2022-11-20 21:43:07.4570694 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #4\n      job1 job1_trigger1 2022/11/20 21:43:07 \u81ea\u5b9a\u4e49\u9012\u589e 3s \u89e6\u53d1\u5668\ninfo: 2022-11-20 21:43:10.4629078 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #9\n      job1 job1_trigger1 2022/11/20 21:43:10 \u81ea\u5b9a\u4e49\u9012\u589e 3s \u89e6\u53d1\u5668\n")),(0,i.kt)("h3",{id:"26156-\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"},"26.1.5.6 \u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("p",null,"\u5982\u679c ",(0,i.kt)("inlineCode",{parentName:"p"},"JobBuilder")," \u914d\u7f6e\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"IncludeAnnotations")," \u53c2\u6570\u4e14\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),"\uff0c\u90a3\u4e48\u5c06\u4f1a\u81ea\u52a8\u89e3\u6790 ",(0,i.kt)("inlineCode",{parentName:"p"},"IJob")," \u7684\u5b9e\u73b0\u7c7b\u578b\u7684\u6240\u6709\u7ee7\u627f ",(0,i.kt)("inlineCode",{parentName:"p"},"TriggerAttribute")," \u7684\u7279\u6027\uff0c\u76ee\u524d\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u5185\u7f6e\u4e86\u4ee5\u4e0b\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[Period(5000)]"),"\uff1a\u6beb\u79d2\u5468\u671f\uff08\u95f4\u9694\uff09\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[PeriodSeconds(5)]"),"\uff1a\u79d2\u5468\u671f\uff08\u95f4\u9694\uff09\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'[Cron("* * * * *", CronStringFormat.Default)]'),"\uff1aCron \u8868\u8fbe\u5f0f\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[Secondly]"),"\uff1a\u6bcf\u79d2\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[Minutely]"),"\uff1a\u6bcf\u5206\u949f\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[Hourly]"),"\uff1a\u6bcf\u5c0f\u65f6\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[Daily]"),"\uff1a\u6bcf\u5929\uff08\u5348\u591c\uff09\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[Monthly]"),"\uff1a\u6bcf\u6708 1 \u53f7\uff08\u5348\u591c\uff09\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[Weekly]"),"\uff1a\u6bcf\u5468\u65e5\uff08\u5348\u591c\uff09\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[Yearly]"),"\uff1a\u6bcf\u5e74 1 \u6708 1 \u53f7\uff08\u5348\u591c\uff09\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[Workday]"),"\uff1a\u6bcf\u5468\u4e00\u81f3\u5468\u4e94\uff08\u5348\u591c\uff09\u5f00\u59cb\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[SecondlyAt]"),"\uff1a\u7279\u5b9a\u79d2\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[MinutelyAt]"),"\uff1a\u6bcf\u5206\u949f\u7279\u5b9a\u79d2\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[HourlyAt]"),"\uff1a\u6bcf\u5c0f\u65f6\u7279\u5b9a\u5206\u949f\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[DailyAt]"),"\uff1a\u6bcf\u5929\u7279\u5b9a\u5c0f\u65f6\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[MonthlyAt]"),"\uff1a\u6bcf\u6708\u7279\u5b9a\u5929\uff08\u5348\u591c\uff09\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[WeeklyAt]"),"\uff1a\u6bcf\u5468\u7279\u5b9a\u661f\u671f\u51e0\uff08\u5348\u591c\uff09\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[YearlyAt]"),"\uff1a\u6bcf\u5e74\u7279\u5b9a\u67081\u53f7\uff08\u5348\u591c\uff09\u5f00\u59cb\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027")),(0,i.kt)("p",null,"\u4f7f\u7528\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3,6}",showLineNumbers:!0,"{3,6}":!0},"services.AddSchedule(options =>\n{\n    options.AddJob(JobBuilder.Create<MyJob>().SetIncludeAnnotations(true));\n\n    // \u4e5f\u652f\u6301\u81ea\u5b9a\u4e49\u914d\u7f6e + \u7279\u6027\u626b\u63cf\n    options.AddJob(JobBuilder.Create<MyJob>().SetIncludeAnnotations(true)\n                  , Triggers.PeriodSeconds(5));\n});\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1-3}",showLineNumbers:!0,"{1-3}":!0},'[Minutely]\n[PeriodSeconds(5)]\n[Cron("* * * * *")]\npublic class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        _logger.LogInformation($"{context.JobId} {context.TriggerId} {context.OccurrenceTime} {context.Trigger}");\n        await Task.CompletedTask;\n    }\n}\n')),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4,6,8,10}",showLineNumbers:!0,"{2,4,6,8,10}":!0},"info: 2022-11-20 22:10:54.5027217 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #9\n      job1 job1_trigger2 2022/11/20 22:10:54  5000ms\ninfo: 2022-11-20 22:10:59.4948832 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #9\n      job1 job1_trigger2 2022/11/20 22:10:59  5000ms\ninfo: 2022-11-20 22:11:00.0353681 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #6\n      job1 job1_trigger3 2022/11/20 22:11:00  * * * * *\ninfo: 2022-11-20 22:11:00.0372492 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #8\n      job1 job1_trigger1 2022/11/20 22:11:00  * * * * *\ninfo: 2022-11-20 22:11:04.5094807 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #8\n      job1 job1_trigger2 2022/11/20 22:11:04  5000ms\n")),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u9664\u4e86\u4f7f\u7528\u5185\u7f6e\u7279\u6027\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027"),"\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,2,5}",showLineNumbers:!0,"{1,2,5}":!0},"[AttributeUsage(AttributeTargets.Class, AllowMultiple = true)]\npublic class SomeSecondAttribute : TriggerAttribute\n{\n    public SomeSecondAttribute(int seconds)\n        : base(typeof(SomeSecondTrigger), seconds)\n    {\n    }\n}\n")),(0,i.kt)("p",null,"\u4f7f\u7528\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1}",showLineNumbers:!0,"{1}":!0},'[SomeSecond(3)]\npublic class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        _logger.LogInformation($"{context.JobId} {context.TriggerId} {context.OccurrenceTime} {context.Trigger}");\n        await Task.CompletedTask;\n    }\n}\n')),(0,i.kt)("p",null,"\u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u7ed3\u679c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4,6,8,10}",showLineNumbers:!0,"{2,4,6,8,10}":!0},"info: 2022-11-20 22:16:22.0933295 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #9\n      job1 job1_trigger1 2022/11/20 22:16:22 \u81ea\u5b9a\u4e49\u9012\u589e 3s \u89e6\u53d1\u5668\ninfo: 2022-11-20 22:16:25.0823563 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #8\n      job1 job1_trigger1 2022/11/20 22:16:25 \u81ea\u5b9a\u4e49\u9012\u589e 3s \u89e6\u53d1\u5668\ninfo: 2022-11-20 22:16:28.0910993 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #6\n      job1 job1_trigger1 2022/11/20 22:16:28 \u81ea\u5b9a\u4e49\u9012\u589e 3s \u89e6\u53d1\u5668\ninfo: 2022-11-20 22:16:31.0937955 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #9\n      job1 job1_trigger1 2022/11/20 22:16:31 \u81ea\u5b9a\u4e49\u9012\u589e 3s \u89e6\u53d1\u5668\ninfo: 2022-11-20 22:16:34.1034905 +08:00 \u661f\u671f\u65e5 L ConsoleApp13.MyJob[0] #6\n      job1 job1_trigger1 2022/11/20 22:16:34 \u81ea\u5b9a\u4e49\u9012\u589e 3s \u89e6\u53d1\u5668\n")),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u4f5c\u4e1a\u89e6\u53d1\u5668\u7279\u6027\u8fd8\u63d0\u4f9b\u4e86\u591a\u4e2a\u5c5e\u6027\u914d\u7f6e"),"\uff0c\u5982\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"TriggerId"),"\uff1a\u4f5c\u4e1a\u89e6\u53d1\u5668 Id\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"string")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Description"),"\uff1a\u63cf\u8ff0\u4fe1\u606f\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"string")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"StartTime"),"\uff1a\u8d77\u59cb\u65f6\u95f4\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"string")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"EndTime"),"\uff1a\u7ed3\u675f\u65f6\u95f4\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"string")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MaxNumberOfRuns"),"\uff1a\u6700\u5927\u89e6\u53d1\u6b21\u6570\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"long")," \u7c7b\u578b\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"0"),"\uff1a\u4e0d\u9650\u5236\uff1b",(0,i.kt)("inlineCode",{parentName:"li"},"n"),"\uff1aN \u6b21"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MaxNumberOfErrors"),"\uff1a\u6700\u5927\u51fa\u9519\u6b21\u6570\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"long")," \u7c7b\u578b\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"0"),"\uff1a\u4e0d\u9650\u5236\uff1b",(0,i.kt)("inlineCode",{parentName:"li"},"n"),"\uff1aN \u6b21"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"NumRetries"),"\uff1a\u91cd\u8bd5\u6b21\u6570\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"int")," \u7c7b\u578b\uff0c\u9ed8\u8ba4\u503c ",(0,i.kt)("inlineCode",{parentName:"li"},"0")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"RetryTimeout"),"\uff1a\u91cd\u8bd5\u95f4\u9694\u65f6\u95f4\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"int")," \u7c7b\u578b\uff0c\u9ed8\u8ba4\u503c ",(0,i.kt)("inlineCode",{parentName:"li"},"1000")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"StartNow"),"\uff1a\u662f\u5426\u7acb\u5373\u542f\u52a8\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"bool")," \u7c7b\u578b\uff0c\u9ed8\u8ba4\u503c ",(0,i.kt)("inlineCode",{parentName:"li"},"true")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"RunOnStart"),"\uff1a\u662f\u5426\u542f\u52a8\u65f6\u6267\u884c\u4e00\u6b21\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"bool")," \u7c7b\u578b\uff0c\u9ed8\u8ba4\u503c ",(0,i.kt)("inlineCode",{parentName:"li"},"false")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ResetOnlyOnce"),"\uff1a\u662f\u5426\u5728\u542f\u52a8\u65f6\u91cd\u7f6e\u6700\u5927\u89e6\u53d1\u6b21\u6570\u7b49\u4e8e\u4e00\u6b21\u7684\u4f5c\u4e1a\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"bool")," \u7c7b\u578b\uff0c\u9ed8\u8ba4\u503c ",(0,i.kt)("inlineCode",{parentName:"li"},"true"))),(0,i.kt)("p",null,"\u4f7f\u7528\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1}",showLineNumbers:!0,"{1}":!0},'[PeriodSeconds(5, TriggerId = "trigger1", Description = "\u8fd9\u662f\u4e00\u6bb5\u63cf\u8ff0")]\npublic class MyJob : IJob\n{\n')),(0,i.kt)("h3",{id:"26157-\u8bbe\u7f6e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668"},"26.1.5.7 \u8bbe\u7f6e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"TriggerBuilder")," \u63d0\u4f9b\u4e86\u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"Trigger")," \u5b8c\u5168\u5339\u914d\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"Set[\u5c5e\u6027\u540d]")," \u65b9\u6cd5\u6765\u914d\u7f6e\u4f5c\u4e1a\u89e6\u53d1\u5668\u5404\u4e2a\u5c5e\u6027\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3,27}",showLineNumbers:!0,"{3,27}":!0},' services.AddSchedule(options =>\n {\n     var triggerBuilder = Triggers.Period(5000)\n         .SetTriggerId("trigger1")   // \u4f5c\u4e1a\u89e6\u53d1\u5668 Id\n         .SetTriggerType("Furion", "Furion.Schedule.PeriodTrigger")  // \u4f5c\u4e1a\u89e6\u53d1\u5668\u7c7b\u578b\uff0c\u652f\u6301\u591a\u4e2a\u91cd\u8f7d\n         .SetTriggerType<PeriodTrigger>()    // \u4f5c\u4e1a\u89e6\u53d1\u5668\u7c7b\u578b\uff0c\u652f\u6301\u591a\u4e2a\u91cd\u8f7d\n         .SetTriggerType(typeof(PeriodTrigger))  // \u4f5c\u4e1a\u89e6\u53d1\u5668\u7c7b\u578b\uff0c\u652f\u6301\u591a\u4e2a\u91cd\u8f7d\n         .SetArgs("[5000]")  // \u4f5c\u4e1a\u89e6\u53d1\u5668\u53c2\u6570\uff0c\u652f\u6301\u591a\u4e2a\u91cd\u8f7d\n         .SetArgs(5000)   // \u4f5c\u4e1a\u89e6\u53d1\u5668\u53c2\u6570\uff0c\u652f\u6301\u591a\u4e2a\u91cd\u8f7d\n         .SetDescription("\u4f5c\u4e1a\u89e6\u53d1\u5668\u63cf\u8ff0")  // \u4f5c\u4e1a\u89e6\u53d1\u5668\u63cf\u8ff0\n         .SetStatus(TriggerStatus.Ready) // \u4f5c\u4e1a\u89e6\u53d1\u5668\u72b6\u6001\n         .SetStartTime(DateTime.Now) // \u4f5c\u4e1a\u89e6\u53d1\u5668\u8d77\u59cb\u65f6\u95f4\n         .SetEndTime(DateTime.Now.AddMonths(1)) // \u4f5c\u4e1a\u89e6\u53d1\u5668\u7ed3\u675f\u65f6\u95f4\n         .SetLastRunTime(DateTime.Now.AddSeconds(-5))    // \u4f5c\u4e1a\u89e6\u53d1\u5668\u6700\u8fd1\u8fd0\u884c\u65f6\u95f4\n         .SetNextRunTime(DateTime.Now.AddSeconds(5)) // \u4f5c\u4e1a\u89e6\u53d1\u5668\u4e0b\u4e00\u6b21\u8fd0\u884c\u65f6\u95f4\n         .SetNumberOfRuns(1) // \u4f5c\u4e1a\u89e6\u53d1\u5668\u89e6\u53d1\u6b21\u6570\n         .SetMaxNumberOfRuns(100)    // \u4f5c\u4e1a\u89e6\u53d1\u5668\u6700\u5927\u89e6\u53d1\u5668\u6b21\u6570\n         .SetNumberOfErrors(1)   // \u4f5c\u4e1a\u89e6\u53d1\u5668\u51fa\u9519\u6b21\u6570\n         .SetMaxNumberOfErrors(100)  // \u4f5c\u4e1a\u89e6\u53d1\u5668\u6700\u5927\u51fa\u9519\u6b21\u6570\n         .SetNumRetries(3)   // \u4f5c\u4e1a\u89e6\u53d1\u5668\u51fa\u9519\u91cd\u8bd5\u6b21\u6570\n         .SetRetryTimeout(1000)  // \u4f5c\u4e1a\u89e6\u53d1\u5668\u91cd\u8bd5\u95f4\u9694\u65f6\u95f4\n         .SetStartNow(true)  // \u4f5c\u4e1a\u89e6\u53d1\u5668\u662f\u5426\u7acb\u5373\u542f\u52a8\n         .SetRunOnStart(false)    // \u4f5c\u4e1a\u89e6\u53d1\u5668\u662f\u5426\u542f\u52a8\u65f6\u6267\u884c\u4e00\u6b21\n         .SetResetOnlyOnce(true)    // \u4f5c\u4e1a\u89e6\u53d1\u5668\u662f\u5426\u5728\u542f\u52a8\u65f6\u91cd\u7f6e\u6700\u5927\u89e6\u53d1\u6b21\u6570\u7b49\u4e8e\u4e00\u6b21\u7684\u4f5c\u4e1a\n         ;\n\n     options.AddJob<MyJob>(triggerBuilder);\n });\n')),(0,i.kt)("h3",{id:"26158-\u591a\u79cd\u683c\u5f0f\u5b57\u7b26\u4e32\u8f93\u51fa"},"26.1.5.8 \u591a\u79cd\u683c\u5f0f\u5b57\u7b26\u4e32\u8f93\u51fa"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Trigger")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"TriggerBuilder")," \u90fd\u63d0\u4f9b\u4e86\u591a\u79cd\u5c06\u81ea\u8eab\u8f6c\u6362\u6210\u7279\u5b9a\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u3002"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"strong"},"JSON")," \u5b57\u7b26\u4e32"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var json = trigger.ConvertToJSON();\n")),(0,i.kt)("p",null,"\u5b57\u7b26\u4e32\u6253\u5370\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:"showLineNumbers",showLineNumbers:!0},'{\n  "triggerId": "job1_trigger1",\n  "jobId": "job1",\n  "triggerType": "Furion.Schedule.PeriodSecondsTrigger",\n  "assemblyName": "Furion",\n  "args": "[5]",\n  "description": null,\n  "status": 2,\n  "startTime": null,\n  "endTime": null,\n  "lastRunTime": "2022-11-20T22:25:03.8176033+08:00",\n  "nextRunTime": "2022-11-20T22:25:08.8385903+08:00",\n  "numberOfRuns": 1,\n  "maxNumberOfRuns": 0,\n  "numberOfErrors": 0,\n  "maxNumberOfErrors": 0,\n  "numRetries": 0,\n  "retryTimeout": 1000,\n  "startNow": true,\n  "runOnStart": false,\n  "resetOnlyOnce": true,\n  "updatedTime": "2022-11-20T22:25:03.8386511+08:00"\n}\n')),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"strong"},"SQL")," \u5b57\u7b26\u4e32"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,6,9,13,16,20}",showLineNumbers:!0,"{2,6,9,13,16,20}":!0},'// \u8f93\u51fa\u65b0\u589e SQL\uff0c\u4f7f\u7528 CamelCase \u5c5e\u6027\u547d\u540d\nvar insertSql = trigger.ConvertToSQL("tbName"\n      , PersistenceBehavior.Appended\n      , NamingConventions.CamelCase);\n// \u66f4\u4fbf\u6377\u62d3\u5c55\nvar insertSql = trigger.ConvertToInsertSQL("tbName", NamingConventions.CamelCase);\n\n// \u8f93\u51fa\u5220\u9664 SQL\uff0c\u4f7f\u7528 Pascal \u5c5e\u6027\u547d\u540d\nvar deleteSql = trigger.ConvertToSQL("tbName"\n      , PersistenceBehavior.Removed\n      , NamingConventions.Pascal);\n// \u66f4\u4fbf\u6377\u62d3\u5c55\nvar deleteSql = trigger.ConvertToDeleteSQL("tbName", NamingConventions.Pascal);\n\n// \u8f93\u51fa\u66f4\u65b0 SQL\uff0c\u4f7f\u7528 UnderScoreCase \u5c5e\u6027\u547d\u540d\nvar updateSql = trigger.ConvertToSQL("tbName"\n      , PersistenceBehavior.Updated\n      , NamingConventions.UnderScoreCase);\n// \u66f4\u4fbf\u6377\u62d3\u5c55\nvar updateSql = trigger.ConvertToUpdateSQL("tbName", NamingConventions.UnderScoreCase);\n')),(0,i.kt)("p",null,"\u5b57\u7b26\u4e32\u6253\u5370\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:"showLineNumbers {2,50,54}",showLineNumbers:!0,"{2,50,54}":!0},"-- \u65b0\u589e\u8bed\u53e5\nINSERT INTO tbName(\n      [triggerId],\n      [jobId],\n      [triggerType],\n      [assemblyName],\n      [args],\n      [description],\n      [status],\n      [startTime],\n      [endTime],\n      [lastRunTime],\n      [nextRunTime],\n      [numberOfRuns],\n      [maxNumberOfRuns],\n      [numberOfErrors],\n      [maxNumberOfErrors],\n      [numRetries],\n      [retryTimeout],\n      [startNow],\n      [runOnStart],\n      [resetOnlyOnce],\n      [updatedTime]\n)\nVALUES(\n      'job1_trigger1',\n      'job1',\n      'Furion.Schedule.PeriodSecondsTrigger',\n      'Furion',\n      '[5]',\n      NULL,\n      2,\n      NULL,\n      NULL,\n      '2022/11/20 22:27:47',\n      '2022/11/20 22:27:52',\n      1,\n      0,\n      0,\n      0,\n      0,\n      1000,\n      1,\n      0,\n      1,\n      '2022/11/20 22:27:47'\n);\n\n-- \u5220\u9664\u8bed\u53e5\nDELETE FROM tbName\nWHERE [TriggerId] = 'job1_trigger1' AND [JobId] = 'job1';\n\n-- \u66f4\u65b0\u8bed\u53e5\nUPDATE tbName\nSET\n      [trigger_id] = 'job1_trigger1',\n      [job_id] = 'job1',\n      [trigger_type] = 'Furion.Schedule.PeriodSecondsTrigger',\n      [assembly_name] = 'Furion',\n      [args] = '[5]',\n      [description] = NULL,\n      [status] = 2,\n      [start_time] = NULL,\n      [end_time] = NULL,\n      [last_run_time] = '2022/11/20 22:27:47',\n      [next_run_time] = '2022/11/20 22:27:52',\n      [number_of_runs] = 1,\n      [max_number_of_runs] = 0,\n      [number_of_errors] = 0,\n      [max_number_of_errors] = 0,\n      [num_retries] = 0,\n      [retry_timeout] = 1000,\n      [start_now] = 1,\n      [run_on_start] = 0,\n      [reset_only_once] = 1,\n      [updated_time] = '2022/11/20 22:27:47'\nWHERE [trigger_id] = 'job1_trigger1' AND [job_id] = 'job1';\n")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Monitor")," \u5b57\u7b26\u4e32"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var monitor = trigger.ConvertToMonitor();\n")),(0,i.kt)("p",null,"\u5b57\u7b26\u4e32\u6253\u5370\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers",showLineNumbers:!0},"\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  Trigger \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\u2523 Furion.Schedule.PeriodSecondsTrigger\n\u2523\n\u2523 triggerId\uff1a                job1_trigger1\n\u2523 jobId\uff1a                    job1\n\u2523 triggerType\uff1a              Furion.Schedule.PeriodSecondsTrigger\n\u2523 assemblyName\uff1a             Furion\n\u2523 args\uff1a                     [5]\n\u2523 description\uff1a\n\u2523 status\uff1a                   Running\n\u2523 startTime\uff1a\n\u2523 endTime\uff1a\n\u2523 lastRunTime\uff1a              2022/11/20 22:30:41\n\u2523 nextRunTime\uff1a              2022/11/20 22:30:46\n\u2523 numberOfRuns\uff1a             1\n\u2523 maxNumberOfRuns\uff1a          0\n\u2523 numberOfErrors\uff1a           0\n\u2523 maxNumberOfErrors\uff1a        0\n\u2523 numRetries\uff1a               0\n\u2523 retryTimeout\uff1a             1000\n\u2523 startNow\uff1a                 True\n\u2523 runOnStart\uff1a               False\n\u2523 resetOnlyOnce\uff1a            True\n\u2523 updatedTime\uff1a              2022/11/20 22:30:41\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  Trigger \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n")),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u7b80\u8981\u5b57\u7b26\u4e32\u8f93\u51fa"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var str = trigger.ToString();\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers",showLineNumbers:!0},"<job3 job3_trigger1> \u8fd9\u662f\u4e00\u6bb5\u63cf\u8ff0\n<job2 job2_trigger1> \u8fd9\u662f\u4e00\u6bb5\u63cf\u8ff0 * * * * * *\n<job1 job1_trigger1> \u8fd9\u662f\u4e00\u6bb5\u63cf\u8ff0 5000ms\n")),(0,i.kt)("h3",{id:"26159-\u81ea\u5b9a\u4e49-sql-\u8f93\u51fa\u914d\u7f6e"},"26.1.5.9 \u81ea\u5b9a\u4e49 ",(0,i.kt)("inlineCode",{parentName:"h3"},"SQL")," \u8f93\u51fa\u914d\u7f6e"),(0,i.kt)("admonition",{title:"\u7248\u672c\u8bf4\u660e",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u4ee5\u4e0b\u5185\u5bb9\u4ec5\u9650 ",(0,i.kt)("inlineCode",{parentName:"p"},"Furion 4.8.2 +")," \u7248\u672c\u4f7f\u7528\u3002")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,3,8,13,18}",showLineNumbers:!0,"{1,3,8,13,18}":!0},"services.AddSchedule(options =>\n{\n    options.Trigger.ConvertToSQL = (tableName, columnNames, trigger, behavior, naming) =>\n    {\n      // \u751f\u6210\u65b0\u589e SQL\n      if (behavior == PersistenceBehavior.Appended)\n      {\n            return trigger.ConvertToInsertSQL(tableName, naming);\n      }\n      // \u751f\u6210\u66f4\u65b0 SQL\n      else if (behavior == PersistenceBehavior.Updated)\n      {\n            return trigger.ConvertToUpdateSQL(tableName, naming);\n      }\n      // \u751f\u6210\u5220\u9664 SQL\n      else if (behavior == PersistenceBehavior.Removed)\n      {\n            return trigger.ConvertToDeleteSQL(tableName, naming);\n      }\n\n      return string.Empty;\n    };\n});\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ConvertToSQL")," \u59d4\u6258\u53c2\u6570\u8bf4\u660e",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"tableName"),"\uff1a\u6570\u636e\u5e93\u8868\u540d\u79f0\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"string")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"columnNames"),"\uff1a\u6570\u636e\u5e93\u5217\u540d\uff1a",(0,i.kt)("inlineCode",{parentName:"li"},"string[]")," \u7c7b\u578b\uff0c\u53ea\u80fd\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"li"},"\u7d22\u5f15")," \u83b7\u53d6"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"jobDetail"),"\uff1a\u4f5c\u4e1a\u4fe1\u606f ",(0,i.kt)("inlineCode",{parentName:"li"},"Trigger")," \u5bf9\u8c61"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"behavior"),"\uff1a\u6301\u4e45\u5316 ",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceBehavior")," \u7c7b\u578b\uff0c\u7528\u4e8e\u6807\u8bb0\u65b0\u589e\uff0c\u66f4\u65b0\u8fd8\u662f\u5220\u9664\u64cd\u4f5c"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"naming"),"\uff1a\u547d\u540d\u6cd5 ",(0,i.kt)("inlineCode",{parentName:"li"},"NamingConventions")," \u7c7b\u578b\uff0c\u5305\u542b ",(0,i.kt)("inlineCode",{parentName:"li"},"CamelCase\uff08\u9a7c\u5cf0\u547d\u540d\u6cd5\uff09"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"Pascal\uff08\u5e15\u65af\u5361\u547d\u540d\u6cd5\uff09")," \u548c ",(0,i.kt)("inlineCode",{parentName:"li"},"UnderScoreCase\uff08\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5\uff09"))))),(0,i.kt)("admonition",{title:"\u6ce8\u610f\u4e8b\u9879",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u5982\u679c\u5728\u8be5\u59d4\u6258\u65b9\u6cd5\u4e2d\u8c03\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"trigger.ConvertToSQL(..)")," \u65b9\u6cd5\u4f1a\u5bfc\u81f4\u6b7b\u5faa\u73af\u3002")),(0,i.kt)("h2",{id:"2616-\u4f5c\u4e1a\u8ba1\u5212-scheduler-\u53ca\u6784\u5efa\u5668"},"26.1.6 \u4f5c\u4e1a\u8ba1\u5212 ",(0,i.kt)("inlineCode",{parentName:"h2"},"Scheduler")," \u53ca\u6784\u5efa\u5668"),(0,i.kt)("h3",{id:"26161-\u5173\u4e8e\u4f5c\u4e1a\u8ba1\u5212"},"26.1.6.1 \u5173\u4e8e\u4f5c\u4e1a\u8ba1\u5212"),(0,i.kt)("p",null,"\u6240\u8c13\u7684\u4f5c\u4e1a\u8ba1\u5212\uff08",(0,i.kt)("inlineCode",{parentName:"p"},"Scheduler"),"\uff09\u662f\u5c06\u4f5c\u4e1a\u4fe1\u606f(",(0,i.kt)("inlineCode",{parentName:"p"},"JobDetail"),"\uff09\uff0c\u4f5c\u4e1a\u89e6\u53d1\u5668\uff08",(0,i.kt)("inlineCode",{parentName:"p"},"Trigger"),"\uff09\u548c\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\uff08",(0,i.kt)("inlineCode",{parentName:"p"},"IJob"),"\uff09\u5173\u8054\u8d77\u6765\uff0c\u5e76\u6dfb\u52a0\u5230\u4f5c\u4e1a\u8c03\u5ea6\u5668\u4e2d\u7b49\u5f85\u8c03\u5ea6\u6267\u884c\u3002"),(0,i.kt)("p",null,"\u4f5c\u4e3a\u8ba1\u5212\uff08",(0,i.kt)("inlineCode",{parentName:"p"},"Scheduler"),"\uff09\u7c7b\u578b\u5bf9\u5916\u662f\u4e0d\u516c\u5f00\u7684\uff0c\u4f46\u63d0\u4f9b\u4e86\u5bf9\u5e94\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"IScheduler")," \u63a5\u53e3\u8fdb\u884c\u64cd\u4f5c\u3002"),(0,i.kt)("h3",{id:"26162-\u5173\u4e8e\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668"},"26.1.6.2 \u5173\u4e8e\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668"),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8ba1\u5212 ",(0,i.kt)("inlineCode",{parentName:"p"},"Scheduler")," \u662f\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u63d0\u4f9b\u8fd0\u884c\u65f6\u7684",(0,i.kt)("strong",{parentName:"p"},"\u53ea\u8bfb\u7c7b\u578b"),"\uff0c\u90a3\u4e48\u6211\u4eec\u8be5\u5982\u4f55\u521b\u5efa\u6216\u53d8\u66f4 ",(0,i.kt)("inlineCode",{parentName:"p"},"Scheduler")," \u5bf9\u8c61\u5462\uff1f"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"SchedulerBuilder")," \u662f\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u63d0\u4f9b\u53ef\u7528\u6765\u751f\u6210\u8fd0\u884c\u65f6 ",(0,i.kt)("inlineCode",{parentName:"p"},"Scheduler")," \u7684\u7c7b\u578b\uff0c\u8fd9\u6837\u505a\u7684\u597d\u5904\u53ef\u907f\u514d\u5916\u90e8\u76f4\u63a5\u4fee\u6539\u8fd0\u884c\u65f6 ",(0,i.kt)("inlineCode",{parentName:"p"},"Scheduler")," \u6570\u636e\uff0c\u8fd8\u80fd\u5b9e\u73b0\u4efb\u4f55\u4fee\u6539\u52a8\u4f5c\u76d1\u542c\uff0c\u4e5f\u80fd\u907f\u514d\u591a\u7ebf\u7a0b\u62a2\u5360\u60c5\u51b5\u3002"),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8c03\u5ea6\u6a21\u5757\u63d0\u4f9b\u4e86\u591a\u79cd\u65b9\u5f0f\u7528\u6765\u521b\u5efa ",(0,i.kt)("inlineCode",{parentName:"p"},"SchedulerBuilder")," \u5bf9\u8c61\u3002"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Create")," \u9759\u6001\u65b9\u6cd5\u521b\u5efa"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,9}",showLineNumbers:!0,"{2,9}":!0},"// \u521b\u5efa\u4f5c\u4e1a\u8ba1\u5212\u5fc5\u987b\u4f20\u5165 JoBuilder \u548c 0\u62161\u4e2a\u4ee5\u4e0a\u7684 TiggerBuilder\nvar schedulerBuilder = SchedulerBuilder.Create(\n            JobBuilder.Create<MyJob>()\n            , Triggers.PeriodSeconds(5), Triggers.Minutely());\n\n// \u6dfb\u52a0\u5230\u4f5c\u4e1a\u8c03\u5ea6\u5668\u4e2d\nservices.AddSchedule(options =>\n{\n      options.AddJob(schedulerBuilder);\n});\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"JSON")," \u5b57\u7b26\u4e32\u521b\u5efa"))),(0,i.kt)("p",null,"\u8be5\u65b9\u5f0f\u975e\u5e38\u7075\u6d3b\uff0c\u53ef\u4ece\u914d\u7f6e\u6587\u4ef6\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"JSON")," \u5b57\u7b26\u4e32\uff0c\u6216\u5176\u4ed6\u80fd\u591f\u8fd4\u56de ",(0,i.kt)("inlineCode",{parentName:"p"},"JSON")," \u5b57\u7b26\u4e32\u7684\u5730\u65b9\u521b\u5efa\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,3,14,43}",showLineNumbers:!0,"{1,3,14,43}":!0},'var schedulerBuilder = SchedulerBuilder.From(@"\n{\n    ""jobDetail"": {\n        ""jobId"": ""job1"",\n        ""groupName"": null,\n        ""jobType"": ""ConsoleApp32.MyJob"",\n        ""assemblyName"": ""ConsoleApp32"",\n        ""description"": null,\n        ""concurrent"": true,\n        ""includeAnnotations"": false,\n        ""properties"": ""{}"",\n        ""updatedTime"": ""2022-11-17T09:25:47.0471107+08:00""\n    },\n    ""triggers"": [\n        {\n            ""triggerId"": ""job1_trigger1"",\n            ""triggerType"": ""Furion.Schedule.PeriodSecondsTrigger"",\n            ""assemblyName"": ""Furion"",\n            ""args"": ""[5]"",\n            ""description"": null,\n            ""status"": 2,\n            ""startTime"": null,\n            ""endTime"": null,\n            ""lastRunTime"": ""2022-11-20T18:31:56.6859410+08:00"",\n            ""nextRunTime"": ""2022-11-20T18:32:01.7233546+08:00"",\n            ""numberOfRuns"": 1,\n            ""maxNumberOfRuns"": 0,\n            ""numberOfErrors"": 0,\n            ""maxNumberOfErrors"": 0,\n            ""numRetries"": 0,\n            ""retryTimeout"": 1000,\n            ""startNow"": true,\n            ""runOnStart"": false,\n            ""resetOnlyOnce"": true,\n            ""updatedTime"": ""2022-11-20T18:31:56.7233630+08:00""\n        }\n    ]\n}");\n\n// \u6dfb\u52a0\u5230\u4f5c\u4e1a\u8c03\u5ea6\u5668\u4e2d\nservices.AddSchedule(options =>\n{\n      options.AddJob(schedulerBuilder);\n});\n')),(0,i.kt)("p",null,"\u5982\u679c\u4f7f\u7528\u7684\u662f ",(0,i.kt)("inlineCode",{parentName:"p"},".NET7"),"\uff0c\u53ef\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},'"""')," \u907f\u514d\u8f6c\u4e49\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,3,14}",showLineNumbers:!0,"{1,3,14}":!0},'var schedulerBuilder = SchedulerBuilder.From("""\n{\n    "jobDetail": {\n        "jobId": "job1",\n        "groupName": null,\n        "jobType": "Furion.Application.MyJob",\n        "assemblyName": "Furion.Application",\n        "description": null,\n        "concurrent": true,\n        "includeAnnotations": false,\n        "properties": "{}",\n        "updatedTime": "2022-11-17T09:25:47.0471107+08:00"\n    },\n    "triggers": [\n        {\n            "triggerId": "job1_trigger1",\n            "triggerType": "Furion.Schedule.PeriodSecondsTrigger",\n            "assemblyName": "Furion",\n            "args": "[5]",\n            "description": null,\n            "status": 2,\n            "startTime": null,\n            "endTime": null,\n            "lastRunTime": "2022-11-20T18:31:56.6859410+08:00",\n            "nextRunTime": "2022-11-20T18:32:01.7233546+08:00",\n            "numberOfRuns": 1,\n            "maxNumberOfRuns": 0,\n            "numberOfErrors": 0,\n            "maxNumberOfErrors": 0,\n            "numRetries": 0,\n            "retryTimeout": 1000,\n            "startNow": true,\n            "runOnStart": false,\n            "resetOnlyOnce": true,\n            "updatedTime": "2022-11-20T18:31:56.7233630+08:00"\n        }\n    ]\n}\n""");\n')),(0,i.kt)("admonition",{title:"\u5173\u4e8e\u5c5e\u6027\u540d\u5339\u914d\u89c4\u5219",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u652f\u6301 ",(0,i.kt)("inlineCode",{parentName:"p"},"CamelCase\uff08\u9a7c\u5cf0\u547d\u540d\u6cd5\uff09"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Pascal\uff08\u5e15\u65af\u5361\u547d\u540d\u6cd5\uff09")," \u547d\u540d\u65b9\u5f0f\u3002"),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"\u4e0d\u652f\u6301 ",(0,i.kt)("inlineCode",{parentName:"strong"},"UnderScoreCase\uff08\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5\uff09"))," \uff0c\u5982 ",(0,i.kt)("inlineCode",{parentName:"p"},'"include_annotations": true'))),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u8fd8\u53ef\u4ee5\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Clone")," \u9759\u6001\u65b9\u6cd5\u4ece\u4e00\u4e2a ",(0,i.kt)("inlineCode",{parentName:"strong"},"SchedulerBuilder")," \u521b\u5efa"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var schedulerBuilder = SchedulerBuilder.Clone(fromSchedulerBuilder);\n")),(0,i.kt)("admonition",{title:"\u514b\u9686\u8bf4\u660e",type:"important"},(0,i.kt)("p",{parentName:"admonition"},"\u514b\u9686\u64cd\u4f5c\u5c06\u514b\u9686 ",(0,i.kt)("inlineCode",{parentName:"p"},"JobBuilder")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"TriggerBuilders"),"\uff0c\u540c\u65f6 ",(0,i.kt)("inlineCode",{parentName:"p"},"Behavior")," \u4f1a\u88ab\u6807\u8bb0\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"PersistenceBehavior.Appended"),"\u3002")),(0,i.kt)("h3",{id:"26163-\u8bbe\u7f6e\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668"},"26.1.6.3 \u8bbe\u7f6e\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Scheduler")," \u63d0\u4f9b\u4e86\u591a\u4e2a\u65b9\u6cd5\u64cd\u4f5c ",(0,i.kt)("inlineCode",{parentName:"p"},"JobBuilder")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"TriggerBuilder"),"\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5,8,11,14,16-17,20,22-23,26,28,30-33,36}",showLineNumbers:!0,"{2,5,8,11,14,16-17,20,22-23,26,28,30-33,36}":!0},'// \u83b7\u53d6\u5f53\u524d\u7684\u4f5c\u4e1a\u4fe1\u606f\u6784\u5efa\u5668\nvar jobBuilder = schedulerBuilder.GetJobBuilder();\n\n// \u66f4\u65b0\u5f53\u524d\u4f5c\u4e1a\u4fe1\u606f\u6784\u5efa\u5668\nschedulerBuilder.UpdateJobBuilder(jobBuilder.SetDescription("\u65b0\u7684\u63cf\u8ff0"));\n\n// \u83b7\u53d6\u6240\u6709\u7684\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\u96c6\u5408\nvar triggerBuilders = schedulerBuilder.GetTriggerBuilders();\n\n// \u83b7\u53d6\u5355\u4e2a\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nvar triggerBuilder = schedulerBuilder.GetTriggerBuilder("job1_trigger1");\n\n// \u65b0\u589e\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nschedulerBuilder.AddTriggerBuilder(Triggers.Minutely());\n// \u4e5f\u652f\u6301\u94fe\u5f0f\u6dfb\u52a0\u6216\u6dfb\u52a0\u591a\u4e2a\nschedulerBuilder.AddTriggerBuilder(Triggers.Minutely()).AddTriggerBuilder(Trigger.Hourly());\nschedulerBuilder.AddTriggerBuilders(Trigger.Minutely(), Trigger.Hourly());\n\n// \u66f4\u65b0\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nschedulerBuilder.UpdateTriggerBuilder(triggerBuilder.SetDescription("\u65b0\u7684\u89e6\u53d1\u5668\u63cf\u8ff0"));\n// \u4e5f\u652f\u6301\u94fe\u5f0f\u66f4\u65b0\u6216\u66f4\u65b0\u591a\u4e2a\nschedulerBuilder.UpdateTriggerBuilder(triggerBuilder1).UpdateTriggerBuilder(triggerBuilder2);\nschedulerBuilder.UpdateTriggerBuilders(triggerBuilder1, triggerBuilder2);\n\n// \u5220\u9664\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nschedulerBuilder.RemoveTriggerBuilder(triggerBuilder);\n// \u53ef\u4ee5\u6839\u636e\u4f5c\u4e1a\u89e6\u53d1\u5668 Id \u5220\u9664\nschedulerBuilder.RemoveTriggerBuilder("job1_trigger1", out var builder);\n// \u4e5f\u652f\u6301\u94fe\u5f0f\u5220\u9664\u6216\u5220\u9664\u591a\u4e2a\nschedulerBuilder.RemoveTriggerBuilder(triggerBuilder1).RemoveTriggerBuilder(triggerBuilder2);\nschedulerBuilder.RemoveTriggerBuilders(triggerBuilder1, triggerBuilder2);\nschedulerBuilder.RemoveTriggerBuilder("job1_trigger1", out var triggerBuilder).RemoveTriggerBuilder("job1_trigger2", out _);\nschedulerBuilder.RemoveTriggerBuilder("job1_trigger1", "job1_trigger2");\n\n// \u6e05\u7a7a\u6240\u6709\u4f5c\u4e1a\u89e6\u53d1\u5668\u6784\u5efa\u5668\nschedulerBuilder.ClearTriggerBuilders();\n')),(0,i.kt)("p",null,"\u9664\u4e86\u63d0\u4f9b\u4e0a\u9762\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"CURD")," \u64cd\u4f5c\u4ee5\u5916\uff0c\u8fd8\u63d0\u4f9b\u4e86\u53ef\u4ee5\u66f4\u6539 ",(0,i.kt)("inlineCode",{parentName:"p"},"SchedulerBuilder")," \u7684",(0,i.kt)("strong",{parentName:"p"},"\u6301\u4e45\u5316\u884c\u4e3a"),"\u7684\u65b9\u6cd5\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"// \u6807\u8bb0\u5f53\u524d\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668\u4e3a\u65b0\u589e\u72b6\u6001\nschedulerBuilder.Appended();  // \u9ed8\u8ba4\u503c\n// \u6807\u8bb0\u5f53\u524d\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668\u4e3a\u66f4\u65b0\u72b6\u6001\nschedulerBuilder.Updated();\n// \u6807\u8bb0\u5f53\u524d\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668\u4e3a\u5220\u9664\u72b6\u6001\nschedulerBuilder.Removed();\n")),(0,i.kt)("h3",{id:"26164-\u591a\u79cd\u683c\u5f0f\u5b57\u7b26\u4e32\u8f93\u51fa"},"26.1.6.4 \u591a\u79cd\u683c\u5f0f\u5b57\u7b26\u4e32\u8f93\u51fa"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Scheduler")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"SchedulerBuilder")," \u90fd\u63d0\u4f9b\u4e86\u591a\u79cd\u5c06\u81ea\u8eab\u8f6c\u6362\u6210\u7279\u5b9a\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u3002"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"strong"},"JSON")," \u5b57\u7b26\u4e32"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var json = schedulerBuilder.ConvertToJSON();\n")),(0,i.kt)("p",null,"\u5b57\u7b26\u4e32\u6253\u5370\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:"showLineNumbers {2,13}",showLineNumbers:!0,"{2,13}":!0},'{\n  "jobDetail": {\n    "jobId": "job1",\n    "groupName": null,\n    "jobType": "Furion.Application.MyJob",\n    "assemblyName": "Furion.Application",\n    "description": null,\n    "concurrent": true,\n    "includeAnnotations": false,\n    "properties": "{}",\n    "updatedTime": "2022-11-17T09:25:47.0471107+08:00"\n  },\n  "triggers": [\n    {\n      "triggerId": "job1_trigger1",\n      "jobId": null,\n      "triggerType": "Furion.Schedule.PeriodSecondsTrigger",\n      "assemblyName": "Furion",\n      "args": "[5]",\n      "description": null,\n      "status": 2,\n      "startTime": null,\n      "endTime": null,\n      "lastRunTime": "2022-11-20T18:31:56.6859410+08:00",\n      "nextRunTime": "2022-11-20T18:32:01.7233546+08:00",\n      "numberOfRuns": 1,\n      "maxNumberOfRuns": 0,\n      "numberOfErrors": 0,\n      "maxNumberOfErrors": 0,\n      "numRetries": 0,\n      "retryTimeout": 1000,\n      "startNow": true,\n      "runOnStart": false,\n      "resetOnlyOnce": true,\n      "updatedTime": "2022-11-20T18:31:56.7233630+08:00"\n    }\n  ]\n}\n')),(0,i.kt)("h2",{id:"2617-\u4f5c\u4e1a\u8c03\u5ea6\u5668-scheduleoptionsbuilder-\u914d\u7f6e\u9009\u9879"},"26.1.7 \u4f5c\u4e1a\u8c03\u5ea6\u5668 ",(0,i.kt)("inlineCode",{parentName:"h2"},"ScheduleOptionsBuilder")," \u914d\u7f6e\u9009\u9879"),(0,i.kt)("h3",{id:"26171-\u5173\u4e8e-scheduleoptionsbuilder"},"26.1.7.1 \u5173\u4e8e ",(0,i.kt)("inlineCode",{parentName:"h3"},"ScheduleOptionsBuilder")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"ScheduleOptionsBuilder")," \u914d\u7f6e\u9009\u9879\u4e3b\u8981\u662f\u7528\u6765\u521d\u59cb\u5316\u8c03\u5ea6\u4f5c\u4e1a\u670d\u52a1\u548c\u4f5c\u4e1a\u8c03\u5ea6\u5668\u76f8\u5173\u914d\u7f6e\u7684\u3002\u53ea\u4f5c\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"services.AddSchedule")," \u670d\u52a1\u6ce8\u518c\u7684\u914d\u7f6e\u53c2\u6570\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,8-9}",showLineNumbers:!0,"{2,8-9}":!0},"// \u901a\u8fc7\u59d4\u6258\u7684\u65b9\u5f0f\u914d\u7f6e\nservices.AddSchedule(options =>\n{\n      // options \u7c7b\u578b\u4e3a ScheduleOptionsBuilder\n});\n\n// \u81ea\u884c\u521b\u5efa\u5bf9\u8c61\u5b9e\u4f8b\u65b9\u5f0f\u914d\u7f6e\nvar scheduleOptionsBuilder = new ScheduleOptionsBuilder();\nservices.AddSchedule(scheduleOptionsBuilder);\n")),(0,i.kt)("h3",{id:"26172-scheduleoptionsbuilder-\u5185\u7f6e\u5c5e\u6027\u548c\u65b9\u6cd5"},"26.1.7.2 ",(0,i.kt)("inlineCode",{parentName:"h3"},"ScheduleOptionsBuilder")," \u5185\u7f6e\u5c5e\u6027\u548c\u65b9\u6cd5"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u5185\u7f6e\u5c5e\u6027\u914d\u7f6e"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {4,7,10,13}",showLineNumbers:!0,"{4,7,10,13}":!0},"services.AddSchedule(options =>\n{\n      // \u662f\u5426\u4f7f\u7528 UTC \u65f6\u95f4\uff0c\u8be5\u914d\u7f6e\u4e3b\u8981\u7528\u6765\u4f5c\u4e3a\u4f5c\u4e1a\u8c03\u5ea6\u5668\u68c0\u67e5\u65f6\u95f4\u683c\u5f0f\u7684\u4f9d\u636e\n      options.UseUtcTimestamp = false;\n\n      // \u662f\u5426\u8f93\u51fa\u4f5c\u4e1a\u8c03\u5ea6\u5668\u65e5\u5fd7\n      options.LogEnabled = true;\n\n      // \u914d\u7f6e\u8f93\u51fa SQL \u7684\u6570\u636e\u5e93\u7c7b\u578b\uff0cFurion 4.8.2.3+\n      options.BuildSqlType = SqlTypes.SqlServer;\n\n      // \u5b9a\u4e49\u672a\u6355\u83b7\u7684\u5f02\u5e38\uff0c\u901a\u5e38\u662f Task \u5f02\u5e38\n      options.UnobservedTaskExceptionHandler = (obj, args) =>\n      {\n      };\n});\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u5185\u7f6e\u65b9\u6cd5\u914d\u7f6e"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {4-18,21,24,27,30,36}",showLineNumbers:!0,"{4-18,21,24,27,30,36}":!0},'services.AddSchedule(options =>\n{\n      // \u6dfb\u52a0\u4f5c\u4e1a\n      options.AddJob(schedulerBuilder);\n      options.AddJob(schedulerBuilder, schedulerBuilder1, ...); // Furion 4.8.2.4+\n      options.AddJob(jobBuilder, triggerBuilder, ...);\n      options.AddJob<MyJob>(triggerBuilder, ...);\n      options.AddJob<MyJob>("\u4f5c\u4e1a Id", triggerBuilder, ...);\n      options.AddJob<MyJob>("\u4f5c\u4e1a Id", concurrent: true, triggerBuilder, ...);\n      options.AddJob<MyJob>(concurrent: true, triggerBuilder, ...);\n      options.AddJob(typeof(MyJob), triggerBuilder, ...);\n      options.AddJob(typeof(MyJob), "\u4f5c\u4e1a Id", triggerBuilder, ...);\n      options.AddJob(typeof(MyJob), "\u4f5c\u4e1a Id", concurrent: true, triggerBuilder, ...);\n      options.AddJob(typeof(MyJob), concurrent: true, triggerBuilder, ...);\n      options.AddJob((s, c, t) => {}, triggerBuilder, ...);\n      options.AddJob((s, c, t) => {}, "\u4f5c\u4e1a Id", triggerBuilder, ...);\n      options.AddJob((s, c, t) => {}, "\u4f5c\u4e1a Id", concurrent: true, triggerBuilder, ...);\n      options.AddJob((s, c, t) => {}, concurrent: true, triggerBuilder, ...);\n\n      // \u6dfb\u52a0\u4f5c\u4e1a\u6267\u884c\u76d1\u89c6\u5668\n      options.AddMonitor<YourJobMonitor>();\n\n      // \u6dfb\u52a0\u4f5c\u4e1a\u6267\u884c\u5668\n      options.AddExecutor<YourJobMonitor>();\n\n      // \u6dfb\u52a0\u4f5c\u4e1a\u6301\u4e45\u5316\u5668\n      options.AddPersistence<YourJobPersistence>();\n\n      // \u81ea\u5b9a\u4e49 JobDetail SQL \u8f93\u51fa\n      options.JobDetail.ConvertToSQL = (tableName, columnNames, jobDetail, behavior, naming) =>\n      {\n            // ...\n      };\n\n      // \u81ea\u5b9a\u4e49 Trigger SQL \u8f93\u51fa\n      options.Trigger.ConvertToSQL = (tableName, columnNames, trigger, behavior, naming) =>\n      {\n            // ...\n      };\n});\n')),(0,i.kt)("h2",{id:"2618-\u4f5c\u4e1a\u76d1\u89c6\u5668-ijobmonitor"},"26.1.8 \u4f5c\u4e1a\u76d1\u89c6\u5668 ",(0,i.kt)("inlineCode",{parentName:"h2"},"IJobMonitor")),(0,i.kt)("p",null,"\u8c03\u5ea6\u4f5c\u4e1a\u670d\u52a1\u63d0\u4f9b\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"IJobMonitor")," \u76d1\u89c6\u5668\u63a5\u53e3\uff0c\u5b9e\u73b0\u8be5\u63a5\u53e3\u53ef\u4ee5\u76d1\u89c6\u6240\u6709\u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\u6267\u884c\u4e8b\u4ef6\uff0c\u5305\u62ec ",(0,i.kt)("inlineCode",{parentName:"p"},"\u6267\u884c\u4e4b\u524d\u3001\u6267\u884c\u4e4b\u540e\uff0c\u6267\u884c\u5f02\u5e38"),"\u3002"),(0,i.kt)("p",null,"\u5982\u6dfb\u52a0 ",(0,i.kt)("inlineCode",{parentName:"p"},"YourJobMonitor"),"\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers  {1,9,15}",showLineNumbers:!0,"":!0,"{1,9,15}":!0},'public class YourJobMonitor : IJobMonitor\n{\n    private readonly ILogger<YourJobMonitor> _logger;\n    public YourJobMonitor(ILogger<YourJobMonitor> logger)\n    {\n        _logger = logger;\n    }\n\n    public Task OnExecutingAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        _logger.LogInformation("\u6267\u884c\u4e4b\u524d\uff1a{JobId} {TriggerId}", context.JobId, context.TriggerId);\n        return Task.CompletedTask;\n    }\n\n    public Task OnExecutedAsync(JobExecutedContext context, CancellationToken stoppingToken)\n    {\n        _logger.LogInformation("\u6267\u884c\u4e4b\u540e\uff1a{JobId} {TriggerId}", context.JobId, context.TriggerId);\n\n        if (context.Exception != null)\n        {\n            _logger.LogError(context.Exception, "\u6267\u884c\u51fa\u9519\u5566\uff1a{JobId} {TriggerId}", context.JobId, context.TriggerId);\n        }\n\n        return Task.CompletedTask;\n    }\n}\n')),(0,i.kt)("p",null,"\u6700\u540e\uff0c\u5728\u6ce8\u518c ",(0,i.kt)("inlineCode",{parentName:"p"},"Schedule")," \u670d\u52a1\u4e2d\u6ce8\u518c ",(0,i.kt)("inlineCode",{parentName:"p"},"YourJobMonitor"),"\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers  {4}",showLineNumbers:!0,"":!0,"{4}":!0},"services.AddSchedule(options =>\n{\n    // \u6dfb\u52a0\u4f5c\u4e1a\u6267\u884c\u76d1\u89c6\u5668\n    options.AddMonitor<YourJobMonitor>();\n});\n")),(0,i.kt)("p",null,"\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,6}",showLineNumbers:!0,"{2,6}":!0},"info: 2022-11-21 13:41:49.2144716 +08:00 \u661f\u671f\u4e00 L ConsoleApp32.YourJobMonitor[0] #9\n      \u6267\u884c\u4e4b\u524d\uff1ajob1 job1_trigger1\ninfo: 2022-11-21 13:41:49.2216598 +08:00 \u661f\u671f\u4e00 L ConsoleApp32.MyJob[0] #9\n      job1 job1_trigger1 2022/11/21 13:41:49  5000ms\ninfo: 2022-11-21 13:41:49.2249096 +08:00 \u661f\u671f\u4e00 L ConsoleApp32.YourJobMonitor[0] #9\n      \u6267\u884c\u4e4b\u540e\uff1ajob1 job1_trigger1\n")),(0,i.kt)("h3",{id:"26181-\u5173\u4e8e\u53c2\u6570-jobexecutioncontext"},"26.1.8.1 \u5173\u4e8e\u53c2\u6570 ",(0,i.kt)("inlineCode",{parentName:"h3"},"JobExecutionContext")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"IJobMonitor")," \u63d0\u4f9b\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"OnExecutingAsync")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"OnExecutedAsync")," \u63a5\u53e3\u65b9\u6cd5\u90fd\u5305\u542b\u4e00\u4e2a ",(0,i.kt)("inlineCode",{parentName:"p"},"context")," \u53c2\u6570\uff0c\u524d\u8005\u662f ",(0,i.kt)("inlineCode",{parentName:"p"},"JobExecutingContext"),"\uff0c\u540e\u8005\u662f ",(0,i.kt)("inlineCode",{parentName:"p"},"JobExecutedContext"),"\uff0c\u5b83\u4eec\u90fd\u6709\u4e00\u4e2a\u5171\u540c\u7684\u57fa\u7c7b ",(0,i.kt)("inlineCode",{parentName:"p"},"JobExecutionContext"),"\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"JobExecutionContext")," \u63d0\u4f9b\u4e86\u4ee5\u4e0b\u516c\u5171\u5c5e\u6027\u548c\u516c\u5171\u65b9\u6cd5:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"JobExecutionContext")," \u5c5e\u6027\u5217\u8868"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"JobId"),"\uff1a\u4f5c\u4e1a ",(0,i.kt)("inlineCode",{parentName:"li"},"Id")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"TriggerId"),"\uff1a\u5f53\u524d\u89e6\u53d1\u5668 ",(0,i.kt)("inlineCode",{parentName:"li"},"Id")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"JobDetail"),"\uff1a\u4f5c\u4e1a\u4fe1\u606f"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Trigger"),"\uff1a\u4f5c\u4e1a\u89e6\u53d1\u5668"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"OccurrenceTime"),"\uff1a\u8c03\u5ea6\u5668\u68c0\u67e5\u65f6\u95f4\uff0c\u6700\u51c6\u786e\u7684\u8bb0\u5f55\u65f6\u95f4"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"JobExecutionContext")," \u65b9\u6cd5\u5217\u8868"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},".ConvertToJSON(naming)"),"\uff1a\u5c06\u4f5c\u4e1a\u8ba1\u5212\u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"li"},"JSON")," \u5b57\u7b26\u4e32")))),(0,i.kt)("p",null),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"JobExecutingContext"))," \u5728\u57fa\u7c7b\u57fa\u7840\u4e0a\u62d3\u5c55\u4e86 ",(0,i.kt)("inlineCode",{parentName:"li"},"ExecutingTime")," \u5c5e\u6027\uff1a",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ExecutingTime"),"\uff1a\u6267\u884c\u524d\u65f6\u95f4"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"JobExecutedContext"))," \u5219\u5728\u57fa\u7c7b\u57fa\u7840\u4e0a\u62d3\u5c55\u4e86 ",(0,i.kt)("inlineCode",{parentName:"li"},"ExecutedTime")," \u548c ",(0,i.kt)("inlineCode",{parentName:"li"},"Exception")," \u5c5e\u6027\uff1a",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ExecutedTime"),"\uff1a\u6267\u884c\u540e\u65f6\u95f4"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Exception"),"\uff1a\u6267\u884c\u5f02\u5e38")))),(0,i.kt)("h2",{id:"2619-\u4f5c\u4e1a\u6267\u884c\u5668-ijobexecutor"},"26.1.9 \u4f5c\u4e1a\u6267\u884c\u5668 ",(0,i.kt)("inlineCode",{parentName:"h2"},"IJobExecutor")),(0,i.kt)("p",null,"\u8c03\u5ea6\u4f5c\u4e1a\u670d\u52a1\u63d0\u4f9b\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"IJobExecutor")," \u6267\u884c\u5668\u63a5\u53e3\uff0c\u53ef\u4ee5\u8ba9\u5f00\u53d1\u8005\u81ea\u5b9a\u4e49\u4f5c\u4e1a\u5904\u7406\u51fd\u6570\u6267\u884c\u7b56\u7565\uff0c\u5982 ",(0,i.kt)("inlineCode",{parentName:"p"},"\u8d85\u65f6\u63a7\u5236\uff0c\u5931\u8d25\u91cd\u8bd5\u3001\u7194\u65ad\u7b49\u7b49"),"\u3002"),(0,i.kt)("p",null,"\u5982\u6dfb\u52a0 ",(0,i.kt)("inlineCode",{parentName:"p"},"YourJobExecutor"),"\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers  {1,3,6-9}",showLineNumbers:!0,"":!0,"{1,3,6-9}":!0},"public class YourJobExecutor : IJobExecutor\n{\n    public async Task ExecuteAsync(JobExecutingContext context, IJob jobHandler, CancellationToken stoppingToken)\n    {\n        // \u5b9e\u73b0\u5931\u8d25\u91cd\u8bd5\u7b56\u7565\uff0c\u5982\u5931\u8d25\u91cd\u8bd5 3 \u6b21\n        await Retry.InvokeAsync(async () =>\n        {\n            await jobHandler.ExecuteAsync(context, stoppingToken);\n        }, 3, 1000);\n    }\n}\n")),(0,i.kt)("p",null,"\u63a5\u7740\u6a21\u62df ",(0,i.kt)("inlineCode",{parentName:"p"},"MyJob")," \u6267\u884c\u51fa\u9519\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,14}",showLineNumbers:!0,"{1,14}":!0},'public class MyJob : IJob\n{\n    private readonly ILogger<MyJob> _logger;\n\n    public MyJob(ILogger<MyJob> logger)\n    {\n        _logger = logger;\n    }\n\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        _logger.LogInformation($"{context.JobId} {context.TriggerId} {context.OccurrenceTime} {context.Trigger}");\n\n        throw new Exception("\u6a21\u62df\u51fa\u9519");\n\n        await Task.CompletedTask;\n    }\n}\n')),(0,i.kt)("p",null,"\u6700\u540e\uff0c\u5728\u6ce8\u518c ",(0,i.kt)("inlineCode",{parentName:"p"},"Schedule")," \u670d\u52a1\u4e2d\u6ce8\u518c ",(0,i.kt)("inlineCode",{parentName:"p"},"YourJobExecutor"),"\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers  {5}",showLineNumbers:!0,"":!0,"{5}":!0},"services.AddSchedule(options =>\n{\n      options.AddMonitor<YourJobMonitor>();\n      // \u6dfb\u52a0\u4f5c\u4e1a\u6267\u884c\u5668\n      options.AddExecutor<YourJobExecutor>();\n      options.AddJob<MyJob>(Triggers.PeriodSeconds(10));\n});\n")),(0,i.kt)("p",null,"\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,5-10,24,26}",showLineNumbers:!0,"{2,5-10,24,26}":!0},"info: 2022-11-21 14:10:33.3382344 +08:00 \u661f\u671f\u4e00 L ConsoleApp32.YourJobMonitor[0] #14\n      \u6267\u884c\u4e4b\u524d\uff1ajob1 job1_trigger1\ninfo: 2022-11-21 14:10:33.3447855 +08:00 \u661f\u671f\u4e00 L ConsoleApp32.MyJob[0] #14\n      job1 job1_trigger1 2022/11/21 14:10:33  10000ms\ninfo: 2022-11-21 14:10:34.4217342 +08:00 \u661f\u671f\u4e00 L ConsoleApp32.MyJob[0] #14\n      job1 job1_trigger1 2022/11/21 14:10:33  10000ms\ninfo: 2022-11-21 14:10:35.4952165 +08:00 \u661f\u671f\u4e00 L ConsoleApp32.MyJob[0] #14\n      job1 job1_trigger1 2022/11/21 14:10:33  10000ms\ninfo: 2022-11-21 14:10:36.5719440 +08:00 \u661f\u671f\u4e00 L ConsoleApp32.MyJob[0] #14\n      job1 job1_trigger1 2022/11/21 14:10:33  10000ms\nfail: 2022-11-21 14:10:36.7388113 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #14\n      Error occurred executing job1 job1_trigger1< 10000ms>.\n      ++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n      System.Exception: \u6a21\u62df\u51fa\u9519\n         at ConsoleApp32.MyJob.ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken) in D:\\Workplaces\\Study\\CSharp\\ConsoleApp32\\ConsoleApp32\\MyJob.cs:line 19\n         at ConsoleApp32.YourJobExecutor.<>c__DisplayClass0_0.<<ExecuteAsync>b__0>d.MoveNext() in D:\\Workplaces\\Study\\CSharp\\ConsoleApp32\\ConsoleApp32\\YourJobExecutor.cs:line 18\n      --- End of stack trace from previous location ---\n         at Furion.FriendlyException.Retry.InvokeAsync(Func`1 action, Int32 numRetries, Int32 retryTimeout, Boolean finalThrow, Type[] exceptionTypes, Func`2 fallbackPolicy) in D:\\Workplaces\\OpenSources\\Furion\\framework\\Furion\\FriendlyException\\Retry.cs:line 84\n         at Furion.FriendlyException.Retry.InvokeAsync(Func`1 action, Int32 numRetries, Int32 retryTimeout, Boolean finalThrow, Type[] exceptionTypes, Func`2 fallbackPolicy) in D:\\Workplaces\\OpenSources\\Furion\\framework\\Furion\\FriendlyException\\Retry.cs:line 95\n         at ConsoleApp32.YourJobExecutor.ExecuteAsync(JobExecutingContext context, IJob jobHandler, CancellationToken stoppingToken) in D:\\Workplaces\\Study\\CSharp\\ConsoleApp32\\ConsoleApp32\\YourJobExecutor.cs:line 16\n         at Furion.Schedule.ScheduleHostedService.<>c__DisplayClass16_2.<<BackgroundProcessing>b__1>d.MoveNext() in D:\\Workplaces\\OpenSources\\Furion\\framework\\Furion\\Schedule\\HostedServices\\ScheduleHostedService.cs:line 188\n      ++++++++++++++++++++++++++++++++++++++++++++++++++++++++\ninfo: 2022-11-21 14:10:36.7413303 +08:00 \u661f\u671f\u4e00 L ConsoleApp32.YourJobMonitor[0] #14\n      \u6267\u884c\u4e4b\u540e\uff1ajob1 job1_trigger1\nfail: 2022-11-21 14:10:36.7446968 +08:00 \u661f\u671f\u4e00 L ConsoleApp32.YourJobMonitor[0] #14\n      \u6267\u884c\u51fa\u9519\u5566\uff1ajob1 job1_trigger1\n      ++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n      System.InvalidOperationException: Error occurred executing job1 job1_trigger1< 10000ms>.\n       ---\x3e System.Exception: \u6a21\u62df\u51fa\u9519\n         at ConsoleApp32.MyJob.ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken) in D:\\Workplaces\\Study\\CSharp\\ConsoleApp32\\ConsoleApp32\\MyJob.cs:line 19\n         at ConsoleApp32.YourJobExecutor.<>c__DisplayClass0_0.<<ExecuteAsync>b__0>d.MoveNext() in D:\\Workplaces\\Study\\CSharp\\ConsoleApp32\\ConsoleApp32\\YourJobExecutor.cs:line 18\n      --- End of stack trace from previous location ---\n         at Furion.FriendlyException.Retry.InvokeAsync(Func`1 action, Int32 numRetries, Int32 retryTimeout, Boolean finalThrow, Type[] exceptionTypes, Func`2 fallbackPolicy) in D:\\Workplaces\\OpenSources\\Furion\\framework\\Furion\\FriendlyException\\Retry.cs:line 84\n         at Furion.FriendlyException.Retry.InvokeAsync(Func`1 action, Int32 numRetries, Int32 retryTimeout, Boolean finalThrow, Type[] exceptionTypes, Func`2 fallbackPolicy) in D:\\Workplaces\\OpenSources\\Furion\\framework\\Furion\\FriendlyException\\Retry.cs:line 95\n         at ConsoleApp32.YourJobExecutor.ExecuteAsync(JobExecutingContext context, IJob jobHandler, CancellationToken stoppingToken) in D:\\Workplaces\\Study\\CSharp\\ConsoleApp32\\ConsoleApp32\\YourJobExecutor.cs:line 16\n         at Furion.Schedule.ScheduleHostedService.<>c__DisplayClass16_2.<<BackgroundProcessing>b__1>d.MoveNext() in D:\\Workplaces\\OpenSources\\Furion\\framework\\Furion\\Schedule\\HostedServices\\ScheduleHostedService.cs:line 188\n         --- End of inner exception stack trace ---\n      ++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n")),(0,i.kt)("h2",{id:"26110-\u4f5c\u4e1a\u8ba1\u5212\u5de5\u5382-ischedulerfactory"},"26.1.10 \u4f5c\u4e1a\u8ba1\u5212\u5de5\u5382 ",(0,i.kt)("inlineCode",{parentName:"h2"},"ISchedulerFactory")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8ba1\u5212\u5de5\u5382\u63d0\u4f9b\u4e86\u7a0b\u5e8f\u8fd0\u884c\u65f6\u64cd\u4f5c\u4f5c\u4e1a\u8c03\u5ea6\u5668\uff0c\u4f5c\u4e1a\u8ba1\u5212\u7b49\u8bf8\u591a\u65b9\u6cd5\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"ISchedulerFactory")," \u88ab\u6ce8\u518c\u4e3a\u5355\u4f8b\u670d\u52a1\uff0c\u5141\u8bb8\u5728\u4efb\u4f55\u53ef\u4f9d\u8d56\u6ce8\u5165\u7684\u670d\u52a1\u83b7\u53d6\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {4,9}",showLineNumbers:!0,"{4,9}":!0},"public class YourService: IYourService\n{\n    private readonly ISchedulerFactory _schedulerFactory;\n    public YourService(ISchedulerFactory schedulerFactory)\n    {\n        _schedulerFactory = schedulerFactory;\n    }\n\n    public void SomeMethod([FromServices]ISchedulerFactory schedulerFactory)\n    {\n    }\n}\n")),(0,i.kt)("h3",{id:"261101-\u67e5\u627e\u6240\u6709\u4f5c\u4e1a"},"26.1.10.1 \u67e5\u627e\u6240\u6709\u4f5c\u4e1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5,8-9}",showLineNumbers:!0,"{2,5,8-9}":!0},'// \u8fd4\u56de\u7684\u662f IScheduler \u96c6\u5408\uff0c\u4e0d\u80fd\u8bbf\u95ee JobDetail \u548c Triggers \u5c5e\u6027\nvar jobs = _schedulerFactory.GetJobs();\n\n// \u8fd4\u56de\u7684\u662f SchedulerModel \u96c6\u5408\uff0c\u53ef\u4ee5\u8bbf\u95ee JobDetail \u548c Triggers \u5c5e\u6027\nvar jobsOfModels = _schedulerFactory.GetJobsOfModels();\n\n// \u8fd8\u53ef\u4ee5\u901a\u8fc7 group \u67e5\u627e\nvar jobs = _schedulerFactory.GetJobs("group1");\nvar jobsOfModels = _schedulerFactory.GetJobsOfModels("group1");\n')),(0,i.kt)("h3",{id:"261102-\u67e5\u627e\u4e0b\u4e00\u4e2a\u89e6\u53d1\u7684\u4f5c\u4e1a"},"26.1.10.2 \u67e5\u627e\u4e0b\u4e00\u4e2a\u89e6\u53d1\u7684\u4f5c\u4e1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5,8,9}",showLineNumbers:!0,"{2,5,8,9}":!0},'// \u8fd4\u56de\u7684\u662f IScheduler \u96c6\u5408\uff0c\u4e0d\u80fd\u8bbf\u95ee JobDetail \u548c Triggers \u5c5e\u6027\nvar nextRunJobs = _schedulerFactory.GetNextRunJobs(DateTime.Now);\n\n// \u8fd4\u56de\u7684\u662f SchedulerModel \u96c6\u5408\uff0c\u53ef\u4ee5\u8bbf\u95ee JobDetail \u548c Triggers \u5c5e\u6027\nvar nextRunJobsOfModels = _schedulerFactory.GetNextRunJobsOfModels(DateTime.Now);\n\n// \u8fd8\u53ef\u4ee5\u901a\u8fc7 group \u67e5\u627e\nvar nextRunJobs = _schedulerFactory.GetNextRunJobs("group1");\nvar nextRunJobsOfModels = _schedulerFactory.GetNextRunJobsOfModels("group1");\n')),(0,i.kt)("h3",{id:"261103-\u83b7\u53d6\u5355\u4e2a\u4f5c\u4e1a"},"26.1.10.3 \u83b7\u53d6\u5355\u4e2a\u4f5c\u4e1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5}",showLineNumbers:!0,"{2,5}":!0},'// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u5b58\u5728\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.NotFound\nvar scheduleResult = _schedulerFactory.TryGetJob("job1", out var scheduler);\n\n// \u8fd4\u56de IScheduler \u7c7b\u578b\nvar scheduler = _schedulerFactory.GetJob("job1");\n')),(0,i.kt)("h3",{id:"261104-\u6dfb\u52a0\u4f5c\u4e1a"},"26.1.10.4 \u6dfb\u52a0\u4f5c\u4e1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"SchedulerBuilder")," \u65b9\u5f0f"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5}",showLineNumbers:!0,"{2,5}":!0},"// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild\nvar scheduleResult = _schedulerFactory.TryAddJob(schedulerBuilder, out var scheduler);\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\n_schedulerFactory.AddJob(schedulerBuilder);\n")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u6dfb\u52a0\u6210\u529f\u6216\u5931\u8d25\u5206\u522b\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4}",showLineNumbers:!0,"{2,4}":!0},"info: 2022-11-21 16:24:03.5834532 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #8\n      The Scheduler of <job1> successfully added to the schedule.\nwarn: 2022-11-21 16:24:03.5876747 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #8\n      The JobId of <job1> already exists.\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"JobBuilder")," + ",(0,i.kt)("inlineCode",{parentName:"strong"},"TriggerBuilder")," \u65b9\u5f0f"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,7}",showLineNumbers:!0,"{2,7}":!0},"// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild\nvar schedulerResult = _schedulerFactory.TryAddJob(JobBuilder.Create<MyJob>()\n            , new[] { Triggers.PeriodSeconds(10) }\n            , out var scheduler);\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\n_schedulerFactory.AddJob(JobBuilder.Create<MyJob>()\n            , Triggers.PeriodSeconds(10));\n")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u6dfb\u52a0\u6210\u529f\u6216\u5931\u8d25\u5206\u522b\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4}",showLineNumbers:!0,"{2,4}":!0},"info: 2022-11-21 16:24:03.5834532 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #8\n      The Scheduler of <job1> successfully added to the schedule.\nwarn: 2022-11-21 16:24:03.5876747 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #8\n      The JobId of <job1> already exists.\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"IJob")," \u6cdb\u578b\u65b9\u5f0f"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,6}",showLineNumbers:!0,"{2,6}":!0},"// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild\nvar schedulerResult = _schedulerFactory.TryAddJob<MyJob>(new[] { Triggers.PeriodSeconds(10) }\n        , out var scheduler);\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\n_schedulerFactory.AddJob<MyJob>(Triggers.PeriodSeconds(10));\n")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u6dfb\u52a0\u6210\u529f\u6216\u5931\u8d25\u5206\u522b\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4}",showLineNumbers:!0,"{2,4}":!0},"info: 2022-11-21 16:24:03.5834532 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #8\n      The Scheduler of <job1> successfully added to the schedule.\nwarn: 2022-11-21 16:24:03.5876747 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #8\n      The JobId of <job1> already exists.\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"IJob")," \u6cdb\u578b + ",(0,i.kt)("inlineCode",{parentName:"strong"},"JobId")," \u65b9\u5f0f"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,6}",showLineNumbers:!0,"{2,6}":!0},'// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild\nvar schedulerResult = _schedulerFactory.TryAddJob<MyJob>("job1", new[] { Triggers.PeriodSeconds(10) }\n        , out var scheduler);\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\n_schedulerFactory.AddJob<MyJob>("job1", Triggers.PeriodSeconds(10));\n')),(0,i.kt)("p",null,"\u4f5c\u4e1a\u6dfb\u52a0\u6210\u529f\u6216\u5931\u8d25\u5206\u522b\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4}",showLineNumbers:!0,"{2,4}":!0},"info: 2022-11-21 16:24:03.5834532 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #8\n      The Scheduler of <job1> successfully added to the schedule.\nwarn: 2022-11-21 16:24:03.5876747 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #8\n      The JobId of <job1> already exists.\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"IJob")," \u6cdb\u578b + ",(0,i.kt)("inlineCode",{parentName:"strong"},"JobId")," + ",(0,i.kt)("inlineCode",{parentName:"strong"},"Concurrent")," \u65b9\u5f0f"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,7}",showLineNumbers:!0,"{2,7}":!0},'// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild\nvar schedulerResult = _schedulerFactory.TryAddJob<MyJob>("job1", concurrent: true\n        , new[] { Triggers.PeriodSeconds(10) }\n        , out var scheduler);\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\n_schedulerFactory.AddJob<MyJob>("job1", concurrent: true\n        , Triggers.PeriodSeconds(10));\n')),(0,i.kt)("p",null,"\u4f5c\u4e1a\u6dfb\u52a0\u6210\u529f\u6216\u5931\u8d25\u5206\u522b\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4}",showLineNumbers:!0,"{2,4}":!0},"info: 2022-11-21 16:24:03.5834532 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #8\n      The Scheduler of <job1> successfully added to the schedule.\nwarn: 2022-11-21 16:24:03.5876747 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #8\n      The JobId of <job1> already exists.\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"IJob")," \u6cdb\u578b + ",(0,i.kt)("inlineCode",{parentName:"strong"},"Concurrent")," \u65b9\u5f0f"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,7}",showLineNumbers:!0,"{2,7}":!0},"// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild\nvar schedulerResult = _schedulerFactory.TryAddJob<MyJob>(concurrent: true\n        , new[] { Triggers.PeriodSeconds(10) }\n        , out var scheduler);\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\n_schedulerFactory.AddJob<MyJob>(concurrent: true\n        , Triggers.PeriodSeconds(10));\n")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u6dfb\u52a0\u6210\u529f\u6216\u5931\u8d25\u5206\u522b\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4}",showLineNumbers:!0,"{2,4}":!0},"info: 2022-11-21 16:24:03.5834532 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #8\n      The Scheduler of <job1> successfully added to the schedule.\nwarn: 2022-11-21 16:24:03.5876747 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #8\n      The JobId of <job1> already exists.\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u8fd8\u6709\u5176\u4ed6\u66f4\u591a\u91cd\u8f7d\u65b9\u5f0f"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,10}",showLineNumbers:!0,"{1,10}":!0},'// Type \u7c7b\u578b\u65b9\u5f0f\n_schedulerFactory.TryAddJob(typeof(MyJob), new[] { Triggers.PeriodSeconds(10) }, out var scheduler);\n_schedulerFactory.AddJob(typeof(MyJob), Triggers.PeriodSeconds(10));\n_schedulerFactory.TryAddJob(typeof(MyJob), "\u4f5c\u4e1a Id", new[] { Triggers.PeriodSeconds(10) }, out var scheduler);\n_schedulerFactory.AddJob(typeof(MyJob), "\u4f5c\u4e1a Id", Triggers.PeriodSeconds(10));\n_schedulerFactory.TryAddJob(typeof(MyJob), "\u4f5c\u4e1a Id", true, new[] { Triggers.PeriodSeconds(10) }, out var scheduler);\n_schedulerFactory.AddJob(typeof(MyJob), "\u4f5c\u4e1a Id", true, Triggers.PeriodSeconds(10));\n_schedulerFactory.TryAddJob(typeof(MyJob), true, new[] { Triggers.PeriodSeconds(10) }, out var scheduler);\n_schedulerFactory.AddJob(typeof(MyJob), true, Triggers.PeriodSeconds(10));\n// \u59d4\u6258\u65b9\u5f0f\n_schedulerFactory.TryAddJob((s, c, t) => {}, new[] { Triggers.PeriodSeconds(10) }, out var scheduler);\n_schedulerFactory.AddJob((s, c, t) => {}, Triggers.PeriodSeconds(10));\n_schedulerFactory.TryAddJob((s, c, t) => {}, "\u4f5c\u4e1a Id", new[] { Triggers.PeriodSeconds(10) }, out var scheduler);\n_schedulerFactory.AddJob((s, c, t) => {}, "\u4f5c\u4e1a Id", Triggers.PeriodSeconds(10));\n_schedulerFactory.TryAddJob((s, c, t) => {}, "\u4f5c\u4e1a Id", true, new[] { Triggers.PeriodSeconds(10) }, out var scheduler);\n_schedulerFactory.AddJob((s, c, t) => {}, "\u4f5c\u4e1a Id", true, Triggers.PeriodSeconds(10));\n_schedulerFactory.TryAddJob((s, c, t) => {}, true, new[] { Triggers.PeriodSeconds(10) }, out var scheduler);\n_schedulerFactory.AddJob((s, c, t) => {}, true, Triggers.PeriodSeconds(10));\n')),(0,i.kt)("h3",{id:"261105-\u66f4\u65b0\u4f5c\u4e1a"},"26.1.10.5 \u66f4\u65b0\u4f5c\u4e1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"SchedulerBuilder")," \u65b9\u5f0f"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5}",showLineNumbers:!0,"{2,5}":!0},"// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild\nvar scheduleResult = _schedulerFactory.TryUpdateJob(schedulerBuilder, out var scheduler);\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\n_schedulerFactory.UpdateJob(schedulerBuilder);\n")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u66f4\u65b0\u6210\u529f\u6216\u5931\u8d25\u5206\u522b\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4,6}",showLineNumbers:!0,"{2,4,6}":!0},"info: 2022-11-21 18:13:13.0098096 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #14\n      The Scheduler of <job1> successfully updated to the schedule.\nwarn: 2022-11-21 18:13:18.0098096 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #14\n      The Scheduler of <job1> is not found.\nwarn: 2022-11-21 18:13:23.0098096 +08:00 \u661f\u671f\u4e00 L System.Logging.ScheduleService[0] #14\n      The Scheduler of <job1> update failed.\n")),(0,i.kt)("admonition",{title:"\u5173\u4e8e\u66f4\u65b0\u4f5c\u4e1a\u7684\u80cc\u540e\u884c\u4e3a",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u66f4\u65b0\u4f5c\u4e1a\u9700\u8981\u4f20\u9012 ",(0,i.kt)("inlineCode",{parentName:"p"},"SchedulerBuilder")," \u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u53ef\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"GetJob(jobId)")," \u83b7\u53d6\uff0c\u5982\uff1a"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},'var schedulerBuilder = _schedulerFactory.GetJob("jobId")?.GetBuilder();\n')),(0,i.kt)("p",{parentName:"admonition"},"\u6b64\u65f6\u5b83\u7684\u5185\u90e8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Behavior")," \u5c5e\u6027\u88ab\u6807\u8bb0\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"PersistenceBehavior.Updated"),"\uff0c\u4e5f\u5c31\u662f\u66f4\u65b0\u72b6\u6001\uff0c\u90a3\u4e48\u5bf9\u4e8e\u8fd9\u4e2a\u6784\u5efa\u5668\u7684\u4efb\u4f55\u64cd\u4f5c\u90fd\u4f1a\u6807\u8bb0\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"\u66f4\u65b0")," \u64cd\u4f5c\u3002"),(0,i.kt)("p",{parentName:"admonition"},"\u5982\u679c\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},".Appended()")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"p"},".Removed()")," \u65b9\u6cd5\u6807\u8bb0\u4e4b\u540e\uff0c\u90a3\u4e48\u5b83\u7684\u64cd\u4f5c\u884c\u4e3a\u5c31\u53d1\u751f\u53d8\u5316\u4e86\u3002"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u5982\u679c\u88ab\u6807\u8bb0\u4e3a ",(0,i.kt)("inlineCode",{parentName:"strong"},".Appended()")),"\uff0c\u5982\uff1a")),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"schedulerBuilder.Appended();\n")),(0,i.kt)("p",{parentName:"admonition"},"\u90a3\u4e48\u5b83\u5c06\u8fdb\u884c ",(0,i.kt)("inlineCode",{parentName:"p"},"\u65b0\u589e")," \u64cd\u4f5c\uff0c\u4e5f\u5c31\u662f\u5185\u90e8\u4f1a\u8c03\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"TryAddJob(schedulerBuilder)")," \u64cd\u4f5c\u3002"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u5982\u679c\u88ab\u6807\u8bb0\u4e3a ",(0,i.kt)("inlineCode",{parentName:"strong"},".Removed()")),"\uff0c\u5982\uff1a")),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"schedulerBuilder.Removed();\n")),(0,i.kt)("p",{parentName:"admonition"},"\u90a3\u4e48\u5b83\u5c06\u8fdb\u884c ",(0,i.kt)("inlineCode",{parentName:"p"},"\u5220\u9664")," \u64cd\u4f5c\uff0c\u4e5f\u5c31\u662f\u5185\u90e8\u4f1a\u8c03\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"TryRemoveJob(schedulerBuilder)")," \u64cd\u4f5c\u3002"),(0,i.kt)("p",{parentName:"admonition"},"\u6bd4\u5982\u4ee5\u4e0b\u7684\u4ee3\u7801\u5b9e\u5219\u662f ",(0,i.kt)("inlineCode",{parentName:"p"},"\u65b0\u589e")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"p"},"\u5220\u9664")," \u64cd\u4f5c\uff1a"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3,7}",showLineNumbers:!0,"{3,7}":!0},'// \u5b9e\u9645\u505a\u65b0\u589e\u64cd\u4f5c\nvar scheduleResult = _schedulerFactory.TryUpdateJob(\n      SchedulerBuilder.Create(JobBuilder.Create<MyJob>())); // Create \u65b9\u6cd5\u9ed8\u8ba4\u6807\u8bb0\u4e3a Appended\n\n// \u5b9e\u9645\u505a\u5220\u9664\u64cd\u4f5c\nvar schedulerBuilder = _schedulerFactory.GetJob("jobId")?.GetBuilder();\nvar scheduleResult = _schedulerFactory.TryUpdateJob(schedulerBuilder.Removed()); // \u6807\u8bb0\u4e3a Removed\n'))),(0,i.kt)("h3",{id:"261106-\u5220\u9664\u4f5c\u4e1a"},"26.1.10.6 \u5220\u9664\u4f5c\u4e1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"JobId")," \u65b9\u5f0f"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5}",showLineNumbers:!0,"{2,5}":!0},'// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild \u6216\u8005 ScheduleResult.NotFound\nvar schedulerResult = _schedulerFactory.TryRemoveJob("job1", out var scheduler);\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\n_schedulerFactory.RemoveJob("job1");\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"strong"},"IScheduler")," \u65b9\u5f0f"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5}",showLineNumbers:!0,"{2,5}":!0},"// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild \u6216\u8005 ScheduleResult.NotFound\nvar schedulerResult = _schedulerFactory.TryRemoveJob(scheduler);\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\n_schedulerFactory.RemoveJob(scheduler);\n")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u5220\u9664\u6210\u529f\u6216\u5931\u8d25\u5206\u522b\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4,6}",showLineNumbers:!0,"{2,4,6}":!0},"info: 2022-11-22 09:25:17.4763941 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #4\n      The Scheduler of <job1> successfully removed to the schedule.\nwarn: 2022-11-22 09:28:56.2241923 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #9\n      The Scheduler of <job12> is not found.\nwarn: 2022-11-22 09:29:01.2241923 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #9\n      The Scheduler of <job1> remove failed.\n")),(0,i.kt)("h3",{id:"261107-\u68c0\u67e5\u4f5c\u4e1a\u662f\u5426\u5b58\u5728"},"26.1.10.7 \u68c0\u67e5\u4f5c\u4e1a\u662f\u5426\u5b58\u5728"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,4}",showLineNumbers:!0,"{1,4}":!0},'var isExist = _schedulerFactory.ContainsJob("job1");\n\n// \u8fd8\u53ef\u4ee5\u901a\u8fc7 group \u67e5\u627e\nvar isExist = _schedulerFactory.ContainsJob("job1", "group1");\n')),(0,i.kt)("h3",{id:"261108-\u542f\u52a8\u6240\u6709\u4f5c\u4e1a"},"26.1.10.8 \u542f\u52a8\u6240\u6709\u4f5c\u4e1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,4}",showLineNumbers:!0,"{1,4}":!0},'_schedulerFactory.StartAll();\n\n// \u8fd8\u53ef\u4ee5\u901a\u8fc7 group \u542f\u52a8\n_schedulerFactory.StartAll("group1");\n')),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8c03\u5ea6\u5668\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4}",showLineNumbers:!0,"{2,4}":!0},"info: 2022-11-22 10:48:55.9619596 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #16\n      The <job1_trigger1> trigger for scheduler of <job1> successfully started to the schedule.\nwarn: 2022-11-22 10:48:56.0131304 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #16\n      Schedule Hosted Service cancels hibernation and GC.Collect().\n")),(0,i.kt)("h3",{id:"261109-\u6682\u505c\u6240\u6709\u4f5c\u4e1a"},"26.1.10.9 \u6682\u505c\u6240\u6709\u4f5c\u4e1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,4}",showLineNumbers:!0,"{1,4}":!0},' _schedulerFactory.PauseAll();\n\n// \u8fd8\u53ef\u4ee5\u901a\u8fc7 group \u6682\u505c\n _schedulerFactory.PauseAll("group1");\n')),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8c03\u5ea6\u5668\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {4,6}",showLineNumbers:!0,"{4,6}":!0},"info: 2022-11-22 11:01:52.0008851 +08:00 \u661f\u671f\u4e8c L ConsoleApp32.MyJob[0] #10\n      job1 job1_trigger1 2022/11/22 11:01:51  5000ms\ninfo: 2022-11-22 11:01:54.5265246 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #15\n      The <job1_trigger1> trigger for scheduler of <job1> successfully paused to the schedule.\nwarn: 2022-11-22 11:01:54.5535267 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #15\n      Schedule Hosted Service cancels hibernation and GC.Collect().\n")),(0,i.kt)("h3",{id:"2611010-\u5220\u9664\u6240\u6709\u4f5c\u4e1a"},"26.1.10.10 \u5220\u9664\u6240\u6709\u4f5c\u4e1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,4}",showLineNumbers:!0,"{1,4}":!0},' _schedulerFactory.RemoveAll();\n\n// \u8fd8\u53ef\u4ee5\u901a\u8fc7 group \u5220\u9664\n _schedulerFactory.RemoveAll("group1");\n')),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8c03\u5ea6\u5668\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {4,6}",showLineNumbers:!0,"{4,6}":!0},"info: 2022-11-22 11:04:19.4838792 +08:00 \u661f\u671f\u4e8c L ConsoleApp32.MyJob[0] #14\n      job1 job1_trigger1 2022/11/22 11:04:19  5000ms\nwarn: 2022-11-22 11:04:23.0726721 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #9\n      Schedule Hosted Service cancels hibernation and GC.Collect().\ninfo: 2022-11-22 11:04:23.0797010 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #9\n      The Scheduler of <job1> successfully removed to the schedule.\n")),(0,i.kt)("h3",{id:"2611011-\u5f3a\u5236\u5524\u9192\u4f5c\u4e1a\u8c03\u5ea6\u5668"},"26.1.10.11 \u5f3a\u5236\u5524\u9192\u4f5c\u4e1a\u8c03\u5ea6\u5668"),(0,i.kt)("p",null,"\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4f5c\u4e1a\u8c03\u5ea6\u5668\u4f1a\u81ea\u52a8\u7ba1\u7406\u4f11\u7720\u548c\u5524\u9192\uff0c\u4f46\u4e00\u4e9b\u7279\u6b8a\u60c5\u51b5\u4e0b\u9700\u8981\u5f3a\u5236\u5524\u9192\u4f5c\u4e1a\u8c03\u5ea6\u5668\uff08\u6bd4\u5982\u8c03\u5ea6\u5668\u5047\u6b7b\u4e86\uff0c\u88ab\u56de\u6536\u4e86\u3002\u3002\u3002\uff09\uff0c\u53ef\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"_schedulerFactory.CancelSleep();\n")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8c03\u5ea6\u5668\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2}",showLineNumbers:!0,"{2}":!0},"warn: 2022-11-22 11:04:23.0726721 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #9\n      Schedule Hosted Service cancels hibernation and GC.Collect().\n")),(0,i.kt)("h3",{id:"2611012-\u5f3a\u5236\u89e6\u53d1\u6240\u6709\u4f5c\u4e1a\u6301\u4e45\u5316"},"26.1.10.12 \u5f3a\u5236\u89e6\u53d1\u6240\u6709\u4f5c\u4e1a\u6301\u4e45\u5316"),(0,i.kt)("p",null,"\u6b64\u64cd\u4f5c\u4f1a\u5f3a\u5236\u89e6\u53d1\u4f5c\u4e1a\u6301\u4e45\u5316\u5668 ",(0,i.kt)("inlineCode",{parentName:"p"},"IJobPersistence")," \u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"OnChanged")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"OnTriggerChanged")," \u65b9\u6cd5\uff0c\u5e76\u6807\u8bb0\u4f5c\u4e1a\u6301\u4e45\u5316\u884c\u4e3a\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"PersistenceBehavior.Updated"),"\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,4}",showLineNumbers:!0,"{1,4}":!0},'_schedulerFactory.PersistAll();\n\n// \u8fd8\u53ef\u4ee5\u901a\u8fc7 group \u63a7\u5236\n _schedulerFactory.PersistAll("group1");\n')),(0,i.kt)("h3",{id:"2611013-\u6821\u5bf9\u6240\u6709\u4f5c\u4e1a"},"26.1.10.13 \u6821\u5bf9\u6240\u6709\u4f5c\u4e1a"),(0,i.kt)("p",null,"\u6709\u65f6\u5019\u56e0\u4e3a\u4e00\u4e9b\u4e0d\u786e\u5b9a\u7684\u56e0\u7d20\u5bfc\u81f4\u4f5c\u4e1a\u51fa\u73b0\u4e86\u6781\u5c0f\u7684\u8bef\u5dee\u751a\u81f3\u505c\u6b62\u6267\u884c\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u901a\u8fc7\u6821\u5bf9\u4f5c\u4e1a\u8fdb\u884c\u4fee\u6b63\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,4}",showLineNumbers:!0,"{1,4}":!0},'_schedulerFactory.CollateAll();\n\n// \u8fd8\u53ef\u4ee5\u901a\u8fc7 group \u63a7\u5236\n _schedulerFactory.CollateAll("group1");\n')),(0,i.kt)("h2",{id:"26111-\u4f5c\u4e1a\u8ba1\u5212-ischeduler"},"26.1.11 \u4f5c\u4e1a\u8ba1\u5212 ",(0,i.kt)("inlineCode",{parentName:"h2"},"IScheduler")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8ba1\u5212 ",(0,i.kt)("inlineCode",{parentName:"p"},"Scheduler")," \u7684\u9ed8\u8ba4\u5b9e\u73b0\u63a5\u53e3\u662f ",(0,i.kt)("inlineCode",{parentName:"p"},"IScheduler"),"\uff0c\u8be5\u63a5\u53e3\u4e3b\u8981\u7528\u6765\u64cd\u4f5c\u5f53\u524d\uff08\u5355\u4e2a\uff09\u4f5c\u4e1a\u3002"),(0,i.kt)("h3",{id:"261111-\u83b7\u53d6-ischeduler-\u5b9e\u4f8b"},"26.1.11.1 \u83b7\u53d6 ",(0,i.kt)("inlineCode",{parentName:"h3"},"IScheduler")," \u5b9e\u4f8b"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5}",showLineNumbers:!0,"{2,5}":!0},'// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u5b58\u5728\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.NotFound\nvar scheduleResult = _schedulerFactory.TryGetJob("job1", out var scheduler);\n\n// \u8fd4\u56de IScheduler \u7c7b\u578b\nvar scheduler = _schedulerFactory.GetJob("job1");\n')),(0,i.kt)("h3",{id:"261112-\u83b7\u53d6-schedulermodel-\u5b9e\u4f8b"},"26.1.11.2 \u83b7\u53d6 ",(0,i.kt)("inlineCode",{parentName:"h3"},"SchedulerModel")," \u5b9e\u4f8b"),(0,i.kt)("p",null,"\u83b7\u53d6 ",(0,i.kt)("inlineCode",{parentName:"p"},"SchedulerModel")," \u4e4b\u540e\u53ef\u76f4\u63a5\u8bbf\u95ee ",(0,i.kt)("inlineCode",{parentName:"p"},"JobDetail")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"Trigger")," \u5bf9\u8c61\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var schedulerModel = scheduler.GetModel();\n")),(0,i.kt)("h3",{id:"261113-\u83b7\u53d6-schedulerbuilder"},"26.1.11.3 \u83b7\u53d6 ",(0,i.kt)("inlineCode",{parentName:"h3"},"SchedulerBuilder")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var schedulerBuilder = scheduler.GetBuilder();\n")),(0,i.kt)("h3",{id:"261114-\u83b7\u53d6-jobbuilder"},"26.1.11.4 \u83b7\u53d6 ",(0,i.kt)("inlineCode",{parentName:"h3"},"JobBuilder")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var jobBuilder = scheduler.GetJobBuilder();\n")),(0,i.kt)("h3",{id:"261115-\u83b7\u53d6-triggerbuilders"},"26.1.11.5 \u83b7\u53d6 ",(0,i.kt)("inlineCode",{parentName:"h3"},"TriggerBuilders")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var triggerBuilders = scheduler.GetTriggerBuilders();\n")),(0,i.kt)("h3",{id:"261116-\u83b7\u53d6\u5355\u4e2a-triggerbuilder"},"26.1.11.6 \u83b7\u53d6\u5355\u4e2a ",(0,i.kt)("inlineCode",{parentName:"h3"},"TriggerBuilder")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},'var triggerBuilder = scheduler.GetTriggerBuilder("trigger1");\n')),(0,i.kt)("h3",{id:"261117-\u542f\u52a8\u5f53\u524d\u4f5c\u4e1a"},"26.1.11.7 \u542f\u52a8\u5f53\u524d\u4f5c\u4e1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"scheduler.Start();\n")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8c03\u5ea6\u5668\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {2,4}",showLineNumbers:!0,"{2,4}":!0},"info: 2022-11-22 17:38:16.2612604 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #15\n      The <job1_trigger1> trigger for scheduler of <job1> successfully started to the schedule.\nwarn: 2022-11-22 17:38:16.2636849 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #15\n      Schedule Hosted Service cancels hibernation and GC.Collect().\n")),(0,i.kt)("h3",{id:"261118-\u6682\u505c\u5f53\u524d\u4f5c\u4e1a"},"26.1.11.8 \u6682\u505c\u5f53\u524d\u4f5c\u4e1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"schedular.Pause();\n")),(0,i.kt)("p",null,"\u4f5c\u4e1a\u8c03\u5ea6\u5668\u8f93\u51fa\u65e5\u5fd7\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4,6}","{4,6}":!0},"info: 2022-11-22 15:34:39.5609135 +08:00 \u661f\u671f\u4e8c L ConsoleApp32.MyJob[0] #8\n      job1 job1_trigger1 2022/11/22 15:34:39  5000ms\ninfo: 2022-11-22 15:34:39.5647151 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #14\n      The <job1_trigger1> trigger for scheduler of <job1> successfully paused to the schedule.\nwarn: 2022-11-22 15:34:39.5682460 +08:00 \u661f\u671f\u4e8c L System.Logging.ScheduleService[0] #14\n      Schedule Hosted Service cancels hibernation and GC.Collect().\n")),(0,i.kt)("h3",{id:"261119-\u542f\u52a8\u4f5c\u4e1a\u7279\u5b9a\u89e6\u53d1\u5668"},"26.1.11.9 \u542f\u52a8\u4f5c\u4e1a\u7279\u5b9a\u89e6\u53d1\u5668"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},'scheduler.StartTrigger("triggerId");\n')),(0,i.kt)("h3",{id:"2611110-\u6682\u505c\u4f5c\u4e1a\u7279\u5b9a\u89e6\u53d1\u5668"},"26.1.11.10 \u6682\u505c\u4f5c\u4e1a\u7279\u5b9a\u89e6\u53d1\u5668"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},'scheduler.PauseTrigger("triggerId");\n')),(0,i.kt)("h3",{id:"2611111-\u66f4\u65b0\u4f5c\u4e1a\u4fe1\u606f"},"26.1.11.11 \u66f4\u65b0\u4f5c\u4e1a\u4fe1\u606f"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5}",showLineNumbers:!0,"{2,5}":!0},"// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild\nvar schedulerResult = scheduler.TryUpdateDetail(jobBuilder, out var jobDetail);\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\nscheduler.UpdateDetail(jobBuilder);\n")),(0,i.kt)("h3",{id:"2611112-\u83b7\u53d6\u4f5c\u4e1a\u5355\u4e2a\u89e6\u53d1\u5668"},"26.1.11.12 \u83b7\u53d6\u4f5c\u4e1a\u5355\u4e2a\u89e6\u53d1\u5668"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5}",showLineNumbers:!0,"{2,5}":!0},'// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u5b58\u5728\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.NotFound\nvar scheduleResult = scheduler.TryGetTrigger("trigger1", out var trigger);\n\n// \u8fd4\u56de Trigger \u7c7b\u578b\nvar trigger = scheduler.GetTrigger("trigger1");\n')),(0,i.kt)("h3",{id:"2611113-\u6dfb\u52a0\u4f5c\u4e1a\u5355\u4e2a\u89e6\u53d1\u5668"},"26.1.11.13 \u6dfb\u52a0\u4f5c\u4e1a\u5355\u4e2a\u89e6\u53d1\u5668"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5}",showLineNumbers:!0,"{2,5}":!0},"// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild\nvar schedulerResult = scheduler.TryAddTrigger(triggerBuilder, out var trigger);\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\nscheduler.AddTrigger(triggerBuilder);\n")),(0,i.kt)("h3",{id:"2611114-\u5220\u9664\u4f5c\u4e1a\u5355\u4e2a\u89e6\u53d1\u5668"},"26.1.11.14 \u5220\u9664\u4f5c\u4e1a\u5355\u4e2a\u89e6\u53d1\u5668"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5}",showLineNumbers:!0,"{2,5}":!0},'// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild \u6216 ScheduleResult.NotFound\nvar schedulerResult = scheduler.TryRemoveTrigger("trigger1", out var trigger);\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\nscheduler.RemoveTrigger(triggerBuilder);\n')),(0,i.kt)("h3",{id:"2611115-\u5224\u65ad\u4f5c\u4e1a\u662f\u5426\u5305\u542b\u7279\u5b9a\u89e6\u53d1\u5668"},"26.1.11.15 \u5224\u65ad\u4f5c\u4e1a\u662f\u5426\u5305\u542b\u7279\u5b9a\u89e6\u53d1\u5668"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},'var isExist = scheduler.ContainsTrigger("trigger1");\n')),(0,i.kt)("h3",{id:"2611116-\u5220\u9664\u5f53\u524d\u4f5c\u4e1a"},"26.1.11.16 \u5220\u9664\u5f53\u524d\u4f5c\u4e1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,5}",showLineNumbers:!0,"{2,5}":!0},"// \u8fd4\u56de ScheduleResult \u7c7b\u578b\uff0c\u5982\u679c\u6dfb\u52a0\u6210\u529f\u8fd4\u56de ScheduleResult.Succeed\uff0c\u5426\u5219\u8fd4\u56de ScheduleResult.Faild\nvar schedulerResult = scheduler.TryRemove();\n\n// \u65e0\u8fd4\u56de\u503c\uff0c\u65e0\u9519\u8bef\nscheduler.Remove();\n")),(0,i.kt)("h3",{id:"2611117-\u5f3a\u5236\u89e6\u53d1\u6240\u6709\u4f5c\u4e1a\u6301\u4e45\u5316"},"26.1.11.17 \u5f3a\u5236\u89e6\u53d1\u6240\u6709\u4f5c\u4e1a\u6301\u4e45\u5316"),(0,i.kt)("p",null,"\u6b64\u64cd\u4f5c\u4f1a\u5f3a\u5236\u89e6\u53d1\u4f5c\u4e1a\u6301\u4e45\u5316\u5668 ",(0,i.kt)("inlineCode",{parentName:"p"},"IJobPersistence")," \u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"OnChanged")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"OnTriggerChanged")," \u65b9\u6cd5\uff0c\u5e76\u6807\u8bb0\u4f5c\u4e1a\u6301\u4e45\u5316\u884c\u4e3a\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"PersistenceBehavior.Updated"),"\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1}",showLineNumbers:!0,"{1}":!0},"scheduler.Persist();\n")),(0,i.kt)("h3",{id:"2611118-\u8f93\u51fa-json-\u5b57\u7b26\u4e32"},"26.1.11.18 \u8f93\u51fa ",(0,i.kt)("inlineCode",{parentName:"h3"},"JSON")," \u5b57\u7b26\u4e32"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"var json scheduler.ConvertToJSON();\n")),(0,i.kt)("p",null,"\u8f93\u51fa\u7ed3\u679c\u4e3a\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:"showLineNumbers {2,13}",showLineNumbers:!0,"{2,13}":!0},'{\n  "jobDetail": {\n    "jobId": "job1",\n    "groupName": null,\n    "jobType": "Furion.Application.MyJob",\n    "assemblyName": "Furion.Application",\n    "description": null,\n    "concurrent": true,\n    "includeAnnotations": false,\n    "properties": "{}",\n    "updatedTime": "2022-11-17T09:25:47.0471107+08:00"\n  },\n  "triggers": [\n    {\n      "triggerId": "job1_trigger1",\n      "jobId": null,\n      "triggerType": "Furion.Schedule.PeriodSecondsTrigger",\n      "assemblyName": "Furion",\n      "args": "[5]",\n      "description": null,\n      "status": 2,\n      "startTime": null,\n      "endTime": null,\n      "lastRunTime": "2022-11-20T18:31:56.6859410+08:00",\n      "nextRunTime": "2022-11-20T18:32:01.7233546+08:00",\n      "numberOfRuns": 1,\n      "maxNumberOfRuns": 0,\n      "numberOfErrors": 0,\n      "maxNumberOfErrors": 0,\n      "numRetries": 0,\n      "retryTimeout": 1000,\n      "startNow": true,\n      "runOnStart": false,\n      "resetOnlyOnce": true,\n      "updatedTime": "2022-11-20T18:31:56.7233630+08:00"\n    }\n  ]\n}\n')),(0,i.kt)("h3",{id:"2611119-\u6821\u5bf9\u4f5c\u4e1a"},"26.1.11.19 \u6821\u5bf9\u4f5c\u4e1a"),(0,i.kt)("p",null,"\u6709\u65f6\u5019\u56e0\u4e3a\u4e00\u4e9b\u4e0d\u786e\u5b9a\u7684\u56e0\u7d20\u5bfc\u81f4\u4f5c\u4e1a\u51fa\u73b0\u4e86\u6781\u5c0f\u7684\u8bef\u5dee\u751a\u81f3\u505c\u6b62\u6267\u884c\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u901a\u8fc7\u6821\u5bf9\u4f5c\u4e1a\u8fdb\u884c\u4fee\u6b63\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},"scheduler.Collate();\n")),(0,i.kt)("h2",{id:"26112-\u4f5c\u4e1a\u6301\u4e45\u5316\u5668-ijobpersistence"},"26.1.12 \u4f5c\u4e1a\u6301\u4e45\u5316\u5668 ",(0,i.kt)("inlineCode",{parentName:"h2"},"IJobPersistence")),(0,i.kt)("h3",{id:"261121-\u5173\u4e8e\u4f5c\u4e1a\u6301\u4e45\u5316\u5668"},"26.1.12.1 \u5173\u4e8e\u4f5c\u4e1a\u6301\u4e45\u5316\u5668"),(0,i.kt)("p",null,"\u4f5c\u4e1a\u6301\u4e45\u5316\u5668\u6307\u7684\u662f\u53ef\u4ee5\u901a\u8fc7\u5b58\u50a8\u4ecb\u8d28\u5982\u6570\u636e\u5e93\u4e2d\u52a0\u8f7d\u4f5c\u4e1a\u4fe1\u606f\u5230\u5185\u5b58\u4e2d\uff0c\u53c8\u53ef\u4ee5\u5c06\u5185\u5b58\u4e2d\u4f5c\u4e1a\u8c03\u5ea6\u5668\u7684\u4f5c\u4e1a\u4fe1\u606f\u5b9e\u65f6\u540c\u6b65\u56de\u5b58\u50a8\u4ecb\u8d28\u4e2d\u3002"),(0,i.kt)("h3",{id:"261122-\u5b9e\u73b0\u4f5c\u4e1a\u6301\u4e45\u5316\u5668"},"26.1.12.2 \u5b9e\u73b0\u4f5c\u4e1a\u6301\u4e45\u5316\u5668"),(0,i.kt)("p",null,"\u8c03\u5ea6\u4f5c\u4e1a\u670d\u52a1\u63d0\u4f9b\u4e86\u975e\u5e38\u7b80\u5355\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"IJobPersistence")," \u63a5\u53e3\uff0c\u53ea\u9700\u5b9e\u73b0\u8be5\u63a5\u53e3\u5373\u53ef\u5b9e\u73b0\u6301\u4e45\u5316\uff0c\u5982\u5b9e\u73b0\u6570\u636e\u5e93\u6301\u4e45\u5316\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,3,9,17,23}",showLineNumbers:!0,"{1,3,9,17,23}":!0},'public class DbJobPersistence : IJobPersistence\n{\n    public IEnumerable<SchedulerBuilder> Preload()\n    {\n        // \u4f5c\u4e1a\u8c03\u5ea6\u670d\u52a1\u542f\u52a8\u65f6\u8fd0\u884c\u65f6\u521d\u59cb\u5316\n        return Array.Empty<SchedulerBuilder>();\n    }\n\n    public SchedulerBuilder OnLoading(SchedulerBuilder builder)\n    {\n        // \u5982\u679c\u662f\u66f4\u65b0\u64cd\u4f5c\uff0c\u5219 return builder.Updated();\n        // \u5982\u679c\u662f\u65b0\u589e\u64cd\u4f5c\uff0c\u5219 return builder.Appended();\n        // \u5982\u679c\u662f\u5220\u9664\u64cd\u4f5c\uff0c\u5219 return builder.Removed();\n        return builder;\n    }\n\n    public void OnChanged(PersistenceContext context)\n    {\n        var sql = context.ConvertToSQL("job_detail");\n        // \u8fd9\u91cc\u6267\u884c sql \u5373\u53ef\n    }\n\n    public void OnTriggerChanged(PersistenceTriggerContext context)\n    {\n        var sql = context.ConvertToSQL("job_trigger");\n        // \u8fd9\u91cc\u6267\u884c sql \u5373\u53ef\n    }\n}\n')),(0,i.kt)("p",null,"\u4e4b\u540e\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"Startup.cs")," \u4e2d\u6ce8\u518c\u5373\u53ef\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3}",showLineNumbers:!0,"{3}":!0},"services.AddSchedule(options =>\n{\n      options.AddPersistence<DbJobPersistence>();\n});\n")),(0,i.kt)("p",null,"\u53ef\u80fd\u6709\u4e9b\u5f00\u53d1\u8005\u770b\u5230\u8fd9\u91cc\u4e00\u8138\u4e0d\u89e3\uff0c\u6301\u4e45\u5316\u4e0d\u5e94\u8be5\u8fd9\u4e48\u7b80\u5355\u554a\uff01\u5176\u5b9e\u5c31\u662f\u8fd9\u4e48\u7b80\u5355...."),(0,i.kt)("h3",{id:"261123-ijobpersistence-\u8be6\u7ec6\u8bf4\u660e"},"26.1.12.3 ",(0,i.kt)("inlineCode",{parentName:"h3"},"IJobPersistence")," \u8be6\u7ec6\u8bf4\u660e"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"IJobPersistence")," \u63a5\u53e3\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u56db\u4e2a\u65b9\u6cd5\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"Preload"),"\uff1a\u4f5c\u4e1a\u8c03\u5ea6\u670d\u52a1\u542f\u52a8\u65f6\u8c03\u7528\uff0c\u53ef\u5728\u8fd9\u91cc\u52a8\u6001\u521b\u5efa\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668\u5e76\u8fd4\u56de\u3002"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,4,8,12,17}",showLineNumbers:!0,"{1,4,8,12,17}":!0},"public IEnumerable<SchedulerBuilder> Preload()\n{\n      // \u8fd9\u91cc\u53ef\u4ee5\u626b\u63cf\u7a0b\u5e8f\u96c6\u52a8\u6001\u521b\u5efa\u8fd4\u56de\n      return App.EffectiveTypes.Where(t => t.IsJobType())\n                               .Select(t => SchedulerBuilder.Create(JobBuilder.Create(t), t.ScanTriggers()));\n\n      // \u5982\u679c\u7c7b\u578b\u8d34\u6709 [JobDetail] \u7279\u6027\uff0c\u8fd8\u53ef\u4ee5\u4e00\u952e\u626b\u63cf\u8fd4\u56de\n      return App.EffectiveTypes.Where(t => t.IsJobType())\n                               .Select(t => t.ScanToBuilder());\n\n      // \u8fd8\u53ef\u4ee5\u66f4\u7b80\u5355~~\n      return App.EffectiveTypes.ScanToBuilders();\n\n      // \u4e5f\u53ef\u4ee5\u624b\u52a8\u8fd4\u56de\n      return new[]\n      {\n            SchedulerBuilder.Create(JobBuilder.Create<MyJob>(), Triggers.Minutely())\n      }\n}\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"OnLoading"),"\uff1a\u4f5c\u4e1a\u8ba1\u5212\u521d\u59cb\u5316\u901a\u77e5\uff0c\u901a\u5e38\u5728\u8fd9\u91cc\u8fdb\u4e00\u6b65\u4fee\u6539\u521d\u59cb\u5316\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668\u3002"))),(0,i.kt)("p",null,"\u5728\u4f5c\u4e1a\u8c03\u5ea6\u5668\u670d\u52a1\u542f\u52a8\u65f6\u4f1a\u904d\u5386\u7a0b\u5e8f\u4e2d\u6240\u6709\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668\uff0c\u7136\u540e\u9010\u6761\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u5728\u8fd9\u91cc\u8fdb\u4e00\u6b65\u4fee\u6539\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668\u6570\u636e\uff0c\u4e4b\u540e",(0,i.kt)("strong",{parentName:"p"},"\u9009\u62e9\u6027\u8fd4\u56de ",(0,i.kt)("inlineCode",{parentName:"strong"},"SchedulerBuilder")," \u7684\u6301\u4e45\u5316\u884c\u4e3a"),"\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"SchedulerBuilder")," \u63d0\u4f9b ",(0,i.kt)("inlineCode",{parentName:"p"},"Updated()"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Appended()")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"Removed()")," \u6765\u4f5c\u4e3a\u6301\u4e45\u5316\u884c\u4e3a\u6807\u8bb0\uff0c\u901a\u5e38\u6807\u8bb0\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"Appended()"),"\uff0c\u4e5f\u5c31\u662f\u65b0\u589e\u64cd\u4f5c\uff08\u9ed8\u8ba4\u503c\uff09\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {4,8,12-13,16}",showLineNumbers:!0,"{4,8,12-13,16}":!0},'public SchedulerBuilder OnLoading(SchedulerBuilder builder)\n{\n      // \u6bd4\u5982\u8fd9\u91cc\u4fee\u6539\u4f5c\u4e1a\u4fe1\u606f\u63cf\u8ff0\n      builder.GetJobBuilder()\n             .SetDescription("\u8fd9\u662f\u63cf\u8ff0~~");\n\n      // \u8fd8\u53ef\u4ee5\u4fee\u6539\u89e6\u53d1\u5668\n      builder.GetTriggerBuilder("trigger1")\n             .SetDescription("\u8fd9\u662f\u89e6\u53d1\u5668\u63cf\u8ff0~~");\n\n      // \u8fd8\u53ef\u4ee5\u901a\u8fc7\u6570\u636e\u5e93\u67e5\u8be2\u8fd4\u56de\u586b\u5145 \ud83d\ude0e\n      builder.GetJobBuilder()\n             .LoadFrom(dbJobDetail); // dbJobDetail \u8868\u793a\u6839\u636e jobId \u67e5\u8be2\u6570\u636e\u5e93\u8fd4\u56de\u7684\u5bf9\u8c61\n\n      // \u6807\u8bb0\u4ece\u5176\u4ed6\u5730\u65b9\u66f4\u65b0\uff0c\u6bd4\u5982\u6570\u636e\u5e93\n      return builder;\n}\n')),(0,i.kt)("p",null,"\u5982\u679c\u5b58\u50a8\u4ecb\u8d28\uff08\u5982\u6570\u636e\u5e93\uff09\u5df2\u7ecf\u5220\u9664\u8be5\u4f5c\u4e1a\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u6807\u8bb0\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"Removed()"),"\uff0c\u8fd9\u6837\u8be5\u4f5c\u4e1a\u4f1a\u4ece\u5185\u5b58\u4e2d\u79fb\u9664\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3,6}",showLineNumbers:!0,"{3,6}":!0},"public SchedulerBuilder OnLoading(SchedulerBuilder builder)\n{\n      // \u6bd4\u5982\u8fd9\u91cc\u6839\u636e jobId \u67e5\u8be2\u6570\u636e\u5e93\u5df2\u7ecf\u786e\u8ba4\u6570\u636e\u4e0d\u5b58\u5728\u4e86\n\n      // \u6807\u8bb0\u4ece\u5176\u4ed6\u5730\u65b9\u79fb\u9664\n      return builder.Removed();\n}\n")),(0,i.kt)("p",null,"\u5982\u679c\u5b58\u50a8\u4ecb\u8d28\uff08\u5982\u6570\u636e\u5e93\uff09\u65b0\u589e\u4e86\u65b0\u4f5c\u4e1a\u4f46\u5185\u5b58\u4e2d\u4e0d\u5b58\u5728\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u6807\u8bb0\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"Append()"),"\uff0c\u8fd9\u6837\u8be5\u4f5c\u4e1a\u4f1a\u6dfb\u52a0\u5230\u5185\u5b58\u4e2d\uff0c",(0,i.kt)("strong",{parentName:"p"},"\u4f46\u539f\u6709\u7684 ",(0,i.kt)("inlineCode",{parentName:"strong"},"builder")," \u5c31\u4f1a\u88ab\u4e22\u5f03"),"\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {4,6,8,11}",showLineNumbers:!0,"{4,6,8,11}":!0},"public SchedulerBuilder OnLoading(SchedulerBuilder builder)\n{\n      // \u6bd4\u5982\u5728\u8fd9\u91cc\u52a8\u6001\u521b\u5efa\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668\n      var newBuilder = SchedulerBuilder.Create<MyJob>(Triggers.Minutely());\n      // \u8fd8\u53ef\u4ee5\u514b\u9686\u4e00\u4e2a\n      var newBuilder = SchedulerBuilder.Clone(builder);\n      // \u8fd8\u53ef\u4ee5\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6/JSON\n      var newBuilder = SchedulerBuilder.From(json);\n\n      // \u8fd4\u56de\u65b0\u7684\u4f5c\u4e1a\u8ba1\u5212\u6784\u5efa\u5668\u5e76\u6807\u8bb0\u4e3a\u65b0\u589e\n      return newBuilder.Appended();\n}\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"OnChanged"),"\uff1a\u4f5c\u4e1a\u8ba1\u5212 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Scheduler")," \u7684 ",(0,i.kt)("inlineCode",{parentName:"strong"},"JobDetail")," \u53d8\u5316\u65f6\u8c03\u7528\u3002"))),(0,i.kt)("p",null,"\u53ea\u8981\u4f5c\u4e1a\u8ba1\u5212\u6709\u4efb\u4f55\u53d8\u5316\u90fd\u5c06\u89e6\u53d1\u8be5\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u6709\u4e00\u4e2a ",(0,i.kt)("inlineCode",{parentName:"p"},"PersistenceContext")," \u7c7b\u578b\u7684\u53c2\u6570 ",(0,i.kt)("inlineCode",{parentName:"p"},"context"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"PersistenceContext")," \u5305\u542b\u4ee5\u4e0b\u6210\u5458\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"PersistenceContext")," \u5c5e\u6027\u5217\u8868"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"JobId"),"\uff1a\u4f5c\u4e1a ",(0,i.kt)("inlineCode",{parentName:"li"},"Id"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"string")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"JobDetail"),"\uff1a\u4f5c\u4e1a\u4fe1\u606f\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"JobDetail")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Behavior"),"\uff1a\u6301\u4e45\u5316\u884c\u4e3a\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceBehavior")," \u679a\u4e3e\u7c7b\u578b\uff0c\u5305\u542b ",(0,i.kt)("inlineCode",{parentName:"li"},"Appended"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"Updated")," \u548c ",(0,i.kt)("inlineCode",{parentName:"li"},"Removed")," \u4e09\u4e2a\u679a\u4e3e\u6210\u5458"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"PersistenceContext")," \u65b9\u6cd5\u5217\u8868"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ConvertToSQL"),"\uff1a\u5c06 ",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceContext")," \u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"li"},"SQL")," \u5b57\u7b26\u4e32\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"Behavior")," \u5c5e\u6027\u503c\u4e0d\u540c\uff0c\u751f\u6210\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"SQL")," \u4e0d\u540c"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ConvertToJSON"),"\uff1a\u5c06 ",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceContext")," \u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"li"},"JSON")," \u5b57\u7b26\u4e32"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ConvertToMonitor"),"\uff1a\u5c06 ",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceContext")," \u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"li"},"Monitor")," \u5b57\u7b26\u4e32"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ToString"),"\uff1a\u5c06 ",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceContext")," \u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"li"},"\u7b80\u8981")," \u5b57\u7b26\u4e32"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"GetNaming"),"\uff1a\u63d0\u4f9b\u5c06\u7279\u5b9a\u5b57\u7b26\u4e32\u8f93\u51fa\u4e0d\u540c\u7684\u547d\u540d\u89c4\u5219\u5b57\u7b26\u4e32")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {4,6,8,10}",showLineNumbers:!0,"{4,6,8,10}":!0},'public void OnChanged(PersistenceContext context)\n{\n      // \u8f93\u51fa CamelCase\uff08\u9a7c\u5cf0\u547d\u540d\u6cd5\uff09SQL \u8bed\u53e5\uff0c\u9ed8\u8ba4\u503c\n      var sql = context.ConvertToSQL("job_detail");\n      // \u8f93\u51fa Pascal\uff08\u5e15\u65af\u5361\u547d\u540d\u6cd5\uff09 SQL \u8bed\u53e5\n      var sql = context.ConvertToSQL("job_detail", NamingConventions.Pascal);\n      // \u8f93\u51fa UnderScoreCase\uff08\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5\uff09 SQL \u8bed\u53e5\n      var sql = context.ConvertToSQL("job_detail", NamingConventions.UnderScoreCase);\n\n      // \u4f60\u8981\u505a\u7684\u53ea\u662f\u6267\u884c SQL \u4e86\uff01\uff01\uff01 \ud83d\ude0e\n}\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"OnTriggerChanged"),"\uff1a\u4f5c\u4e1a\u8ba1\u5212 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Scheduler")," \u7684\u89e6\u53d1\u5668 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Trigger")," \u53d8\u5316\u65f6\u8c03\u7528\u3002"))),(0,i.kt)("p",null,"\u53ea\u8981\u4f5c\u4e1a\u8ba1\u5212",(0,i.kt)("strong",{parentName:"p"},"\u89e6\u53d1\u5668"),"\u6709\u4efb\u4f55\u53d8\u5316\u90fd\u5c06\u89e6\u53d1\u8be5\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u6709\u4e00\u4e2a ",(0,i.kt)("inlineCode",{parentName:"p"},"PersistenceTriggerContext")," \u7c7b\u578b\u7684\u53c2\u6570 ",(0,i.kt)("inlineCode",{parentName:"p"},"context"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"PersistenceTriggerContext")," \u7ee7\u627f\u81ea ",(0,i.kt)("inlineCode",{parentName:"p"},"PersistenceContext"),"\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"PersistenceTriggerContext")," \u5c5e\u6027\u5217\u8868"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"JobId"),"\uff1a\u4f5c\u4e1a ",(0,i.kt)("inlineCode",{parentName:"li"},"Id"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"string")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"JobDetail"),"\uff1a\u4f5c\u4e1a\u4fe1\u606f\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"JobDetail")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"TriggerId"),"\uff1a\u4f5c\u4e1a\u89e6\u53d1\u5668 ",(0,i.kt)("inlineCode",{parentName:"li"},"Id"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"string")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Trigger"),"\uff1a\u4f5c\u4e1a\u89e6\u53d1\u5668\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"Trigger")," \u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Behavior"),"\uff1a\u6301\u4e45\u5316\u884c\u4e3a\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceBehavior")," \u679a\u4e3e\u7c7b\u578b\uff0c\u5305\u542b ",(0,i.kt)("inlineCode",{parentName:"li"},"Appended"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"Updated")," \u548c ",(0,i.kt)("inlineCode",{parentName:"li"},"Removed")," \u4e09\u4e2a\u679a\u4e3e\u6210\u5458"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"PersistenceTriggerContext")," \u65b9\u6cd5\u5217\u8868"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ConvertToSQL"),"\uff1a\u5c06 ",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceTriggerContext")," \u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"li"},"SQL")," \u5b57\u7b26\u4e32\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"Behavior")," \u5c5e\u6027\u503c\u4e0d\u540c\uff0c\u751f\u6210\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"SQL")," \u4e0d\u540c"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ConvertToJSON"),"\uff1a\u5c06 ",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceTriggerContext")," \u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"li"},"JSON")," \u5b57\u7b26\u4e32\uff0c\u53ea\u5305\u542b ",(0,i.kt)("inlineCode",{parentName:"li"},"Trigger")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ConvertAllToJSON"),"\uff1a\u5c06 ",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceTriggerContext")," \u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"li"},"JSON")," \u5b57\u7b26\u4e32\uff0c\u5305\u542b ",(0,i.kt)("inlineCode",{parentName:"li"},"JobDetail")," \u548c ",(0,i.kt)("inlineCode",{parentName:"li"},"Trigger")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ConvertToMonitor"),"\uff1a\u5c06 ",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceTriggerContext")," \u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"li"},"Monitor")," \u5b57\u7b26\u4e32"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ToString"),"\uff1a\u5c06 ",(0,i.kt)("inlineCode",{parentName:"li"},"PersistenceTriggerContext")," \u8f6c\u6362\u6210 ",(0,i.kt)("inlineCode",{parentName:"li"},"\u7b80\u8981")," \u5b57\u7b26\u4e32"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"GetNaming"),"\uff1a\u63d0\u4f9b\u5c06\u7279\u5b9a\u5b57\u7b26\u4e32\u8f93\u51fa\u4e0d\u540c\u7684\u547d\u540d\u89c4\u5219\u5b57\u7b26\u4e32")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {4,6,8,10}",showLineNumbers:!0,"{4,6,8,10}":!0},'public void OnTriggerChanged(PersistenceTriggerContext context)\n{\n      // \u8f93\u51fa CamelCase\uff08\u9a7c\u5cf0\u547d\u540d\u6cd5\uff09SQL \u8bed\u53e5\uff0c\u9ed8\u8ba4\u503c\n      var sql = context.ConvertToSQL("job_trigger");\n      // \u8f93\u51fa Pascal\uff08\u5e15\u65af\u5361\u547d\u540d\u6cd5\uff09 SQL \u8bed\u53e5\n      var sql = context.ConvertToSQL("job_trigger", NamingConventions.Pascal);\n      // \u8f93\u51fa UnderScoreCase\uff08\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5\uff09 SQL \u8bed\u53e5\n      var sql = context.ConvertToSQL("job_trigger", NamingConventions.UnderScoreCase);\n\n      // \u4f60\u8981\u505a\u7684\u53ea\u662f\u6267\u884c SQL \u4e86\uff01\uff01\uff01 \ud83d\ude0e\n}\n')),(0,i.kt)("admonition",{title:"\u5c0f\u77e5\u8bc6",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u751f\u6210\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"SQL")," \u5c5e\u4e8e\u6807\u51c6 ",(0,i.kt)("inlineCode",{parentName:"p"},"SQL")," \u8bed\u53e5\uff0c\u4f46\u672a\u5fc5\u9002\u5408\u6240\u6709\u6570\u636e\u5e93\u7c7b\u578b\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u6307\u5b9a ",(0,i.kt)("inlineCode",{parentName:"p"},"BuildSqlType")," \u6765\u751f\u6210\u7279\u5b9a\u6570\u636e\u5e93\u7684\u8bed\u53e5\uff0c\u5982\uff1a"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {4}",showLineNumbers:!0,"{4}":!0},"services.AddSchedule(options =>\n{\n      // \u914d\u7f6e\u8f93\u51fa SQL \u7684\u6570\u636e\u5e93\u7c7b\u578b\uff0cFurion 4.8.2.3+\n      options.BuildSqlType = SqlTypes.SqlServer;\n});\n"))),(0,i.kt)("h3",{id:"261124-\u5404\u7c7b\u6570\u636e\u5e93\u521b\u5efa\u4f5c\u4e1a\u6301\u4e45\u5316\u8868\u8bed\u53e5"},"26.1.12.4 \u5404\u7c7b\u6570\u636e\u5e93\u521b\u5efa\u4f5c\u4e1a\u6301\u4e45\u5316\u8868\u8bed\u53e5"),(0,i.kt)(s.Z,{defaultValue:"Sqlite",values:[{label:"Sqlite",value:"Sqlite"},{label:"SqlServer",value:"SqlServer"},{label:"MySQL",value:"MySQL"},{label:"PostgreSQL",value:"PostgreSQL"},{label:"Oracle",value:"Oracle"},{label:"Firebird",value:"Firebird"},{label:"EFCore",value:"EFCore"},{label:"SqlSugar",value:"SqlSugar"}],mdxType:"Tabs"},(0,i.kt)(u.Z,{value:"Sqlite",mdxType:"TabItem"},(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u53ef\u81ea\u884c\u8c03\u6574\u5217\u547d\u540d\u89c4\u5219\u3002")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:"showLineNumbers {1,14}",showLineNumbers:!0,"{1,14}":!0},'CREATE TABLE "JobDetails" (\n    "Id" INTEGER NOT NULL CONSTRAINT "PK_JobDetails" PRIMARY KEY AUTOINCREMENT,\n    "JobId" TEXT NOT NULL,\n    "GroupName" TEXT NULL,\n    "JobType" TEXT NULL,\n    "AssemblyName" TEXT NULL,\n    "Description" TEXT NULL,\n    "Concurrent" INTEGER NOT NULL,\n    "IncludeAnnotations" INTEGER NOT NULL,\n    "Properties" TEXT NULL,\n    "UpdatedTime" TEXT NULL\n);\n\nCREATE TABLE "JobTriggers" (\n    "Id" INTEGER NOT NULL CONSTRAINT "PK_JobTriggers" PRIMARY KEY AUTOINCREMENT,\n    "TriggerId" TEXT NOT NULL,\n    "JobId" TEXT NOT NULL,\n    "TriggerType" TEXT NULL,\n    "AssemblyName" TEXT NULL,\n    "Args" TEXT NULL,\n    "Description" TEXT NULL,\n    "Status" INTEGER NOT NULL,\n    "StartTime" TEXT NULL,\n    "EndTime" TEXT NULL,\n    "LastRunTime" TEXT NULL,\n    "NextRunTime" TEXT NULL,\n    "NumberOfRuns" INTEGER NOT NULL,\n    "MaxNumberOfRuns" INTEGER NOT NULL,\n    "NumberOfErrors" INTEGER NOT NULL,\n    "MaxNumberOfErrors" INTEGER NOT NULL,\n    "NumRetries" INTEGER NOT NULL,\n    "RetryTimeout" INTEGER NOT NULL,\n    "StartNow" INTEGER NOT NULL,\n    "RunOnStart" INTEGER NOT NULL,\n    "ResetOnlyOnce" INTEGER NOT NULL,\n    "UpdatedTime" TEXT NULL\n);\n'))),(0,i.kt)(u.Z,{value:"SqlServer",mdxType:"TabItem"},(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u53ef\u81ea\u884c\u8c03\u6574\u5217\u547d\u540d\u89c4\u5219\u3002")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:"showLineNumbers {1,16}",showLineNumbers:!0,"{1,16}":!0},"CREATE TABLE [JobDetails] (\n    [Id] int NOT NULL IDENTITY,\n    [JobId] nvarchar(max) NOT NULL,\n    [GroupName] nvarchar(max) NULL,\n    [JobType] nvarchar(max) NULL,\n    [AssemblyName] nvarchar(max) NULL,\n    [Description] nvarchar(max) NULL,\n    [Concurrent] bit NOT NULL,\n    [IncludeAnnotations] bit NOT NULL,\n    [Properties] nvarchar(max) NULL,\n    [UpdatedTime] datetime2 NULL,\n    CONSTRAINT [PK_JobDetails] PRIMARY KEY ([Id])\n);\nGO\n\nCREATE TABLE [JobTriggers] (\n    [Id] int NOT NULL IDENTITY,\n    [TriggerId] nvarchar(max) NOT NULL,\n    [JobId] nvarchar(max) NOT NULL,\n    [TriggerType] nvarchar(max) NULL,\n    [AssemblyName] nvarchar(max) NULL,\n    [Args] nvarchar(max) NULL,\n    [Description] nvarchar(max) NULL,\n    [Status] bigint NOT NULL,\n    [StartTime] datetime2 NULL,\n    [EndTime] datetime2 NULL,\n    [LastRunTime] datetime2 NULL,\n    [NextRunTime] datetime2 NULL,\n    [NumberOfRuns] bigint NOT NULL,\n    [MaxNumberOfRuns] bigint NOT NULL,\n    [NumberOfErrors] bigint NOT NULL,\n    [MaxNumberOfErrors] bigint NOT NULL,\n    [NumRetries] int NOT NULL,\n    [RetryTimeout] int NOT NULL,\n    [StartNow] bit NOT NULL,\n    [RunOnStart] bit NOT NULL,\n    [ResetOnlyOnce] bit NOT NULL,\n    [UpdatedTime] datetime2 NULL,\n    CONSTRAINT [PK_JobTriggers] PRIMARY KEY ([Id])\n);\n"))),(0,i.kt)(u.Z,{value:"MySQL",mdxType:"TabItem"},(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u53ef\u81ea\u884c\u8c03\u6574\u5217\u547d\u540d\u89c4\u5219\u3002")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:"showLineNumbers {3,17}",showLineNumbers:!0,"{3,17}":!0},"ALTER DATABASE CHARACTER SET utf8mb4;\n\nCREATE TABLE `JobDetails` (\n    `Id` int NOT NULL AUTO_INCREMENT,\n    `JobId` longtext CHARACTER SET utf8mb4 NOT NULL,\n    `GroupName` longtext CHARACTER SET utf8mb4 NULL,\n    `JobType` longtext CHARACTER SET utf8mb4 NULL,\n    `AssemblyName` longtext CHARACTER SET utf8mb4 NULL,\n    `Description` longtext CHARACTER SET utf8mb4 NULL,\n    `Concurrent` tinyint(1) NOT NULL,\n    `IncludeAnnotations` tinyint(1) NOT NULL,\n    `Properties` longtext CHARACTER SET utf8mb4 NULL,\n    `UpdatedTime` datetime(6) NULL,\n    CONSTRAINT `PK_JobDetails` PRIMARY KEY (`Id`)\n) CHARACTER SET=utf8mb4;\n\nCREATE TABLE `JobTriggers` (\n    `Id` int NOT NULL AUTO_INCREMENT,\n    `TriggerId` longtext CHARACTER SET utf8mb4 NOT NULL,\n    `JobId` longtext CHARACTER SET utf8mb4 NOT NULL,\n    `TriggerType` longtext CHARACTER SET utf8mb4 NULL,\n    `AssemblyName` longtext CHARACTER SET utf8mb4 NULL,\n    `Args` longtext CHARACTER SET utf8mb4 NULL,\n    `Description` longtext CHARACTER SET utf8mb4 NULL,\n    `Status` int unsigned NOT NULL,\n    `StartTime` datetime(6) NULL,\n    `EndTime` datetime(6) NULL,\n    `LastRunTime` datetime(6) NULL,\n    `NextRunTime` datetime(6) NULL,\n    `NumberOfRuns` bigint NOT NULL,\n    `MaxNumberOfRuns` bigint NOT NULL,\n    `NumberOfErrors` bigint NOT NULL,\n    `MaxNumberOfErrors` bigint NOT NULL,\n    `NumRetries` int NOT NULL,\n    `RetryTimeout` int NOT NULL,\n    `StartNow` tinyint(1) NOT NULL,\n    `RunOnStart` tinyint(1) NOT NULL,\n    `ResetOnlyOnce` tinyint(1) NOT NULL,\n    `UpdatedTime` datetime(6) NULL,\n    CONSTRAINT `PK_JobTriggers` PRIMARY KEY (`Id`)\n) CHARACTER SET=utf8mb4;\n"))),(0,i.kt)(u.Z,{value:"PostgreSQL",mdxType:"TabItem"},(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u53ef\u81ea\u884c\u8c03\u6574\u5217\u547d\u540d\u89c4\u5219\u3002")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:"showLineNumbers {1,15}",showLineNumbers:!0,"{1,15}":!0},'CREATE TABLE "JobDetails" (\n    "Id" integer GENERATED BY DEFAULT AS IDENTITY,\n    "JobId" text NOT NULL,\n    "GroupName" text NULL,\n    "JobType" text NULL,\n    "AssemblyName" text NULL,\n    "Description" text NULL,\n    "Concurrent" boolean NOT NULL,\n    "IncludeAnnotations" boolean NOT NULL,\n    "Properties" text NULL,\n    "UpdatedTime" timestamp with time zone NULL,\n    CONSTRAINT "PK_JobDetails" PRIMARY KEY ("Id")\n);\n\nCREATE TABLE "JobTriggers" (\n    "Id" integer GENERATED BY DEFAULT AS IDENTITY,\n    "TriggerId" text NOT NULL,\n    "JobId" text NOT NULL,\n    "TriggerType" text NULL,\n    "AssemblyName" text NULL,\n    "Args" text NULL,\n    "Description" text NULL,\n    "Status" bigint NOT NULL,\n    "StartTime" timestamp with time zone NULL,\n    "EndTime" timestamp with time zone NULL,\n    "LastRunTime" timestamp with time zone NULL,\n    "NextRunTime" timestamp with time zone NULL,\n    "NumberOfRuns" bigint NOT NULL,\n    "MaxNumberOfRuns" bigint NOT NULL,\n    "NumberOfErrors" bigint NOT NULL,\n    "MaxNumberOfErrors" bigint NOT NULL,\n    "NumRetries" integer NOT NULL,\n    "RetryTimeout" integer NOT NULL,\n    "StartNow" boolean NOT NULL,\n    "RunOnStart" boolean NOT NULL,\n    "ResetOnlyOnce" boolean NOT NULL,\n    "UpdatedTime" timestamp with time zone NULL,\n    CONSTRAINT "PK_JobTriggers" PRIMARY KEY ("Id")\n);\n'))),(0,i.kt)(u.Z,{value:"Oracle",mdxType:"TabItem"},(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u53ef\u81ea\u884c\u8c03\u6574\u5217\u547d\u540d\u89c4\u5219\u3002")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:"showLineNumbers {1,15}",showLineNumbers:!0,"{1,15}":!0},'CREATE TABLE "JobDetails" (\n    "Id" NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,\n    "JobId" NVARCHAR2(2000) NOT NULL,\n    "GroupName" NVARCHAR2(2000),\n    "JobType" NVARCHAR2(2000),\n    "AssemblyName" NVARCHAR2(2000),\n    "Description" NVARCHAR2(2000),\n    "Concurrent" NUMBER(1) NOT NULL,\n    "IncludeAnnotations" NUMBER(1) NOT NULL,\n    "Properties" NVARCHAR2(2000),\n    "UpdatedTime" TIMESTAMP(7),\n    CONSTRAINT "PK_JobDetails" PRIMARY KEY ("Id")\n);\n\nCREATE TABLE "JobTriggers" (\n    "Id" NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,\n    "TriggerId" NVARCHAR2(2000) NOT NULL,\n    "JobId" NVARCHAR2(2000) NOT NULL,\n    "TriggerType" NVARCHAR2(2000),\n    "AssemblyName" NVARCHAR2(2000),\n    "Args" NVARCHAR2(2000),\n    "Description" NVARCHAR2(2000),\n    "Status" NUMBER(10) NOT NULL,\n    "StartTime" TIMESTAMP(7),\n    "EndTime" TIMESTAMP(7),\n    "LastRunTime" TIMESTAMP(7),\n    "NextRunTime" TIMESTAMP(7),\n    "NumberOfRuns" NUMBER(19) NOT NULL,\n    "MaxNumberOfRuns" NUMBER(19) NOT NULL,\n    "NumberOfErrors" NUMBER(19) NOT NULL,\n    "MaxNumberOfErrors" NUMBER(19) NOT NULL,\n    "NumRetries" NUMBER(10) NOT NULL,\n    "RetryTimeout" NUMBER(10) NOT NULL,\n    "StartNow" NUMBER(1) NOT NULL,\n    "RunOnStart" NUMBER(1) NOT NULL,\n    "ResetOnlyOnce" NUMBER(1) NOT NULL,\n    "UpdatedTime" TIMESTAMP(7),\n    CONSTRAINT "PK_JobTriggers" PRIMARY KEY ("Id")\n);\n'))),(0,i.kt)(u.Z,{value:"Firebird",mdxType:"TabItem"},(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u53ef\u81ea\u884c\u8c03\u6574\u5217\u547d\u540d\u89c4\u5219\u3002")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:"showLineNumbers {1,15}",showLineNumbers:!0,"{1,15}":!0},'CREATE TABLE "JobDetails" (\n    "Id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,\n    "JobId" BLOB SUB_TYPE TEXT NOT NULL,\n    "GroupName" BLOB SUB_TYPE TEXT,\n    "JobType" BLOB SUB_TYPE TEXT,\n    "AssemblyName" BLOB SUB_TYPE TEXT,\n    "Description" BLOB SUB_TYPE TEXT,\n    "Concurrent" BOOLEAN NOT NULL,\n    "IncludeAnnotations" BOOLEAN NOT NULL,\n    "Properties" BLOB SUB_TYPE TEXT,\n    "UpdatedTime" TIMESTAMP,\n    CONSTRAINT "PK_JobDetails" PRIMARY KEY ("Id")\n);\n\nCREATE TABLE "JobTriggers" (\n    "Id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,\n    "TriggerId" BLOB SUB_TYPE TEXT NOT NULL,\n    "JobId" BLOB SUB_TYPE TEXT NOT NULL,\n    "TriggerType" BLOB SUB_TYPE TEXT,\n    "AssemblyName" BLOB SUB_TYPE TEXT,\n    "Args" BLOB SUB_TYPE TEXT,\n    "Description" BLOB SUB_TYPE TEXT,\n    "Status" BIGINT NOT NULL,\n    "StartTime" TIMESTAMP,\n    "EndTime" TIMESTAMP,\n    "LastRunTime" TIMESTAMP,\n    "NextRunTime" TIMESTAMP,\n    "NumberOfRuns" BIGINT NOT NULL,\n    "MaxNumberOfRuns" BIGINT NOT NULL,\n    "NumberOfErrors" BIGINT NOT NULL,\n    "MaxNumberOfErrors" BIGINT NOT NULL,\n    "NumRetries" INTEGER NOT NULL,\n    "RetryTimeout" INTEGER NOT NULL,\n    "StartNow" BOOLEAN NOT NULL,\n    "RunOnStart" BOOLEAN NOT NULL,\n    "ResetOnlyOnce" BOOLEAN NOT NULL,\n    "UpdatedTime" TIMESTAMP,\n    CONSTRAINT "PK_JobTriggers" PRIMARY KEY ("Id")\n);\n'))),(0,i.kt)(u.Z,{value:"EFCore",mdxType:"TabItem"},(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u53ef\u81ea\u884c\u8c03\u6574\u5217\u547d\u540d\u89c4\u5219\u3002")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,56}",showLineNumbers:!0,"{1,56}":!0},'public class JobDetail\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int Id { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a Id\n    /// </summary>\n    public string JobId { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a\u7ec4\u540d\u79f0\n    /// </summary>\n    public string? GroupName { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\u7c7b\u578b\n    /// </summary>\n    /// <remarks>\u5b58\u50a8\u7684\u662f\u7c7b\u578b\u7684 FullName</remarks>\n    public string? JobType { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a\u5904\u7406\u7a0b\u5e8f\u7c7b\u578b\u6240\u5728\u7a0b\u5e8f\u96c6\n    /// </summary>\n    /// <remarks>\u5b58\u50a8\u7684\u662f\u7a0b\u5e8f\u96c6 Name</remarks>\n    public string? AssemblyName { get; set; }\n\n    /// <summary>\n    /// \u63cf\u8ff0\u4fe1\u606f\n    /// </summary>\n    public string? Description { get; set; }\n\n    /// <summary>\n    /// \u662f\u5426\u91c7\u7528\u5e76\u884c\u6267\u884c\n    /// </summary>\n    /// <remarks>\u5982\u679c\u8bbe\u7f6e\u4e3a false\uff0c\u90a3\u4e48\u4f7f\u7528\u4e32\u884c\u6267\u884c</remarks>\n    public bool Concurrent { get; set; } = true;\n\n    /// <summary>\n    /// \u662f\u5426\u626b\u63cf IJob \u5b9e\u73b0\u7c7b [Trigger] \u7279\u6027\u89e6\u53d1\u5668\n    /// </summary>\n    public bool IncludeAnnotations { get; set; } = false;\n\n    /// <summary>\n    /// \u4f5c\u4e1a\u4fe1\u606f\u989d\u5916\u6570\u636e\n    /// </summary>\n    public string? Properties { get; set; } = "{}";\n\n    /// <summary>\n    /// \u4f5c\u4e1a\u66f4\u65b0\u65f6\u95f4\n    /// </summary>\n    public DateTime? UpdatedTime { get; set; }\n}\n\npublic class JobTrigger\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int Id { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a\u89e6\u53d1\u5668 Id\n    /// </summary>\n    public string TriggerId { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a Id\n    /// </summary>\n    public string JobId { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a\u89e6\u53d1\u5668\u7c7b\u578b\n    /// </summary>\n    /// <remarks>\u5b58\u50a8\u7684\u662f\u7c7b\u578b\u7684 FullName</remarks>\n    public string? TriggerType { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a\u89e6\u53d1\u5668\u7c7b\u578b\u6240\u5728\u7a0b\u5e8f\u96c6\n    /// </summary>\n    /// <remarks>\u5b58\u50a8\u7684\u662f\u7a0b\u5e8f\u96c6 Name</remarks>\n    public string? AssemblyName { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a\u89e6\u53d1\u5668\u53c2\u6570\n    /// </summary>\n    /// <remarks>\u8fd0\u884c\u65f6\u5c06\u53cd\u5e8f\u5217\u5316\u4e3a object[] \u7c7b\u578b\u5e76\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u53c2\u6570</remarks>\n    public string? Args { get; set; }\n\n    /// <summary>\n    /// \u63cf\u8ff0\u4fe1\u606f\n    /// </summary>\n    public string? Description { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a\u89e6\u53d1\u5668\u72b6\u6001\n    /// </summary>\n    public TriggerStatus Status { get; set; } = TriggerStatus.Ready;\n\n    /// <summary>\n    /// \u8d77\u59cb\u65f6\u95f4\n    /// </summary>\n    public DateTime? StartTime { get; set; }\n\n    /// <summary>\n    /// \u7ed3\u675f\u65f6\u95f4\n    /// </summary>\n    public DateTime? EndTime { get; set; }\n\n    /// <summary>\n    /// \u6700\u8fd1\u8fd0\u884c\u65f6\u95f4\n    /// </summary>\n    public DateTime? LastRunTime { get; set; }\n\n    /// <summary>\n    /// \u4e0b\u4e00\u6b21\u8fd0\u884c\u65f6\u95f4\n    /// </summary>\n    public DateTime? NextRunTime { get; set; }\n\n    /// <summary>\n    /// \u89e6\u53d1\u6b21\u6570\n    /// </summary>\n    public long NumberOfRuns { get; set; }\n\n    /// <summary>\n    /// \u6700\u5927\u89e6\u53d1\u6b21\u6570\n    /// </summary>\n    /// <remarks>\n    /// <para>0\uff1a\u4e0d\u9650\u5236</para>\n    /// <para>n\uff1aN \u6b21</para>\n    /// </remarks>\n    public long MaxNumberOfRuns { get; set; }\n\n    /// <summary>\n    /// \u51fa\u9519\u6b21\u6570\n    /// </summary>\n    public long NumberOfErrors { get; set; }\n\n    /// <summary>\n    /// \u6700\u5927\u51fa\u9519\u6b21\u6570\n    /// </summary>\n    /// <remarks>\n    /// <para>0\uff1a\u4e0d\u9650\u5236</para>\n    /// <para>n\uff1aN \u6b21</para>\n    /// </remarks>\n    public long MaxNumberOfErrors { get; set; }\n\n    /// <summary>\n    /// \u91cd\u8bd5\u6b21\u6570\n    /// </summary>\n    public int NumRetries { get; set; } = 0;\n\n    /// <summary>\n    /// \u91cd\u8bd5\u95f4\u9694\u65f6\u95f4\n    /// </summary>\n    /// <remarks>\u9ed8\u8ba41000\u6beb\u79d2</remarks>\n    public int RetryTimeout { get; set; } = 1000;\n\n    /// <summary>\n    /// \u662f\u5426\u7acb\u5373\u542f\u52a8\n    /// </summary>\n    public bool StartNow { get; set; } = true;\n\n    /// <summary>\n    /// \u662f\u5426\u542f\u52a8\u65f6\u6267\u884c\u4e00\u6b21\n    /// </summary>\n    public bool RunOnStart { get; set; } = false;\n\n    /// <summary>\n    /// \u662f\u5426\u5728\u542f\u52a8\u65f6\u91cd\u7f6e\u6700\u5927\u89e6\u53d1\u6b21\u6570\u7b49\u4e8e\u4e00\u6b21\u7684\u4f5c\u4e1a\n    /// </summary>\n    /// <remarks>\u89e3\u51b3\u56e0\u6301\u4e45\u5316\u6570\u636e\u5df2\u5b8c\u6210\u4e00\u6b21\u89e6\u53d1\u4f46\u542f\u52a8\u65f6\u4e0d\u518d\u6267\u884c\u7684\u95ee\u9898</remarks>\n    public bool ResetOnlyOnce { get; set; } = true;\n\n    /// <summary>\n    /// \u4f5c\u4e1a\u89e6\u53d1\u5668\u66f4\u65b0\u65f6\u95f4\n    /// </summary>\n    public DateTime? UpdatedTime { get; set; }\n}\n'))),(0,i.kt)(u.Z,{value:"SqlSugar",mdxType:"TabItem"},(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u53ef\u81ea\u884c\u8c03\u6574\u5217\u547d\u540d\u89c4\u5219\u3002")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {2,66}",showLineNumbers:!0,"{2,66}":!0},'[SugarTable("JobDetail", "\u4f5c\u4e1a\u4fe1\u606f\u8868")]\npublic class JobDetail\n{\n    /// <summary>\n    /// Id\n    /// </summary>\n    [SugarColumn(ColumnDescription = "Id", IsPrimaryKey = true, IsIdentity = true)]\n    public virtual long Id { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a Id\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u4f5c\u4e1aId")]\n    public virtual string JobId { get; set; }\n\n    /// <summary>\n    /// \u7ec4\u540d\u79f0\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u7ec4\u540d\u79f0")]\n    public string? GroupName { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a\u7c7b\u578b FullName\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u4f5c\u4e1a\u7c7b\u578b")]\n    public string? JobType { get; set; }\n\n    /// <summary>\n    /// \u7a0b\u5e8f\u96c6 Name\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u7a0b\u5e8f\u96c6")]\n    public string? AssemblyName { get; set; }\n\n    /// <summary>\n    /// \u63cf\u8ff0\u4fe1\u606f\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u63cf\u8ff0\u4fe1\u606f")]\n    public string? Description { get; set; }\n\n    /// <summary>\n    /// \u662f\u5426\u5e76\u884c\u6267\u884c\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u662f\u5426\u5e76\u884c\u6267\u884c")]\n    public bool Concurrent { get; set; } = true;\n\n    /// <summary>\n    /// \u662f\u5426\u626b\u63cf\u7279\u6027\u89e6\u53d1\u5668\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u662f\u5426\u626b\u63cf\u7279\u6027\u89e6\u53d1\u5668")]\n    public bool IncludeAnnotations { get; set; } = false;\n\n    /// <summary>\n    /// \u989d\u5916\u6570\u636e\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u989d\u5916\u6570\u636e", ColumnDataType = "longtext,text,clob")]\n    public string? Properties { get; set; } = "{}";\n\n    /// <summary>\n    /// \u66f4\u65b0\u65f6\u95f4\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u66f4\u65b0\u65f6\u95f4")]\n    public DateTime? UpdatedTime { get; set; }\n}\n\n[SugarTable("JobTrigger", "\u4f5c\u4e1a\u89e6\u53d1\u5668\u8868")]\npublic class JobTrigger\n{\n    /// <summary>\n    /// Id\n    /// </summary>\n    [SugarColumn(ColumnDescription = "Id", IsPrimaryKey = true, IsIdentity = true)]\n    public virtual long Id { get; set; }\n\n    /// <summary>\n    /// \u89e6\u53d1\u5668 Id\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u89e6\u53d1\u5668Id")]\n    public virtual string TriggerId { get; set; }\n\n    /// <summary>\n    /// \u4f5c\u4e1a Id\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u4f5c\u4e1aId")]\n    public virtual string JobId { get; set; }\n\n    /// <summary>\n    /// \u89e6\u53d1\u5668\u7c7b\u578b FullName\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u89e6\u53d1\u5668\u7c7b\u578b")]\n    public string? TriggerType { get; set; }\n\n    /// <summary>\n    /// \u7a0b\u5e8f\u96c6 Name\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u7a0b\u5e8f\u96c6")]\n    public string? AssemblyName { get; set; }\n\n    /// <summary>\n    /// \u53c2\u6570\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u53c2\u6570")]\n    public string? Args { get; set; }\n\n    /// <summary>\n    /// \u63cf\u8ff0\u4fe1\u606f\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u63cf\u8ff0\u4fe1\u606f")]\n    public string? Description { get; set; }\n\n    /// <summary>\n    /// \u72b6\u6001\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u72b6\u6001")]\n    public TriggerStatus Status { get; set; } = TriggerStatus.Ready;\n\n    /// <summary>\n    /// \u8d77\u59cb\u65f6\u95f4\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u8d77\u59cb\u65f6\u95f4")]\n    public DateTime? StartTime { get; set; }\n\n    /// <summary>\n    /// \u7ed3\u675f\u65f6\u95f4\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u7ed3\u675f\u65f6\u95f4")]\n    public DateTime? EndTime { get; set; }\n\n    /// <summary>\n    /// \u6700\u8fd1\u8fd0\u884c\u65f6\u95f4\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u6700\u8fd1\u8fd0\u884c\u65f6\u95f4")]\n    public DateTime? LastRunTime { get; set; }\n\n    /// <summary>\n    /// \u4e0b\u4e00\u6b21\u8fd0\u884c\u65f6\u95f4\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u4e0b\u4e00\u6b21\u8fd0\u884c\u65f6\u95f4")]\n    public DateTime? NextRunTime { get; set; }\n\n    /// <summary>\n    /// \u89e6\u53d1\u6b21\u6570\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u89e6\u53d1\u6b21\u6570")]\n    public long NumberOfRuns { get; set; }\n\n    /// <summary>\n    /// \u6700\u5927\u89e6\u53d1\u6b21\u6570\uff080:\u4e0d\u9650\u5236\uff0cn:N\u6b21\uff09\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u6700\u5927\u89e6\u53d1\u6b21\u6570")]\n    public long MaxNumberOfRuns { get; set; }\n\n    /// <summary>\n    /// \u51fa\u9519\u6b21\u6570\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u51fa\u9519\u6b21\u6570")]\n    public long NumberOfErrors { get; set; }\n\n    /// <summary>\n    /// \u6700\u5927\u51fa\u9519\u6b21\u6570\uff080:\u4e0d\u9650\u5236\uff0cn:N\u6b21\uff09\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u6700\u5927\u51fa\u9519\u6b21\u6570")]\n    public long MaxNumberOfErrors { get; set; }\n\n    /// <summary>\n    /// \u91cd\u8bd5\u6b21\u6570\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u91cd\u8bd5\u6b21\u6570")]\n    public int NumRetries { get; set; }\n\n    /// <summary>\n    /// \u91cd\u8bd5\u95f4\u9694\u65f6\u95f4\uff08ms\uff09\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u91cd\u8bd5\u95f4\u9694\u65f6\u95f4(ms)")]\n    public int RetryTimeout { get; set; } = 1000;\n\n    /// <summary>\n    /// \u662f\u5426\u7acb\u5373\u542f\u52a8\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u662f\u5426\u7acb\u5373\u542f\u52a8")]\n    public bool StartNow { get; set; } = true;\n\n    /// <summary>\n    /// \u662f\u5426\u542f\u52a8\u65f6\u6267\u884c\u4e00\u6b21\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u662f\u5426\u542f\u52a8\u65f6\u6267\u884c\u4e00\u6b21")]\n    public bool RunOnStart { get; set; } = false;\n\n    /// <summary>\n    /// \u662f\u5426\u5728\u542f\u52a8\u65f6\u91cd\u7f6e\u6700\u5927\u89e6\u53d1\u6b21\u6570\u7b49\u4e8e\u4e00\u6b21\u7684\u4f5c\u4e1a\n    /// </summary>\n    /// <remarks>\u89e3\u51b3\u56e0\u6301\u4e45\u5316\u6570\u636e\u5df2\u5b8c\u6210\u4e00\u6b21\u89e6\u53d1\u4f46\u542f\u52a8\u65f6\u4e0d\u518d\u6267\u884c\u7684\u95ee\u9898</remarks>\n    [SugarColumn(ColumnDescription = "\u662f\u5426\u5728\u542f\u52a8\u65f6\u91cd\u7f6e\u6700\u5927\u89e6\u53d1\u6b21\u6570\u7b49\u4e8e\u4e00\u6b21\u7684\u4f5c\u4e1a")]\n    public bool ResetOnlyOnce { get; set; } = true;\n\n    /// <summary>\n    /// \u66f4\u65b0\u65f6\u95f4\n    /// </summary>\n    [SugarColumn(ColumnDescription = "\u66f4\u65b0\u65f6\u95f4")]\n    public DateTime? UpdatedTime { get; set; }\n}\n')))),(0,i.kt)("h2",{id:"26113-\u4f5c\u4e1a\u96c6\u7fa4\u63a7\u5236"},"26.1.13 \u4f5c\u4e1a\u96c6\u7fa4\u63a7\u5236"),(0,i.kt)("p",null,"\u6846\u67b6\u63d0\u4f9b\u7b80\u5355\u7684\u96c6\u7fa4\u529f\u80fd\uff0c\u4f46\u5e76\u4e0d\u80fd\u8fbe\u5230\u8d1f\u8f7d\u5747\u8861\u7684\u6548\u679c\uff0c\u800c\u4ec5\u4ec5\u63d0\u4f9b\u4e86\u6545\u969c\u8f6c\u79fb\u7684\u529f\u80fd\uff0c\u5f53\u4e00\u4e2a\u670d\u52a1\u7684\u4f5c\u4e1a\u8c03\u5ea6\u5668\u5b95\u673a\u65f6\uff0c\u53e6\u4e00\u4e2a\u670d\u52a1\u7684\u4f5c\u4e1a\u8c03\u5ea6\u5668\u4f1a\u542f\u52a8\u3002"),(0,i.kt)("h3",{id:"261131-\u5b9e\u73b0\u96c6\u7fa4\u6545\u969c\u8f6c\u79fb"},"26.1.13.1 \u5b9e\u73b0\u96c6\u7fa4\u6545\u969c\u8f6c\u79fb"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u521b\u5efa ",(0,i.kt)("inlineCode",{parentName:"strong"},"JobClusterServer")," \u7c7b\u5e76\u5b9e\u73b0 ",(0,i.kt)("inlineCode",{parentName:"strong"},"IJobClusterServer")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,9,21-37,46,55,65}",showLineNumbers:!0,"{1,9,21-37,46,55,65}":!0},'public class JobClusterServer : IJobClusterServer\n{\n    /// <summary>\n    /// \u5f53\u524d\u4f5c\u4e1a\u8c03\u5ea6\u5668\u542f\u52a8\u901a\u77e5\n    /// </summary>\n    /// <param name="context">\u4f5c\u4e1a\u96c6\u7fa4\u670d\u52a1\u4e0a\u4e0b\u6587</param>\n    public void Start(JobClusterContext context)\n    {\n        // \u5728\u4f5c\u4e1a\u96c6\u7fa4\u8868\u4e2d\uff0c\u5982\u679c clusterId \u4e0d\u5b58\u5728\uff0c\u5219\u65b0\u589e\u4e00\u6761\uff08\u5426\u5219\u66f4\u65b0\u4e00\u6761\uff09\uff0c\u5e76\u8bbe\u7f6e status \u4e3a ClusterStatus.Waiting\n    }\n\n    /// <summary>\n    /// \u7b49\u5f85\u88ab\u5524\u9192\n    /// </summary>\n    /// <param name="context">\u4f5c\u4e1a\u96c6\u7fa4\u670d\u52a1\u4e0a\u4e0b\u6587</param>\n    /// <returns><see cref="Task"/></returns>\n    public async Task WaitingForAsync(JobClusterContext context)\n    {\n        var clusterId = context.ClusterId;\n\n        while (true)\n        {\n            try\n            {\n                // \u5728\u8fd9\u91cc\u67e5\u8be2\u6570\u636e\u5e93\uff0c\u6839\u636e\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\u5904\u7406\n                // 1) \u5982\u679c\u4f5c\u4e1a\u96c6\u7fa4\u8868\u5df2\u6709 status \u4e3a ClusterStatus.Working \u5219\u7ee7\u7eed\u5faa\u73af\n                // 2) \u5982\u679c\u4f5c\u4e1a\u96c6\u7fa4\u8868\u4e2d\u8fd8\u6ca1\u6709\u5176\u4ed6\u670d\u52a1\u6216\u53ea\u6709\u81ea\u5df1\uff0c\u5219\u63d2\u5165\u4e00\u6761\u96c6\u7fa4\u670d\u52a1\u6216\u8c03\u7528 await WorkNowAsync(clusterId); \u4e4b\u540e return;\n                // 3) \u5982\u679c\u4f5c\u4e1a\u96c6\u7fa4\u8868\u4e2d\u6ca1\u6709 status \u4e3a ClusterStatus.Working \u7684\uff0c\u8c03\u7528 await WorkNowAsync(clusterId); \u4e4b\u540e return;\n\n                await WorkNowAsync(clusterId);\n                return;\n            }\n            catch { }\n\n            // \u63a7\u5236\u96c6\u7fa4\u5fc3\u8df3\u9891\u7387\n            await Task.Delay(3000);\n        }\n    }\n\n    /// <summary>\n    /// \u5f53\u524d\u4f5c\u4e1a\u8c03\u5ea6\u5668\u505c\u6b62\u901a\u77e5\n    /// </summary>\n    /// <param name="context">\u4f5c\u4e1a\u96c6\u7fa4\u670d\u52a1\u4e0a\u4e0b\u6587</param>\n    public void Stop(JobClusterContext context)\n    {\n        // \u5728\u4f5c\u4e1a\u96c6\u7fa4\u8868\u4e2d\uff0c\u66f4\u65b0 clusterId \u7684 status \u4e3a ClusterStatus.Crashed\n    }\n\n    /// <summary>\n    /// \u5f53\u524d\u4f5c\u4e1a\u8c03\u5ea6\u5668\u5b95\u673a\n    /// </summary>\n    /// <param name="context">\u4f5c\u4e1a\u96c6\u7fa4\u670d\u52a1\u4e0a\u4e0b\u6587</param>\n    public void Crash(JobClusterContext context)\n    {\n        // \u5728\u4f5c\u4e1a\u96c6\u7fa4\u8868\u4e2d\uff0c\u66f4\u65b0 clusterId \u7684 status \u4e3a ClusterStatus.Crashed\n    }\n\n    /// <summary>\n    /// \u6307\u793a\u96c6\u7fa4\u53ef\u4ee5\u5de5\u4f5c\n    /// </summary>\n    /// <param name="clusterId">\u96c6\u7fa4 Id</param>\n    /// <returns></returns>\n    private Task WorkNowAsync(string clusterId)\n    {\n        // \u5728\u4f5c\u4e1a\u96c6\u7fa4\u8868\u4e2d\uff0c\u66f4\u65b0 clusterId \u7684 status \u4e3a ClusterStatus.Working\n\n        return Task.CompletedTask;\n    }\n}\n')),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u6ce8\u518c\u96c6\u7fa4\u670d\u52a1"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {3-4}",showLineNumbers:!0,"{3-4}":!0},'services.AddSchedule(options =>\n{\n      options.ClusterId = "cluster1";\n      options.AddClusterServer<JobClusterServer>();\n});\n')),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"\u4f5c\u4e1a\u96c6\u7fa4\u8f93\u51fa\u65e5\u5fd7"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers {4,6,8,12}",showLineNumbers:!0,"{4,6,8,12}":!0},"info: 2022-11-23 14:08:35.4253321 +08:00 \u661f\u671f\u4e09 L System.Logging.ScheduleService[0] #1\n      Schedule Hosted Service is running.\ninfo: 2022-11-23 14:08:35.4391070 +08:00 \u661f\u671f\u4e09 L System.Logging.ScheduleService[0] #1\n      The job cluster of <cluster1> service has been enabled, waiting for instructions.\nwarn: 2022-11-23 14:08:38.4590092 +08:00 \u661f\u671f\u4e09 L System.Logging.ScheduleService[0] #8\n      The job cluster of <cluster1> service has been enabled, and the current job scheduler can work normally.\nwarn: 2022-11-23 14:08:38.4823786 +08:00 \u661f\u671f\u4e09 L System.Logging.ScheduleService[0] #8\n      Schedule Hosted Service cancels hibernation and GC.Collect().\ninfo: 2022-11-23 14:08:38.4909379 +08:00 \u661f\u671f\u4e09 L System.Logging.ScheduleService[0] #8\n      The Scheduler of <job1> successfully updated to the schedule.\ninfo: 2022-11-23 14:08:43.5211812 +08:00 \u661f\u671f\u4e09 L ConsoleApp32.MyJob[0] #15\n      <job1>   <job1 job1_trigger1>  5000ms 2022/11/23 14:08:43\n")),(0,i.kt)("h3",{id:"261132-\u4f5c\u4e1a\u96c6\u7fa4\u6570\u636e\u5e93\u8868\u8bbe\u8ba1"},"26.1.13.2 \u4f5c\u4e1a\u96c6\u7fa4\u6570\u636e\u5e93\u8868\u8bbe\u8ba1"),(0,i.kt)("p",null,"\u53ea\u9700\u5305\u542b ",(0,i.kt)("inlineCode",{parentName:"p"},"Id"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"ClusterId"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Description"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Status"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"UpdatedTime")," \u5b57\u6bb5\u5373\u53ef\uff0c\u5176\u4e2d ",(0,i.kt)("inlineCode",{parentName:"p"},"Status")," \u662f ",(0,i.kt)("inlineCode",{parentName:"p"},"ClusterStatus")," \u679a\u4e3e\u7c7b\u578b\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"ClusterStatus"))," \u5305\u542b\u4ee5\u4e0b\u679a\u4e3e\u6210\u5458",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Crashed"),"\uff1a\u5b95\u673a"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Working"),"\uff1a\u6b63\u5e38\u5de5\u4f5c"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Waiting"),"\uff1a\u7b49\u5f85\u88ab\u5524\u9192\uff0c\u9ed8\u8ba4\u503c")))),(0,i.kt)("h3",{id:"261133-\u5982\u4f55\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861"},"26.1.13.3 \u5982\u4f55\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861"),(0,i.kt)("p",null,"\u6846\u67b6\u53ea\u63d0\u4f9b\u4e86\u7b80\u5355\u7684\u6545\u969c\u8f6c\u79fb\u7684\u96c6\u7fa4\u529f\u80fd\uff0c\u5982\u9700\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\uff0c\u53ef\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"TCP/IP")," \u5957\u63a5\u5b57\u5b9e\u73b0\uff0c\u8fd9\u91cc\u770b\u540e\u7eed\u9700\u6c42\uff0c\u5982\u679c\u9700\u6c42\u5927\uff0c\u5c31\u628a\u5b8c\u6574\u7684\u8d1f\u8f7d\u5747\u8861\u4f8b\u5b50\u8865\u4e0a\u3002"),(0,i.kt)("h2",{id:"26114-scheduleserve-\u9759\u6001\u7c7b"},"26.1.14 ",(0,i.kt)("inlineCode",{parentName:"h2"},"ScheduleServe")," \u9759\u6001\u7c7b"),(0,i.kt)("p",null,"\u8be5\u529f\u80fd ",(0,i.kt)("strong",{parentName:"p"},"\u5efa\u8bae")," \u4ec5\u9650\u4e0d\u80fd\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"services.AddXXX")," \u65b9\u5f0f\u4f7f\u7528\uff0c\u6bd4\u5982\u63a7\u5236\u53f0\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Winfrom/WPF")," \u7b49\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,3}",showLineNumbers:!0,"{1,3}":!0},"IDisposable dispose =  ScheduleServe.Run(options =>\n{\n    options.AddJob<MyJob>(Triggers.Secondly());\n});\n")),(0,i.kt)("p",null,"\u8fd9\u79cd\u65b9\u5f0f\u6709\u4e00\u4e2a\u9690\u85cf\u7684\u5de8\u5927\u9690\u85cf \u201c\u9a9a\u64cd\u4f5c\u201d\uff1a",(0,i.kt)("strong",{parentName:"p"},"\u53ef\u4ee5\u5728\u4efb\u4f55\u5730\u65b9\u521b\u5efa\u4f5c\u4e1a\u8c03\u5ea6\u670d\u52a1\uff0c\u591a\u6b21\u8c03\u7528\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u4f5c\u4e1a\u8c03\u5ea6\u5668\u3002")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"\u63a8\u8350\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"Serve.Run()")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"Serve.RunGeneric()")," \u65b9\u5f0f\u66ff\u4ee3"),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"Furion")," \u6846\u67b6\u63d0\u4f9b\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"Serve.Run()")," \u65b9\u5f0f\u652f\u6301\u8de8\u5e73\u53f0\u4f7f\u7528\uff0c\u8fd8\u80fd\u652f\u6301\u6ce8\u518c\u66f4\u591a\u670d\u52a1\uff0c\u5982\uff1a"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {1,3,5}",showLineNumbers:!0,"{1,3,5}":!0},"Serve.Run(services =>\n{\n    services.AddSchedule(options =>\n    {\n        options.Add<MyJob>(Triggers.Secondly());\n    });\n})\n")),(0,i.kt)("p",{parentName:"admonition"},"\u5982\u65e0\u9700 ",(0,i.kt)("inlineCode",{parentName:"p"},"Web")," \u529f\u80fd\uff0c\u53ef\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"Serve.RunGeneric")," \u66ff\u4ee3 ",(0,i.kt)("inlineCode",{parentName:"p"},"Serve.Run"),"\u3002")),(0,i.kt)("h2",{id:"26115-\u5982\u4f55\u90e8\u7f72"},"26.1.15 \u5982\u4f55\u90e8\u7f72"),(0,i.kt)("p",null,"\u5982\u679c\u5728\u9879\u76ee\u4e2d\u4f7f\u7528\u4e86\u5b9a\u65f6\u4efb\u52a1\u4e14\u90e8\u7f72\u5230 ",(0,i.kt)("inlineCode",{parentName:"p"},"IIS")," \u4e2d\uff0c\u90a3\u4e48\u9700\u8981\u8bbe\u7f6e ",(0,i.kt)("inlineCode",{parentName:"p"},"IIS")," \u7981\u6b62\u56de\u6536\uff0c",(0,i.kt)("a",{parentName:"p",href:"/docs/deploy-iis#3415-iis-%E5%9B%9E%E6%94%B6%E9%97%AE%E9%A2%98%E5%92%8C%E9%85%8D%E7%BD%AE"},"\u70b9\u51fb\u67e5\u770b ",(0,i.kt)("inlineCode",{parentName:"a"},"IIS")," \u56de\u6536\u95ee\u9898\u89e3\u51b3\u65b9\u6848")),(0,i.kt)("admonition",{title:"\u90e8\u7f72\u5efa\u8bae",type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"\u5efa\u8bae\u5b9a\u65f6\u4efb\u52a1\u91c7\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"Worker Service")," \u72ec\u7acb\u90e8\u7f72\u65b9\u5f0f\uff0c\u4e0d\u5e94\u4f9d\u6258 ",(0,i.kt)("inlineCode",{parentName:"p"},"Web")," \u9879\u76ee\u8fdb\u7a0b\u4e2d\u3002",(0,i.kt)("a",{parentName:"p",href:"/docs/process-service"},"\u67e5\u770b\u3010 Worker Service\u3011\u7ae0\u8282"))),(0,i.kt)("h2",{id:"26116-\u5e38\u89c1\u95ee\u9898"},"26.1.16 \u5e38\u89c1\u95ee\u9898"),(0,i.kt)("h3",{id:"261161-\u4f5c\u4e1a\u89e6\u53d1\u65f6\u95f4\u5b58\u5728\u504f\u5dee"},"26.1.16.1 \u4f5c\u4e1a\u89e6\u53d1\u65f6\u95f4\u5b58\u5728\u504f\u5dee"),(0,i.kt)("p",null,"\u901a\u5e38\u6211\u4eec\u4f1a\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"IJob")," \u5b9e\u73b0\u7c7b\u578b\u4e2d\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\uff0c\u4f46\u662f\u8fd9\u4e2a\u65f6\u95f4\u53ef\u80fd\u5b58\u5728\u7740\u6781\u5c0f\u7684\u8bef\u5dee\uff0c\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers {5,8}",showLineNumbers:!0,"{5,8}":!0},"public class MyJob : IJob\n{\n    public async Task ExecuteAsync(JobExecutingContext context, CancellationToken stoppingToken)\n    {\n        var nowTime = DateTime.Now; // \u6b64\u65f6\u7684\u65f6\u95f4\u672a\u5fc5\u662f\u771f\u5b9e\u89e6\u53d1\u65f6\u95f4\uff0c\u56e0\u4e3a\u8fd8\u5305\u542b\u521b\u5efa\u7ebf\u7a0b\uff0c\u521d\u59cb\u5316\u7b49\u7b49\u65f6\u95f4\n\n        // \u6b63\u786e\u7684\u505a\u6cd5\u662f\n        var nowTime = context.OccurrenceTime;\n    }\n}\n")),(0,i.kt)("h2",{id:"26117-\u53cd\u9988\u4e0e\u5efa\u8bae"},"26.1.17 \u53cd\u9988\u4e0e\u5efa\u8bae"),(0,i.kt)("admonition",{title:"\u4e0e\u6211\u4eec\u4ea4\u6d41",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"\u7ed9 Furion \u63d0 ",(0,i.kt)("a",{parentName:"p",href:"https://gitee.com/dotnetchina/Furion/issues/new?issue"},"Issue"),"\u3002")))}b.isMDXComponent=!0}}]);