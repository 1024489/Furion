---
id: dbcontext-add
title: 8.4 新增操作
sidebar_label: 8.4 新增操作
---

`Fur` 框架提供非常多的语法糖进行数据库操作。

## 8.4.1 新增一条，无返回值

```cs
var user = new User { Name = "百小僧", Age = 27 };

// 例子一
repository.Insert(user);

// 例子二
await repository.InsertAsync(user);

// 例子三
user.Insert();

// 例子四
await user.InsertAsync();

// 例子五
repository.Entities.Add(user);

// 例子六
await repository.Entities.AddAsync(user);

// 例子七
repository.ChangeEntityState(user, EntityState.Added);
```

## 8.4.2 新增一条，返回最新数据

```cs
// 例子一
var newEntity = repository.InsertNow(user);

// 例子二
var newEntity = await repository.InsertNowAsync(user); // 有三个重载

// 例子三
var newEntity = user.InsertNow();

// 例子四
var newEntity = await user.InsertNowAsync();  // 有三个重载
```

## 8.4.3 新增多条（不立即操作数据库）

```cs
// 例子一
repository.Insert(user, user2);

// 例子二
repository.Insert(new List<User> { user, user2 });

// 例子三
repository.Insert(new[] {user, user2 });

// 例子四
await repository.InsertAsync(user, user2);

// 例子五
await repository.InsertAsync(new List<User> { user, user2 });

// 例子六
await repository.InsertAsync(new[] {user, user2 });
```

## 8.4.4 新增多条（立即操作数据库）

```cs
// 例子一
repository.InsertNow(user, user2);

// 例子二
repository.InsertNow(new List<User> { user, user2 });

// 例子三
repository.InsertNow(new[] {user, user2 });

// 例子四
await repository.InsertNowAsync(user, user2);

// 例子五
await repository.InsertNowAsync(new List<User> { user, user2 });

// 例子六
await repository.InsertNowAsync(new[] {user, user2 });
```

:::tip 小知识

所有带 `Now` 结尾的表示立即提交到数据库，也就是立即调用 `SaveChanges` 或 `SaveChangesAsync`。

:::

## 8.4.5 反馈与建议

:::note 与我们交流

给 Fur 提 [Issue](https://gitee.com/monksoul/Fur/issues/new?issue)。

:::
