---
id: virtual-deploy
title: 27.4 二级虚拟目录部署
sidebar_label: 27.4 二级虚拟目录部署
---

import JoinGroup from "../src/components/JoinGroup";

<JoinGroup />

## 27.4.1 关于二级虚拟目录

通常我们的站点都是部署在网站的根目录下的，但是有些时候，我们可能将网站根目录下的目录作为二级站点或子站点，这个时候，就会出现 `404` 错误了。

这个时候就需要进行一些特殊配置了。

### 27.4.1.2 配置 `Startup.cs`

首先，我们需要配置 `Startup.cs` 中的 `Configure`，如：

```cs {3}
public void Configure(IApplicationBuilder application, IWebHostEnvironment env)
{
    application.Map("/二级目录", app=>
    {
        // 其他中间件代码全部在这里面写
    });
}
```

### 27.4.1.3 启用 `Swagger` 虚拟目录支持

第二步，在 `appsettings.json` 配置文件（其他配置文件也可以）中添加以下配置：

```json {2-3}
{
  "SpecificationDocumentSettings": {
    "VirtualPath": "/二级目录"
  }
}
```

## 27.4.2 反馈与建议

:::note 与我们交流

给 Furion 提 [Issue](https://gitee.com/monksoul/Furion/issues/new?issue)。

:::
