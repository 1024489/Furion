{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "properties": {
        "AppSettings": {
            "type": "object",
            "description": "应用全局配置",
            "properties": {
                "InjectMiniProfiler": {
                    "type": "boolean",
                    "description": "集成 MiniProfiler 组件",
                    "default": true
                },
                "InjectSpecificationDocument": {
                    "type": "boolean",
                    "description": "是否启用规范化文档",
                    "default": true
                },
                "EnabledReferenceAssemblyScan": {
                    "type": "boolean",
                    "description": "是否启用引用程序集扫描",
                    "default": false
                },
                "ExternalAssemblies": {
                    "type": "array",
                    "description": "外部程序集，扫描 dll 文件，如果是单文件发布，需拷贝放在根目录下",
                    "default": [],
                    "items": {
                        "type": "string",
                        "description": "格式：程序集名称;接口完整名称，如：Furion.Application;Furion.Application.ITestService"
                    }
                },
                "PrintDbConnectionInfo": {
                    "type": "boolean",
                    "description": "是否打印数据库连接信息到 MiniProfiler 中",
                    "default": true
                },
                "OutputOriginalSqlExecuteLog": {
                    "type": "boolean",
                    "description": "是否输出原始 Sql 执行日志（ADO.NET）",
                    "default": true
                },
                "SupportPackageNamePrefixs": {
                    "type": "array",
                    "description": "配置支持的包前缀名，只有特定的包名前缀才会被框架扫描",
                    "default": [],
                    "items": {
                        "type": "string",
                        "description": "程序集前缀"
                    }
                },
                "VirtualPath": {
                    "type": "string",
                    "description": "【部署】二级虚拟目录",
                    "default": ""
                },
                "IgnoreConfigurationFiles": {
                    "type": "array",
                    "description": "配置被忽略扫描的 json 配置文件",
                    "default": [],
                    "items": {
                        "type": "string",
                        "description": "json 配置文件名称"
                    }
                },
                "ConfigurationScanDirectories": {
                    "type": "array",
                    "description": "自定义 json 扫描目录",
                    "default": [],
                    "items": {
                        "type": "string",
                        "description": "目录名称"
                    }
                }
            }
        },
        "CorsAccessorSettings": {
            "type": "object",
            "description": "跨域配置选项",
            "properties": {
                "PolicyName": {
                    "type": "string",
                    "description": "策略名称",
                    "default": "App.Cors.Policy"
                },
                "WithOrigins": {
                    "type": "array",
                    "description": "允许来源域名，没有配置则允许所有来源",
                    "default": [],
                    "items": {
                        "type": "string"
                    }
                },
                "WithHeaders": {
                    "type": "array",
                    "description": "请求表头，没有配置则允许所有表头",
                    "default": [],
                    "items": {
                        "type": "string"
                    }
                },
                "WithExposedHeaders": {
                    "type": "array",
                    "description": "设置客户端可获取的响应标头",
                    "default": [],
                    "items": {
                        "type": "string"
                    }
                },
                "WithMethods": {
                    "type": "array",
                    "description": "设置跨域允许请求谓词，没有配置则允许所有",
                    "default": [],
                    "items": {
                        "type": "string"
                    }
                },
                "AllowCredentials": {
                    "type": "boolean",
                    "description": "是否允许跨域请求中的凭据",
                    "default": true
                },
                "SetPreflightMaxAge": {
                    "type": "number",
                    "description": "设置预检过期时间",
                    "default": 86400
                }
            }
        },
        "ValidationTypeMessageSettings": {
            "type": "object",
            "description": "验证消息配置选项",
            "properties": {
                "Definitions": {
                    "type": "array",
                    "description": "配置验证类型对应的消息类型，[类型名称，类型消息][] 类型，如：[\"Required\", \"值不能为空或Null\"]",
                    "default": [],
                    "items": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "DependencyInjectionSettings": {
            "type": "object",
            "description": "依赖注入配置选项",
            "properties": {
                "Definitions": {
                    "type": "array",
                    "description": "外部注册定义",
                    "default": [],
                    "items": {
                        "type": "object",
                        "description": "外部注册类型模型",
                        "properties": {
                            "Interface": {
                                "type": "string",
                                "description": "接口类型，格式：\"程序集名称;接口完整名称\""
                            },
                            "Service": {
                                "type": "string",
                                "description": "实例类型，格式：\"程序集名称;接口完整名称\""
                            },
                            "RegisterType": {
                                "type": "string",
                                "description": "注册类型",
                                "enum": [
                                    "Transient",
                                    "Scoped",
                                    "Singleton"
                                ]
                            },
                            "Action": {
                                "type": "string",
                                "description": "添加服务方式，存在不添加，或继续添加",
                                "enum": [
                                    "Add",
                                    "TryAdd"
                                ]
                            },
                            "Pattern": {
                                "type": "string",
                                "description": "注册选项",
                                "enum": [
                                    "Self",
                                    "FirstInterface",
                                    "SelfWithFirstInterface",
                                    "ImplementedInterfaces",
                                    "All"
                                ]
                            },
                            "Named": {
                                "type": "string",
                                "description": "注册别名，多服务时使用"
                            },
                            "Order": {
                                "type": "number",
                                "description": "排序，排序越大，则在后面注册",
                                "default": 0
                            },
                            "Proxy": {
                                "type": "string",
                                "description": "代理类型，格式：\"程序集名称;接口完整名称\""
                            }
                        }
                    }
                }
            }
        },
        "DynamicApiControllerSettings": {
            "type": "object",
            "description": "动态接口控制器配置",
            "properties": {
                "DefaultRoutePrefix": {
                    "type": "string",
                    "description": "默认路由前缀",
                    "default": "api"
                },
                "DefaultHttpMethod": {
                    "type": "string",
                    "description": "默认请求谓词",
                    "enum": [
                        "GET",
                        "POST",
                        "PUT",
                        "DELETE",
                        "PATCH",
                        "HEAD"
                    ],
                    "default": "POST"
                },
                "DefaultModule": {
                    "type": "string",
                    "description": "默认模块名称"
                },
                "LowercaseRoute": {
                    "type": "boolean",
                    "description": "小写路由",
                    "default": true
                },
                "AsLowerCamelCase": {
                    "type": "boolean",
                    "description": "小驼峰命名（首字符小写）",
                    "default": false
                },
                "KeepVerb": {
                    "type": "boolean",
                    "description": "保留行为名称谓词",
                    "default": false
                },
                "KeepName": {
                    "type": "boolean",
                    "description": "保留名称",
                    "default": false
                },
                "CamelCaseSeparator": {
                    "type": "string",
                    "description": "骆驼命名分隔符",
                    "default": "-"
                },
                "VersionSeparator": {
                    "type": "string",
                    "description": "版本号分隔符",
                    "default": "@"
                },
                "ModelToQuery": {
                    "type": "boolean",
                    "description": "模型转查询参数（只有GET、HEAD请求有效）",
                    "default": false
                },
                "SupportedMvcController": {
                    "type": "boolean",
                    "description": "支持Mvc控制器处理",
                    "default": false
                },
                "UrlParameterization": {
                    "type": "boolean",
                    "description": "配置参数 [FromQuery] 化，默认 false ([FromRoute])",
                    "default": false
                },
                "AbandonControllerAffixes": {
                    "type": "array",
                    "description": "被舍弃的控制器名称前后缀",
                    "default": [
                        "AppServices",
                        "AppService",
                        "ApiController",
                        "Controller",
                        "Services",
                        "Service"
                    ],
                    "items": {
                        "type": "string"
                    }
                },
                "AbandonActionAffixes": {
                    "type": "array",
                    "description": "被舍弃的行为名称前后缀",
                    "default": [
                        "Async"
                    ],
                    "items": {
                        "type": "string"
                    }
                },
                "VerbToHttpMethods": {
                    "type": "array",
                    "description": "复写默认配置路由规则配置",
                    "default": [],
                    "items": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                },
                "DefaultArea": {
                    "type": "string",
                    "description": "默认区域",
                    "default": ""
                },
                "ForceWithRoutePrefix": {
                    "type": "boolean",
                    "description": "强制携带路由前缀，即使使用 [Route] 重写",
                    "default": false
                }
            }
        },
        "FriendlyExceptionSettings": {
            "type": "object",
            "description": "友好异常配置选项",
            "properties": {
                "HideErrorCode": {
                    "type": "boolean",
                    "description": "隐藏错误码",
                    "default": false
                },
                "DefaultErrorCode": {
                    "type": "string",
                    "description": "默认错误码",
                    "default": ""
                },
                "DefaultErrorMessage": {
                    "type": "string",
                    "description": "默认错误消息",
                    "default": "Internal Server Error"
                }
            }
        },
        "ErrorCodeMessageSettings": {
            "type": "object",
            "description": "异常配置选项，最优的方式是采用后期配置，也就是所有异常状态码先不设置（推荐）",
            "properties": {
                "Definitions": {
                    "type": "array",
                    "description": "异常状态码配置列表",
                    "default": [],
                    "items": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    }
}